  [1m[35m (71.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-06 13:28:24.982506"], ["updated_at", "2017-09-06 13:28:24.982506"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-06 16:33:53 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (300.0ms)
Completed 500 Internal Server Error in 2646ms (ActiveRecord: 3.6ms)


  
ActionView::Template::Error (The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.):
    11: 
    12:     <!-- For third-generation iPad with high-resolution Retina display: -->
    13:     <!-- Size should be 144 x 144 pixels -->
    14:     <%= favicon_link_tag 'apple-touch-icon-144x144-precomposed.png', :rel => 'apple-touch-icon-precomposed', :type => 'image/png', :sizes => '144x144' %>
    15: 
    16:     <!-- For iPhone with high-resolution Retina display: -->
    17:     <!-- Size should be 114 x 114 pixels -->
  
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb__3632170636813338694_27792540'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:34:28 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.6ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.):
    11: 
    12:     <!-- For third-generation iPad with high-resolution Retina display: -->
    13:     <!-- Size should be 144 x 144 pixels -->
    14:     <%= favicon_link_tag 'apple-touch-icon-144x144-precomposed.png', :rel => 'apple-touch-icon-precomposed', :type => 'image/png', :sizes => '144x144' %>
    15: 
    16:     <!-- For iPhone with high-resolution Retina display: -->
    17:     <!-- Size should be 114 x 114 pixels -->
  
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb__3632170636813338694_24703480'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:45:03 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 74ms (Views: 73.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:47:45 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.):
    11: 
    12:       <!-- For third-generation iPad with high-resolution Retina display: -->
    13:     <!-- Size should be 144 x 144 pixels -->
    14:     <%= favicon_link_tag 'apple-touch-icon-144x144-precomposed.png', :rel => 'apple-touch-icon-precomposed', :type => 'image/png', :sizes => '144x144' %>
    15: 
    16:     <!-- For iPhone with high-resolution Retina display: -->
    17:     <!-- Size should be 114 x 114 pixels -->
  
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb__3632170636813338694_69861521090060'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:52:10 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.):
    12:     
    13:     <!-- For iPhone with high-resolution Retina display: -->
    14:     <!-- Size should be 114 x 114 pixels -->
    15:     <%= favicon_link_tag 'apple-touch-icon-114x114-precomposed.png', :rel => 'apple-touch-icon-precomposed', :type => 'image/png', :sizes => '114x114' %>
    16: 
    17:     <!-- For first- and second-generation iPad: -->
    18:     <!-- Size should be 72 x 72 pixels -->
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb__3632170636813338694_69861470080420'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:52:26 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.2ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The asset "favicon.ico" is not present in the asset pipeline.):
    12:   
    13:     <!-- For all other devices -->
    14:     <!-- Size should be 32 x 32 pixels -->
    15:     <%= favicon_link_tag 'favicon.ico', :rel => 'shortcut icon' %>
    16: 
    17:     <%= javascript_include_tag "application" %>
    18: 
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb__3632170636813338694_69861535574520'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-06 16:52:46 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (36.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (193.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "rating" float, "status" integer, "source" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (54.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (228.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_development"[0m
  [1m[35m (147.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_test"[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "user_id" integer, "rating" float, "source" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "user_id" integer DEFAULT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-07 14:47:20.674456"], ["updated_at", "2017-09-07 14:47:20.674456"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (154.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_development"[0m
  [1m[35m (107.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_test"[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "user_id" integer, "rating" float, "source" character varying, "status" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "user_id" integer DEFAULT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-07 14:53:22.846365"], ["updated_at", "2017-09-07 14:53:22.846365"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToUsers (20170907145344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907145344"]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tyagelsky@example.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tyagelsky@example.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (140.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_development"[0m
  [1m[35m (128.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_test"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "user_id" integer, "rating" float, "source" character varying, "status" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (20170907145344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.1ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907145344"]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-07 15:02:08.765818"], ["updated_at", "2017-09-07 15:02:08.765818"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "example@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lalal@la.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNameToUsers (20170907150707)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907150707"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-07 18:20:19 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (99.2ms)
Completed 200 OK in 641ms (Views: 614.8ms | ActiveRecord: 3.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-07 18:20:32 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 80ms (Views: 79.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-07 18:21:55 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.2ms)
Completed 200 OK in 42ms (Views: 3.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-07 18:21:56 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.4ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-07 18:22:04 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (41.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBattleToPhotos (20170908123928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "photo" ADD "count_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBattleToPhotos (20170908123928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.3ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_win_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_loose_battles" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170908123928"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (29.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (142.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_development"[0m
  [1m[35m (108.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_test"[0m
  [1m[35m (21.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "user_id" integer, "rating" float, "source" character varying, "status" integer, "battle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "photo_winner" integer, "photo_looser" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (20170907145344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.5ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907145344"]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToUsers (20170907150707)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907150707"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBattleToPhotos (20170908123928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_win_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_loose_battles" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170908123928"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-10 14:54:11.037636"], ["updated_at", "2017-09-10 14:54:11.037636"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (137.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_development"[0m
  [1m[35m (109.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "facemash_test"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170906131656)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906131656"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170906140205)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "user_id" integer, "rating" float, "source" character varying, "status" integer, "battle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140205"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBattles (20170906140229)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "battles" ("id" bigserial primary key, "photo_winner" integer, "photo_looser" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170906140229"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (20170907145344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (55.9ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907145344"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToUsers (20170907150707)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170907150707"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBattleToPhotos (20170908123928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_battles" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_win_battles" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "count_loose_battles" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170908123928"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-12 10:42:02.515000"], ["updated_at", "2017-09-12 10:42:02.515000"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (19.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (12.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$11$RVZj3KwyPVQb94hGJ6VY1.BmI5tYXO38RrtDRE0bQpkJ7vGSvpNrm"], ["created_at", "2017-09-14 22:34:51.249791"], ["updated_at", "2017-09-14 22:34:51.249791"], ["name", "Rick"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-09-16 15:13:21 +0300
  [1m[35m (19.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.1.3) lib/active_record/migration.rb:576:in `check_pending!'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-16 15:14:44 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.8ms)
Completed 200 OK in 28ms (Views: 5.6ms | ActiveRecord: 0.0ms)


Started GET "/sign_in" for 127.0.0.1 at 2017-09-16 15:15:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/sign_in"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 15:15:47 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (25.8ms)
Completed 200 OK in 8891ms (Views: 8864.6ms | ActiveRecord: 3.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 15:18:44 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 507ms (Views: 482.0ms | ActiveRecord: 3.6ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 15:19:02 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Thhx6LGyTn0oyyr9R3owX2Fa0UGb3Aq5bCvVogJjKqbZhWIg1EYPn3xdvXknpyu6P9uICfgqJ8ak5w4EJ8rehA==", "user"=>{"name"=>"Ivan", "email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: :name
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (28.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 296ms (Views: 88.6ms | ActiveRecord: 29.0ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 15:19:14 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PhcvLDav0Ss1rVMEiX85kG8GzrprekXAlyzyq5jMKgJ17BRgYAx4mCNZ4gTx7JfnaAkHXUhDABT93HEBPgDGVg==", "user"=>{"name"=>"ivan", "email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: :name
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 245ms (Views: 99.4ms | ActiveRecord: 0.8ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 15:19:28 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eJUVBcGsMQck2n3bAzMKtwazpPeeP8yNot61iAFmqmwzbi5Jlw+YtDIuzNt7oKTAAbxtEL0GiVnILjYip6pGOA==", "user"=>{"name"=>"qweqwe", "email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: :name
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 237ms (Views: 90.3ms | ActiveRecord: 0.8ms)


Started GET "/users" for 127.0.0.1 at 2017-09-16 15:20:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 15:20:06 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 120ms (Views: 102.0ms | ActiveRecord: 3.3ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 15:20:19 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"078OEEPd27lrkdboGlMNa5B+Kgq0+uRF60bGHInQmc2YRDVcFX5yCn1lZ+hiwKMcl3Hj7ZfDoZGBtkW2Lxx1mQ==", "user"=>{"name"=>"", "email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
Unpermitted parameter: :name
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "ivanfadeev91@gmail.com"], ["encrypted_password", "$2a$11$8w5mALDnLfh6.avmx2xZEe3tirX7MaGKkr1BhRY7scHMbn7SD5Iqu"], ["created_at", "2017-09-16 12:20:19.494296"], ["updated_at", "2017-09-16 12:20:19.494296"]]
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-16 12:20:19.531045"], ["last_sign_in_at", "2017-09-16 12:20:19.531045"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-16 12:20:19.531777"], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 38.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:20:19 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 15:22:34 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:22:34 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.5ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 15:22:43 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:22:43 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.5ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 15:22:51 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:22:51 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.3ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:24:37 +0300
Processing by Admin::DashboardController#index as HTML
Completed 500 Internal Server Error in 124ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authenticate_current_user!' for #<Admin::DashboardController:0x0000000631cc38>
Did you mean?  authenticate_user!
               authenticate_admin_user!):
  
activeadmin (1.1.0) lib/active_admin/base_controller.rb:39:in `authenticate_active_admin_user'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:25:17 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (519.6ms)
Completed 200 OK in 554ms (Views: 525.0ms | ActiveRecord: 4.2ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 12:27:49.036161"], ["id", 2]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 1], ["updated_at", "2017-09-16 12:30:22.155401"], ["id", 2]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 12:30:42.691346"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 0], ["updated_at", "2017-09-16 12:31:04.988954"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 1], ["updated_at", "2017-09-16 12:31:57.266221"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 0], ["updated_at", "2017-09-16 12:32:03.207331"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2017-09-16 15:41:04 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.5ms)
Completed 200 OK in 12ms (Views: 5.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:41:10 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (488.3ms)
Completed 200 OK in 520ms (Views: 491.1ms | ActiveRecord: 5.7ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-09-16 15:41:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:44:07 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:44:08 +0300
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 12:44:41.324156"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:44:53 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (436.8ms)
Completed 200 OK in 444ms (Views: 440.1ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 15:44:58 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PomHiMueF1VYjuBfKeShc3T86rQ0Eyb8IXfvTCoQazd1crzEnT2+5k56UV9Rdw8Ec/MjUxcqYyhLh2zmjNyHYw=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:44:58 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2017-09-16 15:51:47 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (3.3ms)
Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 15:51:53 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 340ms (Views: 314.1ms | ActiveRecord: 2.9ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 15:51:58 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 155ms (Views: 154.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 15:52:08 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K3StyuUNDbq9D/YJrnyqCeHz1gulkepCwqYZCUC3/tPETd3o5y/5v5owM8zkUPE36se8yKoehE0Buw9CdK+dsg==", "user"=>{"name"=>"Ivan", "email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "ivanfadeev91@gmail.com"], ["encrypted_password", "$2a$11$HCMA.Grc7czQtVswKso28.wZPels3L82twlK5TNSCNVkOS0bVd8wa"], ["created_at", "2017-09-16 12:52:08.871338"], ["updated_at", "2017-09-16 12:52:08.871338"], ["name", "Ivan"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-16 12:52:08.875620"], ["last_sign_in_at", "2017-09-16 12:52:08.875620"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-16 12:52:08.876241"], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 183ms (ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 15:52:08 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.9ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-09-16 15:54:18 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (3.0ms)
Completed 200 OK in 13ms (Views: 6.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 12:54:40.190590"], ["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/admin" for 127.0.0.1 at 2017-09-16 15:54:46 +0300
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (401.3ms)
Completed 200 OK in 410ms (Views: 404.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 15:55:00 +0300
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::UsersController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (12.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (194.4ms)
Completed 200 OK in 251ms (Views: 185.7ms | ActiveRecord: 13.4ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-09-16 16:04:44 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/railties-5.1.3/lib/rails/templates/rails/welcome/index.html.erb (2.8ms)
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:04:51 +0300
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:06:27 +0300
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (3820.5ms)
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (575.0ms)
Completed 200 OK in 100323ms (Views: 3830.2ms | ActiveRecord: 0.0ms)


Completed 200 OK in 3593ms (Views: 579.4ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:06:45 +0300
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (77.3ms)
Completed 200 OK in 3509ms (Views: 79.4ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:06:51 +0300
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (78.7ms)
Completed 200 OK in 2411ms (Views: 82.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:07:01 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by Admin::DashboardController#index as HTML
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (359.2ms)
Completed 200 OK in 368ms (Views: 364.0ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:12:50 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (441.7ms)
Completed 200 OK in 476ms (Views: 445.5ms | ActiveRecord: 4.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:17:33 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:17:33 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 583ms (Views: 581.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:18:25 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 107ms (Views: 105.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 16:18:34 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:18:34 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 89ms (Views: 87.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:18:36 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 102ms (Views: 100.1ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:18:41 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:18:41 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:18:42 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:18:42 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:18:42 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)


Completed 200 OK in 109ms (Views: 108.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:18:42 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 100ms (Views: 99.0ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:23:16 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 379ms (Views: 377.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:19 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 107ms (Views: 105.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:20 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 91ms (Views: 89.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:20 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 92ms (Views: 90.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 99ms (Views: 94.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:23:24 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:23:25 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:23:25 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:23:25 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 105ms (Views: 103.5ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-09-16 16:24:36 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 417ms (Views: 409.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:24:41 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (81.0ms)
Completed 200 OK in 122ms (Views: 83.1ms | ActiveRecord: 4.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:25:08 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 28ms (ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:25:08 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 89ms (Views: 87.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:25:35 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 96ms (Views: 94.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:25:44 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (82.2ms)
Completed 200 OK in 104ms (Views: 84.3ms | ActiveRecord: 3.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:25:53 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (80.4ms)
Completed 200 OK in 115ms (Views: 82.5ms | ActiveRecord: 3.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:25:55 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (131.1ms)
Completed 200 OK in 142ms (Views: 133.9ms | ActiveRecord: 2.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:26:04 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (114.0ms)
Completed 200 OK in 151ms (Views: 116.2ms | ActiveRecord: 4.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:26:20 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (102.8ms)
Completed 200 OK in 145ms (Views: 105.4ms | ActiveRecord: 4.9ms)


Started GET "/admin/users/3" for 127.0.0.1 at 2017-09-16 16:26:25 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (154.1ms)
Completed 500 Internal Server Error in 167ms (ActiveRecord: 57.6ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  отношение "active_admin_comments" не существует
LINE 8:                WHERE a.attrelid = '"active_admin_comments"':...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,
                     c.collname, col_description(a.attrelid, a.attnum) AS comment
                FROM pg_attribute a
                LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
                LEFT JOIN pg_type t ON a.atttypid = t.oid
                LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation
               WHERE a.attrelid = '"active_admin_comments"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum
):
    1: insert_tag renderer_for(:show)
  
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:61:in `async_exec'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:61:in `block (2 levels) in query'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:60:in `block in query'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:59:in `query'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:763:in `column_definitions'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:166:in `columns'
activerecord (5.1.3) lib/active_record/connection_adapters/schema_cache.rb:67:in `columns'
activerecord (5.1.3) lib/active_record/connection_adapters/schema_cache.rb:73:in `columns_hash'
activerecord (5.1.3) lib/active_record/model_schema.rb:471:in `load_schema!'
activerecord (5.1.3) lib/active_record/attributes.rb:233:in `load_schema!'
activerecord (5.1.3) lib/active_record/attribute_decorators.rb:50:in `load_schema!'
activerecord (5.1.3) lib/active_record/model_schema.rb:464:in `block in load_schema'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
activerecord (5.1.3) lib/active_record/model_schema.rb:461:in `load_schema'
activerecord (5.1.3) lib/active_record/model_schema.rb:353:in `attribute_types'
activerecord (5.1.3) lib/active_record/model_schema.rb:376:in `type_for_attribute'
activerecord (5.1.3) lib/active_record/table_metadata.rb:32:in `type'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:168:in `build_bind_param'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:114:in `block in create_binds_for_hash'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:89:in `each'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:89:in `create_binds_for_hash'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:34:in `create_binds'
activerecord (5.1.3) lib/active_record/relation/where_clause_factory.rb:21:in `build'
activerecord (5.1.3) lib/active_record/relation/query_methods.rb:612:in `where!'
activerecord (5.1.3) lib/active_record/relation/query_methods.rb:605:in `where'
activerecord (5.1.3) lib/active_record/querying.rb:10:in `where'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/comment.rb:19:in `find_for_resource_in_namespace'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/views/active_admin_comments.rb:15:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_comments_for'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/show_page_helper.rb:18:in `active_admin_comments'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/show_page_helper.rb:12:in `default_main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/show.rb:23:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_show_html_arb__2496438411516975678_70027701441480'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_show_html_arb__2496438411516975678_70027701441480'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:13:in `show'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:27:08 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (458.3ms)
Completed 200 OK in 502ms (Views: 463.2ms | ActiveRecord: 5.6ms)


Started GET "/admin/users/3" for 127.0.0.1 at 2017-09-16 16:27:11 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (93.6ms)
Completed 200 OK in 103ms (Views: 97.1ms | ActiveRecord: 0.9ms)


Started GET "/admin/users/3" for 127.0.0.1 at 2017-09-16 16:27:58 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (475.1ms)
Completed 500 Internal Server Error in 514ms (ActiveRecord: 6.0ms)


  
ActionView::Template::Error (PG::UndefinedTable: ОШИБКА:  отношение "active_admin_comments" не существует
LINE 8:                WHERE a.attrelid = '"active_admin_comments"':...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,
                     c.collname, col_description(a.attrelid, a.attnum) AS comment
                FROM pg_attribute a
                LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
                LEFT JOIN pg_type t ON a.atttypid = t.oid
                LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation
               WHERE a.attrelid = '"active_admin_comments"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum
):
    1: insert_tag renderer_for(:show)
  
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:61:in `async_exec'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:61:in `block (2 levels) in query'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:60:in `block in query'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql/database_statements.rb:59:in `query'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:763:in `column_definitions'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract_adapter.rb:166:in `columns'
activerecord (5.1.3) lib/active_record/connection_adapters/schema_cache.rb:67:in `columns'
activerecord (5.1.3) lib/active_record/connection_adapters/schema_cache.rb:73:in `columns_hash'
activerecord (5.1.3) lib/active_record/model_schema.rb:471:in `load_schema!'
activerecord (5.1.3) lib/active_record/attributes.rb:233:in `load_schema!'
activerecord (5.1.3) lib/active_record/attribute_decorators.rb:50:in `load_schema!'
activerecord (5.1.3) lib/active_record/model_schema.rb:464:in `block in load_schema'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
activerecord (5.1.3) lib/active_record/model_schema.rb:461:in `load_schema'
activerecord (5.1.3) lib/active_record/model_schema.rb:353:in `attribute_types'
activerecord (5.1.3) lib/active_record/model_schema.rb:376:in `type_for_attribute'
activerecord (5.1.3) lib/active_record/table_metadata.rb:32:in `type'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:168:in `build_bind_param'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:114:in `block in create_binds_for_hash'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:89:in `each'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:89:in `create_binds_for_hash'
activerecord (5.1.3) lib/active_record/relation/predicate_builder.rb:34:in `create_binds'
activerecord (5.1.3) lib/active_record/relation/where_clause_factory.rb:21:in `build'
activerecord (5.1.3) lib/active_record/relation/query_methods.rb:612:in `where!'
activerecord (5.1.3) lib/active_record/relation/query_methods.rb:605:in `where'
activerecord (5.1.3) lib/active_record/querying.rb:10:in `where'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/comment.rb:19:in `find_for_resource_in_namespace'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/views/active_admin_comments.rb:15:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_comments_for'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/show_page_helper.rb:18:in `active_admin_comments'
activeadmin (1.1.0) lib/active_admin/orm/active_record/comments/show_page_helper.rb:12:in `default_main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/show.rb:23:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_show_html_arb___478510234777693390_49216660'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/show.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_show_html_arb___478510234777693390_49216660'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:13:in `show'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/users/3" for 127.0.0.1 at 2017-09-16 16:28:27 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (451.8ms)
Completed 200 OK in 493ms (Views: 456.9ms | ActiveRecord: 4.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:28:34 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (130.2ms)
Completed 200 OK in 161ms (Views: 134.3ms | ActiveRecord: 2.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:28:44 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (100.8ms)
Completed 200 OK in 134ms (Views: 103.2ms | ActiveRecord: 3.9ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:28:56 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:28:56 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 106ms (Views: 104.2ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:29:07 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (88.8ms)
Completed 200 OK in 122ms (Views: 91.4ms | ActiveRecord: 3.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:29:09 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (101.5ms)
Completed 200 OK in 109ms (Views: 104.2ms | ActiveRecord: 1.5ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:29:11 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (141.4ms)
Completed 200 OK in 150ms (Views: 145.3ms | ActiveRecord: 0.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:29:15 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (121.7ms)
Completed 200 OK in 132ms (Views: 125.1ms | ActiveRecord: 1.7ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:30:12 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (107.2ms)
Completed 200 OK in 152ms (Views: 111.5ms | ActiveRecord: 3.1ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:30:14 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (84.1ms)
Completed 200 OK in 98ms (Views: 90.7ms | ActiveRecord: 1.3ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:30:30 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (88.8ms)
Completed 200 OK in 127ms (Views: 92.0ms | ActiveRecord: 4.2ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:31:05 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (92.7ms)
Completed 200 OK in 133ms (Views: 96.0ms | ActiveRecord: 3.7ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:31:13 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (89.0ms)
Completed 200 OK in 130ms (Views: 92.5ms | ActiveRecord: 3.6ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:31:26 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (91.8ms)
Completed 200 OK in 138ms (Views: 95.8ms | ActiveRecord: 3.8ms)


Started GET "/admin/users/3/edit" for 127.0.0.1 at 2017-09-16 16:31:43 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (507.5ms)
Completed 200 OK in 546ms (Views: 513.3ms | ActiveRecord: 4.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:32:24 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (22990.6ms)
Completed 200 OK in 23023ms (Views: 22992.7ms | ActiveRecord: 4.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:33:17 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (118.3ms)
Completed 200 OK in 153ms (Views: 121.3ms | ActiveRecord: 4.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:33:18 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (115.5ms)
Completed 200 OK in 125ms (Views: 117.7ms | ActiveRecord: 3.4ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:33:31 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (90.0ms)
Completed 200 OK in 96ms (Views: 94.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:34:56 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (367.1ms)
Completed 200 OK in 403ms (Views: 371.8ms | ActiveRecord: 3.5ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:34:57 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (109.6ms)
Completed 200 OK in 118ms (Views: 114.7ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:35:01 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (122.8ms)
Completed 200 OK in 139ms (Views: 125.2ms | ActiveRecord: 1.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 16:35:06 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vxvkdI81atq4lMnh7K+TMkD4zcczr/Bj+JZQVNkufeRQIpRWjRee35+rDCSmg8gMS8ynBDwgnmw7i0Yf7TYehQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:35:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 98ms (Views: 96.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:35:17 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 16:35:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 114ms (Views: 112.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-16 16:35:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t0W1BvlVS/JR1qKi/JRIF3sJTnkyuWB2pxLya3muUzi0drXwTBaKVcfBYrPNVJjgT+fJvcBukCOgtIaDFc7/RQ==", "user"=>{"email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-09-16 13:35:25.988542"], ["sign_in_count", 2], ["updated_at", "2017-09-16 13:35:25.989471"], ["id", 3]]
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 227ms (ActiveRecord: 23.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:35:26 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (93.1ms)
Completed 200 OK in 98ms (Views: 95.4ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:35:28 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (110.1ms)
Completed 200 OK in 121ms (Views: 113.2ms | ActiveRecord: 1.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 16:36:49 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:36:49 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 92ms (Views: 91.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:36:54 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 90ms (Views: 88.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:36:57 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (85.0ms)
Completed 200 OK in 110ms (Views: 87.7ms | ActiveRecord: 4.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:38:51 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:38:51 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 422ms (Views: 421.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:39:37 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 404ms (Views: 396.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 16:39:39 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 4.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:39:47 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `new' for Admin:Module):
  
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:31:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:15:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:38:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:54:in `authorize!'
activeadmin (1.1.0) lib/active_admin/page_controller.rb:25:in `authorize_access!'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:39:48 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `new' for Admin:Module):
  
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:31:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:15:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:38:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:54:in `authorize!'
activeadmin (1.1.0) lib/active_admin/page_controller.rb:25:in `authorize_access!'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:41:33 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 4.0ms)


  
NoMethodError (undefined method `new' for Admin:Module):
  
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:31:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:15:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:38:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:54:in `authorize!'
activeadmin (1.1.0) lib/active_admin/page_controller.rb:25:in `authorize_access!'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:41:57 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (387.8ms)
Completed 200 OK in 427ms (Views: 393.1ms | ActiveRecord: 4.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:42:42 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (379.4ms)
Completed 200 OK in 418ms (Views: 384.2ms | ActiveRecord: 4.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:42:43 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (117.7ms)
Completed 200 OK in 127ms (Views: 121.5ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:45:58 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:45:58 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 139ms (Views: 137.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:13 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (84.3ms)
Completed 200 OK in 119ms (Views: 87.8ms | ActiveRecord: 4.0ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:14 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (98.3ms)
Completed 200 OK in 106ms (Views: 103.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:16 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.6ms)
Completed 200 OK in 101ms (Views: 95.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:19 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (76.5ms)
Completed 200 OK in 112ms (Views: 78.6ms | ActiveRecord: 3.9ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:29 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (82.4ms)
Completed 200 OK in 115ms (Views: 84.4ms | ActiveRecord: 3.7ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:30 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (74.8ms)
Completed 200 OK in 80ms (Views: 76.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:30 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (76.2ms)
Completed 200 OK in 81ms (Views: 78.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:46:30 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (83.7ms)
Completed 200 OK in 89ms (Views: 86.1ms | ActiveRecord: 0.5ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-16 16:47:45 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (79.9ms)
Completed 200 OK in 116ms (Views: 82.2ms | ActiveRecord: 3.8ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-16 16:47:47 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (15.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (1.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (177.6ms)
Completed 200 OK in 203ms (Views: 163.2ms | ActiveRecord: 32.3ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-16 16:47:51 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (145.8ms)
Completed 200 OK in 163ms (Views: 149.1ms | ActiveRecord: 1.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-16 16:51:33 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 37ms (ActiveRecord: 3.5ms)


  
NameError (uninitialized constant AdminAbility):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:30:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:23:in `scope_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:196:in `apply_authorization_scope'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:59:in `block in find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `each'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:44:in `collection'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:7:in `index'
activeadmin (1.1.0) lib/active_admin/resource_controller/streaming.rb:12:in `index'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/photos" for 127.0.0.1 at 2017-09-16 16:52:20 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:52:20 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 476ms (Views: 474.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:52:28 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (96.6ms)
Completed 200 OK in 102ms (Views: 99.0ms | ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:53:04 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (81.4ms)
Completed 200 OK in 113ms (Views: 84.1ms | ActiveRecord: 2.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:53:04 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (81.3ms)
Completed 200 OK in 86ms (Views: 83.4ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:53:05 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (88.5ms)
Completed 200 OK in 96ms (Views: 92.4ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:55:34 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 33ms (ActiveRecord: 3.0ms)


  
NameError (uninitialized constant ActiveAdminAbility):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:30:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:15:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:38:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:54:in `authorize!'
activeadmin (1.1.0) lib/active_admin/page_controller.rb:25:in `authorize_access!'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:56:02 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.5ms)


  
NameError (uninitialized constant ActiveAdminAbility):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:30:in `initialize_cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:19:in `cancan_ability'
activeadmin (1.1.0) lib/active_admin/cancan_adapter.rb:15:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:38:in `authorized?'
activeadmin (1.1.0) lib/active_admin/base_controller/authorization.rb:54:in `authorize!'
activeadmin (1.1.0) lib/active_admin/page_controller.rb:25:in `authorize_access!'
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:56:14 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (438.0ms)
Completed 200 OK in 473ms (Views: 441.7ms | ActiveRecord: 3.9ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:58:22 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 16:58:22 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 101ms (Views: 100.4ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:58:36 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.2ms)
Completed 200 OK in 122ms (Views: 93.3ms | ActiveRecord: 2.9ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 1], ["updated_at", "2017-09-16 13:59:13.413061"], ["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:59:16 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (87.9ms)
Completed 200 OK in 122ms (Views: 90.6ms | ActiveRecord: 3.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:59:48 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (78.6ms)
Completed 200 OK in 115ms (Views: 80.8ms | ActiveRecord: 3.2ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:59:49 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (83.0ms)
Completed 200 OK in 88ms (Views: 84.9ms | ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:59:49 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (72.1ms)
Completed 200 OK in 76ms (Views: 74.0ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 16:59:49 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (80.9ms)
Completed 200 OK in 85ms (Views: 82.7ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:00:08 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (83.0ms)
Completed 200 OK in 119ms (Views: 85.2ms | ActiveRecord: 2.6ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 14:00:21.478332"], ["id", 3]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:00:22 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (79.1ms)
Completed 200 OK in 85ms (Views: 82.2ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:00:56 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.6ms)
Completed 200 OK in 133ms (Views: 93.7ms | ActiveRecord: 3.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:00:58 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (80.2ms)
Completed 200 OK in 86ms (Views: 82.2ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:01:39 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (93.3ms)
Completed 200 OK in 140ms (Views: 96.3ms | ActiveRecord: 3.8ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-16 17:01:42 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_winner" FROM "battles" ORDER BY photo_winner asc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_looser" FROM "battles" ORDER BY photo_looser asc[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.9ms)
Completed 200 OK in 132ms (Views: 118.7ms | ActiveRecord: 6.0ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-16 17:01:44 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (123.8ms)
Completed 200 OK in 136ms (Views: 127.5ms | ActiveRecord: 2.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 17:01:45 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (124.7ms)
Completed 200 OK in 134ms (Views: 128.0ms | ActiveRecord: 1.4ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-16 17:04:41 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.8ms)
Completed 200 OK in 174ms (Views: 120.1ms | ActiveRecord: 6.5ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-16 17:04:43 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (135.9ms)
Completed 200 OK in 152ms (Views: 139.0ms | ActiveRecord: 0.8ms)


Started POST "/admin/photos" for 127.0.0.1 at 2017-09-16 17:05:26 +0300
Processing by Admin::PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OferKLQ+Po04ihmoeT0+tr+NQxbWKIbunzcNOp1sFUWN7yERF7C70n6Bw8pDwvYCJEEfPoRUCbF6atzudbOHaw==", "photo"=>{"user_id"=>"3", "rating"=>"1300", "source"=>#<ActionDispatch::Http::UploadedFile:0x007f8d2cdec4f0 @tempfile=#<Tempfile:/tmp/RackMultipart20170916-22901-1acm2ul.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "status"=>"created", "count_battles"=>"1", "count_win_battles"=>"1", "count_loose_battles"=>"0"}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
activemodel (5.1.3) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
activemodel (5.1.3) lib/active_model/attribute_assignment.rb:33:in `assign_attributes'
activerecord (5.1.3) lib/active_record/core.rb:337:in `initialize'
activerecord (5.1.3) lib/active_record/inheritance.rb:66:in `new'
activerecord (5.1.3) lib/active_record/inheritance.rb:66:in `new'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:130:in `build_new_resource'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:116:in `build_resource'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:31:in `create'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/admin/photos" for 127.0.0.1 at 2017-09-16 17:07:55 +0300
Processing by Admin::PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OferKLQ+Po04ihmoeT0+tr+NQxbWKIbunzcNOp1sFUWN7yERF7C70n6Bw8pDwvYCJEEfPoRUCbF6atzudbOHaw==", "photo"=>{"user_id"=>"3", "rating"=>"1300", "source"=>#<ActionDispatch::Http::UploadedFile:0x007f8d2c4785b8 @tempfile=#<Tempfile:/tmp/RackMultipart20170916-22901-14cdgh0.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "status"=>"created", "count_battles"=>"1", "count_win_battles"=>"1", "count_loose_battles"=>"0"}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "rating", "source", "status", "created_at", "updated_at", "count_battles", "count_win_battles", "count_loose_battles") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["user_id", 3], ["rating", 1300.0], ["source", "img3.jpg"], ["status", 0], ["created_at", "2017-09-16 14:07:55.883195"], ["updated_at", "2017-09-16 14:07:55.883195"], ["count_battles", 1], ["count_win_battles", 1], ["count_loose_battles", 0]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/photos/1
Completed 302 Found in 160ms (ActiveRecord: 8.2ms)


Started GET "/admin/photos/1" for 127.0.0.1 at 2017-09-16 17:07:55 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (154.7ms)
Completed 200 OK in 162ms (Views: 157.7ms | ActiveRecord: 0.9ms)


  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."status" = $1 LIMIT $2[0m  [["status", 0], ["LIMIT", 11]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."status" = $1 LIMIT $2[0m  [["status", 2], ["LIMIT", 11]]
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 17:17:18 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"OferKLQ+Po04ihmoeT0+tr+NQxbWKIbunzcNOp1sFUWN7yERF7C70n6Bw8pDwvYCJEEfPoRUCbF6atzudbOHaw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:17:18 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 478ms (Views: 477.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:17:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 106ms (Views: 104.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:17:55 +0300
Processing by HomeController#index as HTML
Completed 500 Internal Server Error in 100ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `can' for #<HomeController:0x007fef4449a620>
Did you mean?  can?):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:18:30 +0300
Processing by HomeController#index as HTML
Completed 500 Internal Server Error in 109437ms (ActiveRecord: 2.9ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:20:30 +0300
Processing by HomeController#index as HTML
Completed 500 Internal Server Error in 12051ms (ActiveRecord: 3.8ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 17:20:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 112ms (Views: 110.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-16 17:20:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"k4Ub9bpyq7H0TzzLq+IsVVfOjtoKeL4xDRsydU8P87V7/YiqeoNQJcJxlIXlZjxky9b/mGskZ7C6eBhvF+S2CA==", "user"=>{"email"=>"ivanfadeev91@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "ivanfadeev91@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-16 14:20:57.502939"], ["last_sign_in_at", "2017-09-16 13:35:25.988542"], ["sign_in_count", 3], ["updated_at", "2017-09-16 14:20:57.503963"], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:20:57 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13487ms (ActiveRecord: 0.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:21:51 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:21:57 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:23:01 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:23:02 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/home_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:23:14 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 120ms (Views: 101.5ms | ActiveRecord: 3.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 17:27:58 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (131.5ms)
Completed 200 OK in 145ms (Views: 133.9ms | ActiveRecord: 1.5ms)


Started GET "/admin/users/new" for 127.0.0.1 at 2017-09-16 17:28:09 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (100.0ms)
Completed 200 OK in 107ms (Views: 103.4ms | ActiveRecord: 0.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 17:28:16 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"A3Z69KSONdisCANAYb4cUCqQSkgXJLUW9ZLcAdFZY9nXg9435xst6U+NOUwTfsClrP/uPsKZ88cW3bsEGfwxCA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:28:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 104ms (Views: 103.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 17:28:24 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 94ms (Views: 93.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 17:28:26 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 125ms (Views: 124.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 17:28:49 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Cuu67Mbo9JaHkKzZc4S2mL5cjNvXMJq67FlON9kpqTTFGz2bV3HLnDNxu1JeJrkRXNUysBqDApC543BYT53U7Q==", "user"=>{"name"=>"Yarik", "email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tyagelsky@yandex.ru"], ["encrypted_password", "$2a$11$I3uMyMusAzZR7E0bkjbaK.epqGIQktvQlQBR15PwTCchdHcLF9z/W"], ["created_at", "2017-09-16 14:28:49.534571"], ["updated_at", "2017-09-16 14:28:49.534571"], ["name", "Yarik"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-16 14:28:49.543283"], ["last_sign_in_at", "2017-09-16 14:28:49.543283"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-16 14:28:49.543913"], ["id", 4]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 164ms (ActiveRecord: 10.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:28:49 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 97ms (Views: 93.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-16 14:29:46.576125"], ["id", 4]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2017-09-16 17:29:52 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 106ms (Views: 100.2ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:29:56 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (76.1ms)
Completed 200 OK in 81ms (Views: 78.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 17:30:08 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (123.1ms)
Completed 200 OK in 131ms (Views: 125.7ms | ActiveRecord: 1.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:30:58 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.3ms)
Completed 200 OK in 95ms (Views: 93.2ms | ActiveRecord: 0.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 17:31:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"S+o1g6RfhDA2a9Czj55vHkklXkHOmyJkPeZEFJWLYWSEGrL0Nca7OoKKxziiPGCXq6zgKgMouk5oXHp7Az8cvQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:31:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 95ms (Views: 94.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 17:31:11 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 112ms (Views: 110.6ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-09-16 17:31:29 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pJRAuszW1rzHWSIrF2oF4+4gN0fdmeaZJiOJ66dzslx6zoKW6A3L9LWS9h/QGLLP2R0VQPUXPRsSV+jNzKA2sA==", "user"=>{"name"=>"uytuyt", "email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 241ms (Views: 94.9ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-16 17:31:44 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 130ms (Views: 129.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-16 17:31:52 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 97ms (Views: 95.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-16 17:31:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Br0ROJ4r2VyvtEKey/OVlcLQU1hvcL5EHWKeGAvVqjzY59MUuvDEFN1/lqoMgSK59e1xX0f+ZcYpFv8+YAYu0A==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-09-16 14:31:56.173882"], ["sign_in_count", 2], ["updated_at", "2017-09-16 14:31:56.174739"], ["id", 4]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:31:56 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 104ms (Views: 102.4ms | ActiveRecord: 0.3ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tester0@gmail.com"], ["encrypted_password", "$2a$11$8WvQjghpjfdmHUhOScGjB.bad1vNYOMYmRnEFeD5VPwNbMm2Fsiu2"], ["created_at", "2017-09-16 14:37:01.161300"], ["updated_at", "2017-09-16 14:37:01.161300"], ["name", "tester0"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester1@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tester1@gmail.com"], ["encrypted_password", "$2a$11$TntIkdCkaDE00v8IxeJCveRAHofNq.ahvAI5IYSd.HLRwPP1Vqsei"], ["created_at", "2017-09-16 14:37:01.296549"], ["updated_at", "2017-09-16 14:37:01.296549"], ["name", "tester1"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester2@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tester2@gmail.com"], ["encrypted_password", "$2a$11$Fui9Lcxn9Cux/aMgZjw1ye3F/bo688GIcU32oztVcgRyWteQzJoHu"], ["created_at", "2017-09-16 14:37:01.431588"], ["updated_at", "2017-09-16 14:37:01.431588"], ["name", "tester2"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester3@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tester3@gmail.com"], ["encrypted_password", "$2a$11$MQiQQWW7Ao0FEL4UfvldFu/8FnjDGbQovtUArbvS3Komv9McO0FAi"], ["created_at", "2017-09-16 14:37:01.564419"], ["updated_at", "2017-09-16 14:37:01.564419"], ["name", "tester3"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester4@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "tester4@gmail.com"], ["encrypted_password", "$2a$11$jqmI04ityB63wOsQXxTic.BeLjunGXj/mVai/J.Szx/lO8CqGZ1QG"], ["created_at", "2017-09-16 14:37:01.697881"], ["updated_at", "2017-09-16 14:37:01.697881"], ["name", "tester4"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester1@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester2@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester3@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester4@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/admin" for 127.0.0.1 at 2017-09-16 17:37:50 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (90.9ms)
Completed 200 OK in 98ms (Views: 92.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 17:37:52 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (115.0ms)
Completed 200 OK in 122ms (Views: 117.6ms | ActiveRecord: 1.4ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester1@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester2@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester3@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester4@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester0@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester1@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester1@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester2@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester2@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester3@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester3@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester4@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester4@gmail.com"], ["LIMIT", 1]]
Started GET "/admin/users/9" for 127.0.0.1 at 2017-09-16 17:41:28 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (98.9ms)
Completed 200 OK in 109ms (Views: 102.6ms | ActiveRecord: 0.9ms)


Started GET "/admin/users/9/edit" for 127.0.0.1 at 2017-09-16 17:41:31 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (94.6ms)
Completed 200 OK in 103ms (Views: 98.2ms | ActiveRecord: 1.0ms)


Started PATCH "/admin/users/9" for 127.0.0.1 at 2017-09-16 17:41:40 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XtXLk6lKuKvMRKVU5LR0RZagZkfcW2KEiOysFIEG25c9lCFJaFDhZjbRZIMm3BTPIBpoqVcgLmcraQiimrqp6Q==", "user"=>{"name"=>"tester4azaza", "email"=>"tester4@gmail.com"}, "commit"=>"Update User", "id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "name" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["name", "tester4azaza"], ["updated_at", "2017-09-16 14:41:40.047793"], ["id", 9]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/users/9
Completed 302 Found in 18ms (ActiveRecord: 2.7ms)


Started GET "/admin/users/9" for 127.0.0.1 at 2017-09-16 17:41:40 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (90.0ms)
Completed 200 OK in 96ms (Views: 93.3ms | ActiveRecord: 0.6ms)


Started DELETE "/admin/users/9" for 127.0.0.1 at 2017-09-16 17:41:47 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"KG5lekIcFHQhcHOxZ9RIpV9Qg90qZSr+Cidx4r4chRhLL4+ggwZNudvlsmalvCgv6eqNM6EeZh2potVUpaD3Zg==", "id"=>"9"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 19ms (ActiveRecord: 3.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-16 17:41:47 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (124.8ms)
Completed 200 OK in 131ms (Views: 127.2ms | ActiveRecord: 1.2ms)


Started GET "/admin/users?utf8=%E2%9C%93&q%5Bemail_contains%5D=%40&commit=Filter&order=id_desc" for 127.0.0.1 at 2017-09-16 17:42:10 +0300
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"email_contains"=>"@"}, "commit"=>"Filter", "order"=>"id_desc"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (32.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."email" ILIKE '%@%')[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."email" ILIKE '%@%') ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (161.5ms)
Completed 200 OK in 170ms (Views: 131.8ms | ActiveRecord: 33.8ms)


Started GET "/admin/users?utf8=%E2%9C%93&q%5Bemail_contains%5D=%40&commit=Filter&order=id_desc" for 127.0.0.1 at 2017-09-16 17:42:20 +0300
Processing by Admin::UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"email_contains"=>"@"}, "commit"=>"Filter", "order"=>"id_desc"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."email" ILIKE '%@%')[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" WHERE ("users"."email" ILIKE '%@%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."email" ILIKE '%@%') ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (109.4ms)
Completed 200 OK in 118ms (Views: 112.8ms | ActiveRecord: 1.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-16 17:45:04 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QtzZz80BKMAY0uqVLmO2x1dpl50a8i+NcSQ5eGp7G1YhnTMVDBtxDeJHK0LsC9ZN4dOZc5GJY27SoZ3OccdpKA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:45:04 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 101ms (Views: 100.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:45:57 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 88ms (Views: 85.8ms | ActiveRecord: 0.0ms)


Started POST "/" for 127.0.0.1 at 2017-09-16 17:46:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:46:20 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 92ms (Views: 90.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:46:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 106ms (Views: 103.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:46:26 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 89ms (Views: 86.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:47:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 111ms (Views: 109.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:49:17 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 126ms (Views: 123.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:49:40 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 152ms (Views: 150.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:50:42 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 92ms (Views: 89.1ms | ActiveRecord: 0.0ms)


Started POST "/" for 127.0.0.1 at 2017-09-16 17:50:44 +0300
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:51:50 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 108ms (Views: 104.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:52:33 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 97ms (Views: 95.5ms | ActiveRecord: 0.0ms)


Started POST "/" for 127.0.0.1 at 2017-09-16 17:52:37 +0300
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-16 17:55:11 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 113ms (Views: 98.1ms | ActiveRecord: 2.3ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 17:55:14 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
No template found for HomeController#ajax_test, rendering head :no_content
Completed 204 No Content in 49292ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 17:58:23 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 112ms (Views: 95.9ms | ActiveRecord: 2.5ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 17:58:26 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 406 Not Acceptable in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 17:58:35 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 17:58:40 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 406 Not Acceptable in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:00:09 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 111ms (Views: 94.2ms | ActiveRecord: 2.6ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 18:00:12 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:00:26 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 107ms (Views: 104.8ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 18:00:28 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:01:35 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 108ms (Views: 92.1ms | ActiveRecord: 2.9ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 18:01:39 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:01:43 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:02:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 112ms (Views: 109.6ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:02:08 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:02:21 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:02:23 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 106ms (Views: 103.4ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:02:25 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:03:18 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 92ms (Views: 91.1ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:03:21 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-16 18:03:29 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 104ms (Views: 102.0ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:03:31 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=1" for 127.0.0.1 at 2017-09-16 18:03:34 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/ajax_test?data_from_button=2" for 127.0.0.1 at 2017-09-16 18:03:37 +0300
Processing by HomeController#ajax_test as */*
  Parameters: {"data_from_button"=>"2"}
Completed 406 Not Acceptable in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 14:46:07 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 503ms (Views: 465.0ms | ActiveRecord: 10.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 14:46:17 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-17 14:46:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 99ms (Views: 97.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-17 14:46:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"k9Xr1t/O+5uUZ+4TiPEwMfAOGl9Aw+FqLURX5PamsuyB/G+HNpvuMnhPKcpSET0jUVLz8BIg8aDWmeDdWQuSgg==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-17 11:46:22.205957"], ["last_sign_in_at", "2017-09-16 14:31:56.173882"], ["sign_in_count", 3], ["updated_at", "2017-09-17 11:46:22.206750"], ["id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 194ms (ActiveRecord: 10.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 14:46:22 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (155.1ms)
Completed 200 OK in 169ms (Views: 158.6ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 14:46:26 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (129.0ms)
Completed 200 OK in 137ms (Views: 132.1ms | ActiveRecord: 1.7ms)


Started GET "/admin/users/8" for 127.0.0.1 at 2017-09-17 14:46:29 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (128.0ms)
Completed 200 OK in 141ms (Views: 134.3ms | ActiveRecord: 1.1ms)


Started GET "/admin/users/8/edit" for 127.0.0.1 at 2017-09-17 14:46:37 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (129.2ms)
Completed 200 OK in 138ms (Views: 134.1ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-17 14:46:52 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 14:50:08 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 133ms (Views: 130.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 14:50:23 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 174ms (Views: 169.6ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:11:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 243ms (Views: 241.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:12:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 120ms (Views: 118.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:12:19 +0300
  [1m[35m (12.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 929ms (Views: 922.0ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 15:12:24 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (101.6ms)
Completed 200 OK in 139ms (Views: 104.6ms | ActiveRecord: 3.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-17 15:12:26 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"aLHbucInHi9Fqay6rxWRRm6V6L+8IedZ4TXTjsaIV2bMYK4ejDb3DFIxVRQyu456ckrL0FJ8FRZiifgKbI4RwQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:12:26 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 103ms (Views: 102.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:12:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 110ms (Views: 109.0ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 15:12:37 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-17 15:12:37 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.8ms)
Completed 200 OK in 126ms (Views: 124.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-17 15:12:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lPFSsb2+6/gZiXKM3T1aG7Q7A1SPKE5BOJOYJ5is0STjHy2i35Wog8msqdmoUuPMKamarU+3dnzOx+7D5jw0hw==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-17 12:12:45.825802"], ["last_sign_in_at", "2017-09-17 11:46:22.205957"], ["sign_in_count", 4], ["updated_at", "2017-09-17 12:12:45.826777"], ["id", 4]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 181ms (ActiveRecord: 5.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 15:12:45 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (92.3ms)
Completed 200 OK in 98ms (Views: 95.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:12:48 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (153.3ms)
Completed 200 OK in 165ms (Views: 155.7ms | ActiveRecord: 2.2ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:13:52 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (129.7ms)
Completed 200 OK in 166ms (Views: 132.2ms | ActiveRecord: 3.8ms)


Started GET "/admin/users/1/edit" for 127.0.0.1 at 2017-09-17 15:14:41 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (162.5ms)
Completed 200 OK in 212ms (Views: 166.7ms | ActiveRecord: 4.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:15:52 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (176.3ms)
Completed 200 OK in 224ms (Views: 179.2ms | ActiveRecord: 5.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:16:11 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (130.0ms)
Completed 200 OK in 174ms (Views: 133.6ms | ActiveRecord: 4.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:16:24 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (165.9ms)
Completed 200 OK in 218ms (Views: 168.2ms | ActiveRecord: 4.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:17:04 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (133.0ms)
Completed 200 OK in 188ms (Views: 140.0ms | ActiveRecord: 4.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:17:36 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (154.7ms)
Completed 200 OK in 212ms (Views: 157.0ms | ActiveRecord: 4.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-17 15:20:24 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ey9TSOhCylaydxpZFirg/68bZ8BLiAj5Mi8X1kNTBVBysYIfTSakSCYsD1XGtkQetWeA1UgVx/DbVy1rLZRPWw=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 19ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:20:24 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 105ms (Views: 103.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 15:20:29 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-17 15:20:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (15.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.3ms)
Completed 200 OK in 120ms (Views: 118.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-17 15:20:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"G/NM2PxHkkjKIN+CLx3SMHWiCibiS+4ATlKevkikYA8JVLsteu/tFeec8j/K3fDazbrdQeu0crOTsMZLzdN2YA==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (15.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-17 12:20:35.886439"], ["last_sign_in_at", "2017-09-17 12:12:45.825802"], ["sign_in_count", 5], ["updated_at", "2017-09-17 12:20:35.887514"], ["id", 4]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 174ms (ActiveRecord: 20.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-17 15:20:35 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (104.1ms)
Completed 200 OK in 110ms (Views: 106.6ms | ActiveRecord: 0.3ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-17 15:20:39 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_winner" FROM "battles" ORDER BY photo_winner asc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_looser" FROM "battles" ORDER BY photo_looser asc[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (136.4ms)
Completed 200 OK in 147ms (Views: 137.2ms | ActiveRecord: 5.7ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-17 15:20:40 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (186.1ms)
Completed 200 OK in 195ms (Views: 187.4ms | ActiveRecord: 3.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-17 15:20:41 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (156.1ms)
Completed 200 OK in 165ms (Views: 158.7ms | ActiveRecord: 1.9ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-17 15:20:43 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (157.1ms)
Completed 200 OK in 166ms (Views: 158.8ms | ActiveRecord: 2.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:22:07 +0300
  [1m[35m (20.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_up"}
  [1m[36mUser Load (11.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 50ms (ActiveRecord: 37.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=sign_up):
  
app/controllers/users_controller.rb:4:in `show'
Started GET "/" for 127.0.0.1 at 2017-09-22 01:22:53 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 1392ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user_path' for #<#<Class:0x00000005cccbd0>:0x00000005cca8d0>
Did you mean?  current_user):
    26:         </button>
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <li><%= link_to "Profile", current_user_path  %></li>
    30:             <li><%= link_to "Link2", "/path2"  %></li>
    31:             <li><%= link_to "Link3", "/path3"  %></li>
    32:           </ul>
  
app/views/layouts/application.html.erb:29:in `_app_views_layouts_application_html_erb___1820492256857366569_48598780'
Started GET "/" for 127.0.0.1 at 2017-09-22 01:23:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 155ms (Views: 153.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:23:58 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 85ms (Views: 84.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:24:20 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=sign_in):
  
app/controllers/users_controller.rb:4:in `show'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 58ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:48 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:27:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_up"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_up"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:28:21 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_up"}
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:29:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_up"}
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:33:53 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:34:14 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"sign_in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:36:54 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (25.0ms)
Completed 200 OK in 551ms (Views: 521.4ms | ActiveRecord: 2.8ms)


Started POST "/users" for 127.0.0.1 at 2017-09-22 01:37:55 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DccH7eFRWNcMZSeHcW/w8St31EyjoGJsq4+zLIfA/FhJM88P28L32B3tdEBi/DcQA1oqEkNj5TFKyIEeMXEmfA==", "user"=>{"name"=>"Vlad", "email"=>"vlad@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vlad@example.org"], ["LIMIT", 1]]
  [1m[35mSQL (48.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "vlad@example.org"], ["encrypted_password", "$2a$11$rYlp6bVF.sJvKO5qPPllWOQhFSrO7ERiSAgZY8lEohK1lm8ptVncW"], ["created_at", "2017-09-21 22:37:55.284697"], ["updated_at", "2017-09-21 22:37:55.284697"], ["name", "Vlad"]]
  [1m[35m (29.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-21 22:37:55.364440"], ["last_sign_in_at", "2017-09-21 22:37:55.364440"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-21 22:37:55.365060"], ["id", 10]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users/sign_in
Completed 302 Found in 363ms (ActiveRecord: 93.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:37:55 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:37:55 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 100ms (Views: 96.6ms | ActiveRecord: 0.4ms)


Started GET "/users/10" for 127.0.0.1 at 2017-09-22 01:38:05 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (7.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `avatar' for #<User:0x007fbc4985e960>):
    2:   <div class="row">
    3:     <aside class="span4">
    4:       <section>
    5:            <!-- <%= image_tag @user.avatar.url(:medium) %><br/> -->
    6: 
    7:           <h1><%= @user.name %></h1>
    8:         
  
app/views/users/show.html.erb:5:in `_app_views_users_show_html_erb__3872336395829100913_70223332042260'
Started GET "/users/10" for 127.0.0.1 at 2017-09-22 01:38:41 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 92ms (Views: 89.4ms | ActiveRecord: 0.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-22 01:38:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"xR0iJmHChlTsvDkE9h8RidcYcZEWY3MULkX3Gk4YlxGB6erEW1EpW/00asPljNZo/zWPz/ag9EnPAsUo+KlNNQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:38:46 +0300
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:38:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.8ms)
Completed 200 OK in 149ms (Views: 117.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:39:11 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 118ms (Views: 103.2ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:39:17 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 95ms (Views: 94.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:39:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 111ms (Views: 109.7ms | ActiveRecord: 0.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-09-22 01:39:40 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="row">
    3:     <aside class="span4">
    4:       <section>
    5:           <h1><%= @user.name %></h1>
    6: 
    7:       </section>
    8:     </aside>
  
app/views/users/show.html.erb:5:in `_app_views_users_show_html_erb__3872336395829100913_70223256091940'
Started GET "/users/2" for 127.0.0.1 at 2017-09-22 01:39:49 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="row">
    3:     <aside class="span4">
    4:       <section>
    5:           <h1><%= @user.name %></h1>
    6: 
    7:       </section>
    8:     </aside>
  
app/views/users/show.html.erb:5:in `_app_views_users_show_html_erb__3872336395829100913_70223155695300'
Started GET "/users/5" for 127.0.0.1 at 2017-09-22 01:39:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="row">
    3:     <aside class="span4">
    4:       <section>
    5:           <h1><%= @user.name %></h1>
    6: 
    7:       </section>
    8:     </aside>
  
app/views/users/show.html.erb:5:in `_app_views_users_show_html_erb__3872336395829100913_70223340996360'
Started GET "/admin" for 127.0.0.1 at 2017-09-22 01:40:08 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:40:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 105ms (Views: 103.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:40:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xQrjx9tYVEDbD6IFyRoUcs57VRXfv/L9F2lG+BXB9Wio3LA1Qm3byf86fCrMRpqCUq+PiCJx47CLQ9zgsAsuZA==", "user"=>{"email"=>"vlad@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vlad@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-09-21 22:40:23.900641"], ["sign_in_count", 2], ["updated_at", "2017-09-21 22:40:23.901468"], ["id", 10]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 200ms (ActiveRecord: 9.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-22 01:40:23 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:40:23 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 93.4ms | ActiveRecord: 0.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-22 01:40:32 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JDLjE4vuXAC08W1WYxVQf1CcQi27iHzAFx7uyxvt348fnYmyKF0B77XS2LDPTRGZ8s62nLtG2xNiK6zyzuAFXA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:40:32 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 116ms (Views: 114.9ms | ActiveRecord: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-22 01:40:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"xVbYQfMrcGImPGzHZBfhiJPMLXv+xoSxHXZW4ghoVgeZXYzzK5/3P/FKPPE513Qqjw6dixeYytW1mwpRL9H7PA=="}
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:40:37 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 89ms (Views: 88.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:42:00 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 98ms (Views: 97.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:42:56 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 87ms (Views: 86.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:42:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 102ms (Views: 100.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:47:00 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 451ms (Views: 444.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:49:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 90ms (Views: 88.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:49:24 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 137ms (Views: 115.6ms | ActiveRecord: 4.5ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 01:49:26 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 102ms (Views: 100.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:49:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 106ms (Views: 104.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-22 01:49:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"S8nk3UMop9L2IgtU9MK2+KT7jfbJ1CQ4QsXox2ZXZKREEPcw5gveA9QVLZNh1wsfNOYRgCXxPMqGYBncWRzC1Q==", "user"=>{"email"=>"vlad@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vlad@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-21 22:49:55.427292"], ["last_sign_in_at", "2017-09-21 22:40:23.900641"], ["sign_in_count", 3], ["updated_at", "2017-09-21 22:49:55.428635"], ["id", 10]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 166ms (ActiveRecord: 8.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 01:49:55 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 107.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 03:03:41 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 465ms (Views: 454.8ms | ActiveRecord: 4.4ms)


Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:03:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 96ms (Views: 93.5ms | ActiveRecord: 0.4ms)


Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:04:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 395ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined local variable or method `current_user_photo_path' for #<#<Class:0x007fac2302bc88>:0x007fac2270b658>
Did you mean?  current_user
               edit_user_photo_path):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", current_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__19635300328855988_70188644488340'
Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:05:09 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :id=>"10"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__19635300328855988_70188638244300'
Started GET "/admin/admin_users" for 127.0.0.1 at 2017-09-22 03:07:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/admin/admin_users"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:07:26 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 147ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :id=>"10"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__19635300328855988_57629480'
Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:07:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :id=>"10"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__19635300328855988_70188649554880'
Started GET "/users/10" for 127.0.0.1 at 2017-09-22 03:07:50 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 467ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :id=>"10"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___2942204655778465650_55376260'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:07:56 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 99ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___2942204655778465650_70027260908880'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:08:02 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___2942204655778465650_70027160160080'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:08:12 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 106ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___2942204655778465650_70027261797340'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:12:47 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 511ms (ActiveRecord: 3.4ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__1512068917558190750_55288740'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:14:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 99ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__1512068917558190750_70010519717300'
Started GET "/" for 127.0.0.1 at 2017-09-22 03:14:03 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__1512068917558190750_70010550676620'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:03:23 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1044ms (ActiveRecord: 4.4ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___1547044277158693351_59349800'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:03:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 93ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___1547044277158693351_70342504700500'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:04:51 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 442ms (ActiveRecord: 3.6ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___1376751870713641689_58812600'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:06:04 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 453ms (ActiveRecord: 3.9ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos"}, missing required keys: [:user_id]):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Profile", new_user_photo_path  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___3868424432303697148_52919960'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:08:18 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 96.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 15:08:57 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.5ms | ActiveRecord: 3.1ms)


Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:08:59 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (140.9ms)
  Rendered photos/new.html.erb within layouts/application (141.7ms)
Completed 500 Internal Server Error in 161ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined method `photos_path' for #<#<Class:0x007f2cdead4730>:0x007f2cdeb0a8a8>):
    1: <%= form_for(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if @user.source? %>
    4:   <%= f.file_field :avatar %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb__3067364305790823720_69915346415720'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___2701880469078607057_69915345594340'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:24:28 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.1ms)
  Rendered photos/new.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 6.8ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"photos", :user_id=>nil}, missing required keys: [:user_id]):
    1: <%= form_for @photo, url: new_user_photo_path(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if @user.source? %>
    4:   <%= f.file_field :avatar %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___313834686261762565_43252220'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3599077758680475763_43466840'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:24:48 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.1ms)
  Rendered photos/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `source?' for nil:NilClass):
    1: <%= form_for @photo, url: new_user_photo_path(current_user) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if @user.source? %>
    4:   <%= f.file_field :avatar %>
    5:   <%= f.hidden_field :avatar_cache %>
    6:   <div class="actions">
  
app/views/photos/_form.html.erb:3:in `block in _app_views_photos__form_html_erb___313834686261762565_43185820'
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___313834686261762565_43185820'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3599077758680475763_43373700'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:25:39 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (10.5ms)
  Rendered photos/new.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `source?' for #<User:0x000000065f8d30>):
    1: <%= form_for @photo, url: new_user_photo_path(current_user) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if current_user.source? %>
    4:   <%= f.file_field :avatar %>
    5:   <%= f.hidden_field :avatar_cache %>
    6:   <div class="actions">
  
app/views/photos/_form.html.erb:3:in `block in _app_views_photos__form_html_erb___313834686261762565_45247920'
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___313834686261762565_45247920'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3599077758680475763_45600940'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:27:11 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (8.0ms)
  Rendered photos/new.html.erb within layouts/application (9.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `source' for #<User:0x00000004ed8ba0>):
    1: <%= form_for @photo, url: new_user_photo_path(current_user) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if current_user.source.any? %>
    4:   <%= f.file_field :source %>
    5:   <%= f.hidden_field :source_cache %>
    6:   <div class="actions">
  
app/views/photos/_form.html.erb:3:in `block in _app_views_photos__form_html_erb___313834686261762565_41659340'
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___313834686261762565_41659340'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3599077758680475763_41488640'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:27:42 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (10.9ms)
  Rendered photos/new.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `current_user' for #<Photo:0x00000005c07b28>):
    1: <%= form_for @photo, url: new_user_photo_path(current_user) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if @photo.current_user.source? %>
    4:   <%= f.file_field :source %>
    5:   <%= f.hidden_field :source_cache %>
    6:   <div class="actions">
  
app/views/photos/_form.html.erb:3:in `block in _app_views_photos__form_html_erb___313834686261762565_48152940'
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___313834686261762565_48152940'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3599077758680475763_48247280'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:28:13 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (13.8ms)
  Rendered photos/new.html.erb within layouts/application (14.7ms)
Completed 200 OK in 325ms (Views: 321.9ms | ActiveRecord: 0.4ms)


Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:29:00 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.1ms)
  Rendered photos/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 84ms (Views: 81.4ms | ActiveRecord: 0.4ms)


Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:29:35 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:30:55 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.7ms)
  Rendered photos/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 124ms (Views: 90.4ms | ActiveRecord: 6.2ms)


Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:31:03 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:32:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-22 15:33:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 103.3ms | ActiveRecord: 3.3ms)


Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:33:31 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.8ms)
  Rendered photos/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 106ms (Views: 88.6ms | ActiveRecord: 3.2ms)


Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:33:57 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:35:07 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:36:02 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:37:24 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:45:57 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:46:39 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:47:59 +0300
  
ActionController::RoutingError (No route matches [POST] "/users/10/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:55:43 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (164.0ms)
  Rendered photos/new.html.erb within layouts/application (165.0ms)
Completed 500 Internal Server Error in 208ms (ActiveRecord: 5.7ms)


  
ActionView::Template::Error (undefined method `photos_path' for #<#<Class:0x000000059f8ff8>:0x00000005a3e080>):
    1: <%= form_for(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url) if @photo.source? %>
    4:   <%= f.file_field :source %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb___887843744182398675_47515220'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb__145067844489578809_47171340'
Started GET "/users/10/photo/new" for 127.0.0.1 at 2017-09-22 15:57:35 +0300
Processing by PhotosController#new as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (17.4ms)
  Rendered photos/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 280ms (Views: 274.1ms | ActiveRecord: 0.6ms)


Started POST "/users/10/photo" for 127.0.0.1 at 2017-09-22 15:58:02 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PiLTes+hynqU7Zd83AAAwYk3n25nF3E5pO04fUj1StvWw8xrIJL6tb4f6HqM8KoK7UI1nOYcocTDkpSpltbaNA==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007ff39f905250 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-3529-1uu7ql8.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo", "user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (33.0ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["source", "img3.jpg"], ["created_at", "2017-09-22 12:58:02.805929"], ["updated_at", "2017-09-22 12:58:02.805929"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users/10/photo
Completed 302 Found in 140ms (ActiveRecord: 35.6ms)


Started GET "/users/10/photo" for 127.0.0.1 at 2017-09-22 15:58:02 +0300
Processing by PhotosController#show as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/users/10/photo" for 127.0.0.1 at 2017-09-22 15:59:23 +0300
Processing by PhotosController#show as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/users/10/photo" for 127.0.0.1 at 2017-09-22 15:59:35 +0300
Processing by PhotosController#show as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/users/10/photo" for 127.0.0.1 at 2017-09-22 16:01:08 +0300
Processing by PhotosController#show as HTML
  Parameters: {"user_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 27ms (ActiveRecord: 5.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started POST "/users/10/photo" for 127.0.0.1 at 2017-09-22 16:01:22 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PiLTes+hynqU7Zd83AAAwYk3n25nF3E5pO04fUj1StvWw8xrIJL6tb4f6HqM8KoK7UI1nOYcocTDkpSpltbaNA==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007ff39e7656a8 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-3529-13zsoia.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo", "user_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["source", "img3.jpg"], ["created_at", "2017-09-22 13:01:22.204679"], ["updated_at", "2017-09-22 13:01:22.204679"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users/3/photo
Completed 302 Found in 28ms (ActiveRecord: 2.6ms)


Started GET "/users/3/photo" for 127.0.0.1 at 2017-09-22 16:01:22 +0300
Processing by PhotosController#show as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:04:49 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 719ms (ActiveRecord: 3.8ms)


  
ActionView::Template::Error (undefined method `new_user_photo_path' for #<#<Class:0x00000006a5db50>:0x00000006a43228>
Did you mean?  new_admin_photo_path
               new_photo_path):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Link2", "/path2"  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb___665425735497493145_55515300'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:05:19 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 131.2ms | ActiveRecord: 0.3ms)


  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-09-22 16:07:10 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 498ms (Views: 487.0ms | ActiveRecord: 3.6ms)


Started GET "/photo" for 127.0.0.1 at 2017-09-22 16:07:13 +0300
Processing by PhotosController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 3.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/photo" for 127.0.0.1 at 2017-09-22 16:08:10 +0300
Processing by PhotosController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/photo" for 127.0.0.1 at 2017-09-22 16:26:10 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/photo"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:26:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 416ms (ActiveRecord: 3.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", photo_path  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___3854193537402934811_55365880'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:29:23 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 458ms (Views: 447.7ms | ActiveRecord: 4.0ms)


Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 16:29:25 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (3.7ms)
  Rendered photos/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 107ms (Views: 88.6ms | ActiveRecord: 2.7ms)


Started GET "/photos/10" for 127.0.0.1 at 2017-09-22 16:29:29 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=10):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/photos/10" for 127.0.0.1 at 2017-09-22 16:29:56 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=10):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/photos/10" for 127.0.0.1 at 2017-09-22 16:30:01 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=10):
  
app/controllers/photos_controller.rb:48:in `find_photo'
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/10" for 127.0.0.1 at 2017-09-22 16:31:24 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 404 Not Found in 33ms (ActiveRecord: 6.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=10):
  
app/controllers/photos_controller.rb:48:in `find_photo'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:31:27 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 529ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `photo_id' for #<User:0x007fe292c55ea0>
Did you mean?  photo):
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", photo_path(current_user.photo_id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3884130223668183321_36970220'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:31:28 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `photo_id' for #<User:0x00000006ecaf30>
Did you mean?  photo):
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", photo_path(current_user.photo_id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__3884130223668183321_70305546667960'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:31:46 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 113.3ms | ActiveRecord: 0.6ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 16:31:48 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (4.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 97.9ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 16:31:57 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 90.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 16:34:10 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 610ms (ActiveRecord: 3.8ms)


  
ActionView::Template::Error (undefined method `new_photo_path' for #<#<Class:0x00000006bf6ef8>:0x00000006be4de8>
Did you mean?  new_user_photo_path
               new_admin_photo_path
               user_photo_path
               new_polymorphic_path
               user_photos_path):
    27:         <div class="navbar-collapse collapse navbar-responsive-collapse">
    28:           <ul class="nav navbar-nav">
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", photo_path(current_user.photo.id)  %></li>
  
app/views/layouts/application.html.erb:30:in `_app_views_layouts_application_html_erb__1327173399863256553_56372500'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:34:22 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 111ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :user_id=>2}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", user_photo_path(current_user.photo.id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__1327173399863256553_70283369082760'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:36:42 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 484ms (ActiveRecord: 6.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :user_id=>2}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", user_photo_path(current_user.photo.id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___1264458679835566174_44899040'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:37:18 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 96ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :user_id=>#<User id: 10, email: "vlad@example.org", created_at: "2017-09-21 22:37:55", updated_at: "2017-09-21 22:49:55", role: "user", name: "Vlad">}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", user_photo_path(current_user)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___1264458679835566174_70131741579980'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:37:35 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 88ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :user_id=>#<Photo id: 2, user_id: 10, rating: nil, source: "img3.jpg", status: nil, battle_id: nil, created_at: "2017-09-22 12:58:02", updated_at: "2017-09-22 12:58:02", count_battles: nil, count_win_battles: nil, count_loose_battles: nil>}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", user_photo_path(current_user.photo)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___1264458679835566174_70131682205940'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:39:02 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos", :user_id=>2}, missing required keys: [:id]):
    30:             <li><%= link_to "Add photo", new_user_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile", user_photo_path(current_user.photo.id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___1264458679835566174_70131749339040'
Started GET "/" for 127.0.0.1 at 2017-09-22 16:40:07 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 109.7ms | ActiveRecord: 5.2ms)


Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 16:40:09 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (3.1ms)
  Rendered photos/new.html.erb within layouts/application (5.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 98.5ms | ActiveRecord: 0.7ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 16:40:24 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.8ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 93.0ms | ActiveRecord: 1.5ms)


Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 16:55:55 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#new as 
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (3.8ms)
  Rendered photos/new.html.erb within layouts/application (7.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 463ms (Views: 418.9ms | ActiveRecord: 6.9ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 16:55:58 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (9.1ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `thumb' for #<Photo:0x007fd8682e90f8>):
    3:     <aside class="span4">
    4:       <section>
    5:           <h1><%= @photo.user.name %></h1>
    6:           <%= image_tag(@photo.thumb.source_url) if @photo.source? %>
    7:       </section>
    8:     </aside>
    9:   </div>
  
app/views/photos/show.html.erb:6:in `_app_views_photos_show_html_erb__4479155445328866615_70283769855460'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:05:47 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 84.3ms | ActiveRecord: 1.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:05:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:07:42 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.7ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 94.1ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:07:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:14:35 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 5.9ms)


  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/views/photos/show.html.erb:6: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...rl(:thumb), if @photo.source? );@output_buffer.safe_append='
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/photos/show.html.erb:13: syntax error, unexpected keyword_ensure, expecting ')'
/home/yaroslav/rails_projects/facemash/app/views/photos/show.html.erb:15: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/photos/show.html.erb:6: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/photos/show.html.erb:13: syntax error, unexpected keyword_ensure, expecting ')'
app/views/photos/show.html.erb:15: syntax error, unexpected keyword_end, expecting ')'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:15:37 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (14.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 438ms (Views: 432.8ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:15:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:17:26 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (4.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 104.9ms | ActiveRecord: 6.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:17:28 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.1ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 104.8ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:17:31 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 98.3ms | ActiveRecord: 0.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:17:32 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:32 +0300
Processing by PhotosController#show as HTML
  
  Parameters: {"id"=>"2"}
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.4ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 186ms (Views: 177.0ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 17:17:36 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.3ms)
  Rendered photos/new.html.erb within layouts/application (5.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 104.4ms | ActiveRecord: 0.7ms)


Started POST "/photos" for 127.0.0.1 at 2017-09-22 17:17:48 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9PqHNgvg7BiEVRtAeX0GrNL0AxVQ/bekHhjV6xIze1IcG5gn5NPc166nZEYpjaxntoGp59H2Z1l5Z3k/zBDrvQ==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f7940254b88 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-5602-z8u91v.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["source", "img3.jpg"], ["created_at", "2017-09-22 14:17:48.596217"], ["updated_at", "2017-09-22 14:17:48.596217"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/4
Completed 302 Found in 506ms (ActiveRecord: 3.5ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-09-22 17:17:48 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 93.9ms | ActiveRecord: 1.2ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:17:56 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (1.8ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 97ms (Views: 93.0ms | ActiveRecord: 0.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:17:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 17:18:00 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.3ms)
  Rendered photos/new.html.erb within layouts/application (4.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 92.0ms | ActiveRecord: 0.8ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:18:01 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 85.0ms | ActiveRecord: 1.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:18:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/path3" for 127.0.0.1 at 2017-09-22 17:18:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/path3"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:18:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:18:05 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:18:12 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 97.8ms | ActiveRecord: 0.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:18:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:18:24 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:18:27 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 108.0ms | ActiveRecord: 0.5ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:18:31 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 88.1ms | ActiveRecord: 1.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:18:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:19:59 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (4.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 90.7ms | ActiveRecord: 6.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:20:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 17:20:01 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.9ms)
  Rendered photos/new.html.erb within layouts/application (5.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 94.1ms | ActiveRecord: 0.7ms)


Started POST "/photos" for 127.0.0.1 at 2017-09-22 17:20:10 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"B/GqaXnN0kmHX311qaMVTojCQIGOqpcniO3/5yCU+VzvELV4lv7ihq2tAnP5U7+F7Lfqcw+hR9rvklMz/rdpsw==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f79556b98d0 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-5602-gs4kry.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (17.6ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["source", "img3.jpg"], ["created_at", "2017-09-22 14:20:10.674845"], ["updated_at", "2017-09-22 14:20:10.674845"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/5
Completed 302 Found in 60ms (ActiveRecord: 20.0ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-09-22 17:20:10 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (1.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 86.3ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:20:22 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.2ms | ActiveRecord: 0.6ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:20:24 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 92.4ms | ActiveRecord: 0.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:20:24 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/3" for 127.0.0.1 at 2017-09-22 17:20:36 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 88.4ms | ActiveRecord: 1.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:20:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/5" for 127.0.0.1 at 2017-09-22 17:20:41 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 91.6ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:20:53 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 93.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:33:27 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 495ms (Views: 481.1ms | ActiveRecord: 7.1ms)


Started GET "/photos/new.10" for 127.0.0.1 at 2017-09-22 17:33:45 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (3.3ms)
  Rendered photos/new.html.erb within layouts/application (6.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 99.8ms | ActiveRecord: 0.7ms)


Started POST "/photos" for 127.0.0.1 at 2017-09-22 17:33:55 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PQv57A8vjBXFIBuGTBHPrZKh6Gy0W3DZR5nZm9M8RpLV6ub94By82u/SZIAc4WVm9tRCnjVQoCQg5nVPDR/WfQ==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f2d182c2328 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-6214-1cgl7l3.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["source", "img3.jpg"], ["created_at", "2017-09-22 14:33:56.050172"], ["updated_at", "2017-09-22 14:33:56.050172"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/6
Completed 302 Found in 57ms (ActiveRecord: 3.2ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-09-22 17:33:56 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.6ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 96.4ms | ActiveRecord: 1.4ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-09-22 17:34:28 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.1ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 115.2ms | ActiveRecord: 1.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-22 17:34:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/5" for 127.0.0.1 at 2017-09-22 17:34:50 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 102.5ms | ActiveRecord: 1.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-22 17:35:26 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Vqg/bOh0q80EVJrEVOJS32lYDXsx3lDG8u2GB8uFO7K+SSB9B0ebAi6m5cIEEvgUDS2nibDVgDuVkirTFaarXQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:35:26 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `photo' for nil:NilClass):
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <% end %>
    33:             <li><%= link_to "Profile",photo_path(current_user.photo.id)  %></li>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
    36:         </div>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb___1838873131460903328_69915826523580'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:36:17 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 97ms (Views: 96.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:36:32 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.6ms)
Completed 200 OK in 132ms (Views: 127.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 17:36:36 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 108ms (Views: 107.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:36:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 112ms (Views: 110.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-22 17:36:50 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 114ms (Views: 112.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-09-22 17:37:10 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z/ZbHpW7vatup5EYaqY9tEIB8L1LUa30zZdZQ6BE4Fb8b4z9a5doiTgjahxDczEmxrxP+8FVwHRzFPE4ICKzpw==", "user"=>{"name"=>"Sasha", "email"=>"example@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 266ms (Views: 98.1ms | ActiveRecord: 0.8ms)


Started POST "/users" for 127.0.0.1 at 2017-09-22 17:37:38 +0300
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zh5P5HXsDyGf4XnmpTlxF5rDFkTH/JOW0uWqNc032G4/aASEx4HWclBpekIo+WSdr+1a+qiH6euatVcmN5Q+Tw==", "user"=>{"name"=>"Sasha", "email"=>"sasha@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sasha@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (20.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "sasha@gmail.com"], ["encrypted_password", "$2a$11$qwPhkNV0lkGKgSwnXCGp.uTHgu5jGRmt1tpd01uPp/meQPiJFTWyy"], ["created_at", "2017-09-22 14:37:38.459899"], ["updated_at", "2017-09-22 14:37:38.459899"], ["name", "Sasha"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-22 14:37:38.484774"], ["last_sign_in_at", "2017-09-22 14:37:38.484774"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-22 14:37:38.485462"], ["id", 11]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 181ms (ActiveRecord: 26.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:37:38 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 110ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <li><%= link_to "Profile",photo_path(current_user.photo.id)  %></li>
    33:               <% end %>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
  
app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___1838873131460903328_69915916963640'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:38:37 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 95ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `photo?' for #<User:0x007f2d18a6c3f8>
Did you mean?  photo
               photo=):
    29:             <% if user_signed_in? %>
    30:             <li><%= link_to "Add photo", new_photo_path(current_user)  %></li>
    31: 
    32:             <li><%= link_to "Profile",photo_path(current_user.photo.id) if current_user.photo?  %></li>
    33:               <% end %>
    34:             <li><%= link_to "Link3", "/path3"  %></li>
    35:           </ul>
  
app/views/layouts/application.html.erb:32:in `_app_views_layouts_application_html_erb___1838873131460903328_69915831664380'
Started GET "/" for 127.0.0.1 at 2017-09-22 17:39:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 11], ["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 106.2ms | ActiveRecord: 0.4ms)


Started GET "/photos/new.11" for 127.0.0.1 at 2017-09-22 17:39:24 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.7ms)
  Rendered photos/new.html.erb within layouts/application (4.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 11], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 96.5ms | ActiveRecord: 0.7ms)


Started POST "/photos" for 127.0.0.1 at 2017-09-22 17:39:35 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JOewj8oEW8l8rzDG/Rl4lMo7YFtpD2cT6jF2sO1wE6zVkfvveGmCmrMnM2Jw2W0e/xUs5QZ0HW6iYYujF9P1jQ==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f2d18118b30 @tempfile=#<Tempfile:/tmp/RackMultipart20170922-6214-ayf6zn.jpg>, @original_filename="img2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 11], ["source", "img2.jpg"], ["created_at", "2017-09-22 14:39:36.129287"], ["updated_at", "2017-09-22 14:39:36.129287"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/7
Completed 302 Found in 879ms (ActiveRecord: 3.5ms)


Started GET "/photos/7" for 127.0.0.1 at 2017-09-22 17:39:36 +0300
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered photos/show.html.erb within layouts/application (2.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 11], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 111.5ms | ActiveRecord: 1.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-22 17:40:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"OTGElA891gd6qAZaPP6vQ2PO6Re5J2fkQn7E/n5V5hDIR8/0vVAPVLUgBf6xPrrJVuClqdZcHZkKLjnthPYAMQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-22 17:40:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 132ms (Views: 130.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:40:35 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 157ms (Views: 155.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-22 17:40:56 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:40:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 109ms (Views: 107.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:41:06 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CTaQM0I5bzzTfqfqJ7DXlD1ARcXkeGZyA8yYwTJ/Vd+XXFN87VcKQ8W8Xy0Tzl4mW9gkmuvUdzCEk8qClS6FAQ==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 144ms (ActiveRecord: 0.4ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CTaQM0I5bzzTfqfqJ7DXlD1ARcXkeGZyA8yYwTJ/Vd+XXFN87VcKQ8W8Xy0Tzl4mW9gkmuvUdzCEk8qClS6FAQ==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 240ms (Views: 100.0ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (20.1ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["role", 2], ["updated_at", "2017-09-22 14:44:09.404872"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:44:36 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CzPEGZEqxHoEI+uIL6ZyDe+yp6122Y7oqdaaPB8CBzqVWQdWPkShBRLhE08b2Pu/iSrG8nl1n6ouich/uFPX5A==", "user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["current_sign_in_at", "2017-09-22 14:44:36.863597"], ["last_sign_in_at", "2017-09-22 14:44:36.863597"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2017-09-22 14:44:36.864687"], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin
Completed 302 Found in 190ms (ActiveRecord: 6.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-22 17:44:36 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (445.4ms)
Completed 200 OK in 513ms (Views: 502.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-22 17:44:48 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (187.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (572.2ms)
Completed 200 OK in 581ms (Views: 387.8ms | ActiveRecord: 189.1ms)


Started GET "/admin/users/new" for 127.0.0.1 at 2017-09-22 17:45:04 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (174.4ms)
Completed 200 OK in 181ms (Views: 178.1ms | ActiveRecord: 0.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-22 17:45:11 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (1.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (193.5ms)
Completed 200 OK in 205ms (Views: 192.2ms | ActiveRecord: 8.1ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-22 17:45:20 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (117.3ms)
Completed 200 OK in 125ms (Views: 120.2ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-22 17:46:35 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 120ms (Views: 118.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-22 17:47:34 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_winner" FROM "battles" ORDER BY photo_winner asc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_looser" FROM "battles" ORDER BY photo_looser asc[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (103.5ms)
Completed 200 OK in 113ms (Views: 106.4ms | ActiveRecord: 2.6ms)


Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-22 17:47:39 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (97.1ms)
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007f7c8c35dbc0>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb___3711601716653976736_70086452200060'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb___3711601716653976736_70086452200060'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:23:12 +0300
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 29ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:23:13 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
Completed 200 OK in 1021ms (Views: 1003.5ms | ActiveRecord: 2.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-23 02:23:33 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qsDpa5QXx2Sy+6yu7B/rywuqPnnCnhSTOkfc645xrHgK67+sN8OyntkVO0KfkK6RY65+VWVb3GXaMyDo7n+QVg=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:23:33 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 95ms (Views: 93.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:23:36 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 107ms (Views: 104.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fhW5efUTCTRSSav5CgMtDE6oXwW3Y4Ym6Y46w3IPyJ/VImVZ8yUYAsPWIe/eka7sA2HxZTXXigxSJFE4U4N7Ow==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 154ms (ActiveRecord: 0.5ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fhW5efUTCTRSSav5CgMtDE6oXwW3Y4Ym6Y46w3IPyJ/VImVZ8yUYAsPWIe/eka7sA2HxZTXXigxSJFE4U4N7Ow==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 225ms (Views: 89.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:24:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EGkc/XPB5wSYQlU7Dgwq8OcctgZrgXKNos6SplnoJkfKQJZJkTXIC0THOR8fFA6/KWTHDOKexfWnbU8x8sVE6w==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-22 23:24:00.565711"], ["last_sign_in_at", "2017-09-17 12:20:35.886439"], ["sign_in_count", 6], ["updated_at", "2017-09-22 23:24:00.566598"], ["id", 4]]
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 178ms (ActiveRecord: 30.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:24:00 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.2ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-23 02:24:10 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (162.1ms)
Completed 200 OK in 179ms (Views: 165.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:24:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.8ms | ActiveRecord: 0.6ms)


Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:24:17 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (144.3ms)
  Rendered photos/new.html.erb within layouts/application (157.2ms)
Completed 500 Internal Server Error in 186ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined method `photos_path' for #<#<Class:0x007fec4c287b58>:0x007fec4c285d58>
Did you mean?  photo_path):
    1: <%= form_for(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url(:thumb)) if @photo.source? %>
    4:   <%= f.file_field :source %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb__2274548998217762107_70326433521940'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3213705162624996749_70326433317420'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:25:26 +0300
  
ActionController::RoutingError (uninitialized constant PhotosController):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:26:00 +0300
  
ActionController::RoutingError (uninitialized constant PhotosController):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:26:02 +0300
  
ActionController::RoutingError (uninitialized constant PhotosController):
  
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:27:13 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (233.0ms)
  Rendered photos/new.html.erb within layouts/application (235.8ms)
Completed 500 Internal Server Error in 277ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (undefined method `photos_path' for #<#<Class:0x00000006cf7550>:0x00000006cc8ea8>
Did you mean?  photo_path):
    1: <%= form_for(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url(:thumb)) if @photo.source? %>
    4:   <%= f.file_field :source %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb__2274548998217762107_56491600'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3213705162624996749_57182440'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:27:23 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (157.5ms)
  Rendered photos/new.html.erb within layouts/application (160.6ms)
Completed 500 Internal Server Error in 171ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `photos_path' for #<#<Class:0x00000006cf7550>:0x007fec4c7bf508>
Did you mean?  photo_path):
    1: <%= form_for(@photo) do |f| %>
    2:   <label>My Photo</label>
    3:   <%= image_tag(@photo.source_url(:thumb)) if @photo.source? %>
    4:   <%= f.file_field :source %>
  
app/views/photos/_form.html.erb:1:in `_app_views_photos__form_html_erb__2274548998217762107_70326467799280'
app/views/photos/new.html.erb:2:in `_app_views_photos_new_html_erb___3213705162624996749_70326436102000'
Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:28:27 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (4.1ms)
  Rendered photos/new.html.erb within layouts/application (7.0ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 141ms (Views: 135.7ms | ActiveRecord: 0.8ms)


Started POST "/photo/new" for 127.0.0.1 at 2017-09-23 02:28:38 +0300
  
ActionController::RoutingError (No route matches [POST] "/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/photo/new" for 127.0.0.1 at 2017-09-23 02:30:33 +0300
  
ActionController::RoutingError (No route matches [POST] "/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/photo/new" for 127.0.0.1 at 2017-09-23 02:30:50 +0300
  
ActionController::RoutingError (No route matches [POST] "/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/photo/new" for 127.0.0.1 at 2017-09-23 02:32:22 +0300
  
ActionController::RoutingError (No route matches [POST] "/photo/new"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-23 02:32:40 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 125.4ms | ActiveRecord: 0.6ms)


Started GET "/photo/new.4" for 127.0.0.1 at 2017-09-23 02:32:43 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.1ms)
  Rendered photos/new.html.erb within layouts/application (5.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 112.8ms | ActiveRecord: 0.6ms)


Started POST "/photo" for 127.0.0.1 at 2017-09-23 02:32:51 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Eb3AgguevFhUrqSZw6RnnFCoQRh2GyhHcHWqtvXL8AzqMfnFAxBTxGzpXYOhgPwkOfjZZomBVXO1loolQKsuqw==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x00000003b1b270 @tempfile=#<Tempfile:/tmp/RackMultipart20170923-11709-vx7spb.jpg>, @original_filename="img2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 4], ["source", "img2.jpg"], ["created_at", "2017-09-22 23:32:52.410251"], ["updated_at", "2017-09-22 23:32:52.410251"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photo.8
Completed 302 Found in 904ms (ActiveRecord: 3.1ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:32:52 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 500 Internal Server Error in 102ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `find_photo' for #<PhotosController:0x000000056393b8>):
  
activesupport (5.1.3) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.3) lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.3) lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.3) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.3) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:33:18 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 124ms (Views: 85.0ms | ActiveRecord: 4.7ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:33:24 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 94ms (Views: 88.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:33:28 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 104.9ms | ActiveRecord: 0.6ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:33:30 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 103.7ms | ActiveRecord: 0.6ms)


Started GET "/path3" for 127.0.0.1 at 2017-09-23 02:33:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/path3"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:39:35 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as 
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 681ms (Views: 620.6ms | ActiveRecord: 7.5ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-23 02:39:39 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (5.1ms)
  Rendered photos/edit.html.erb within layouts/application (8.3ms)
Completed 200 OK in 113ms (Views: 92.0ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-23 02:40:00 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.6ms)
  Rendered photos/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 105ms (Views: 98.0ms | ActiveRecord: 0.7ms)


Started PATCH "/photo" for 127.0.0.1 at 2017-09-23 02:40:14 +0300
Processing by PhotosController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"03TrbY/Fcg7yq4A01a9zSeyc1hHGZQ6j2AETqJ1Q+7Uo+NIqh0udksrseS63i+jxhcxObzn/c5cd4jM7KDAlEg==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007fe49a9643b8 @tempfile=#<Tempfile:/tmp/RackMultipart20170923-12184-1y0sci2.jpg>, @original_filename="img3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"img3.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Update Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "source" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["source", "img3.jpg"], ["updated_at", "2017-09-22 23:40:14.603464"], ["id", 8]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 47ms (ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:40:14 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.6ms | ActiveRecord: 0.6ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:40:17 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 104ms (Views: 98.4ms | ActiveRecord: 0.8ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:47:34 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 99ms (Views: 92.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:47:39 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 94.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:48:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 94.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:48:31 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 104.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:49:14 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 89.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:49:28 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 93.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:49:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 98.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:49:44 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 94.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:51:52 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 106.2ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-23 02:51:55 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"k38TMyZBvEVmxdxX5QOPGDjZ0TuZBTJLZyVLo81jDPdo8yp0Ls9T2V6CJU2HJxSgUYlJRWafT3+ixmsweAPSUA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:51:55 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 90ms (Views: 89.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:52:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (10.8ms)
Completed 200 OK in 112ms (Views: 109.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-23 02:52:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6a00V6vtnGRUeepwgTVr7In7/z5nt9rOVtTPN7QYNYMqW85OaUkxzFYPy/ip45QSyNIZooYG8jj2FwChEbfhkQ==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (17.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-22 23:52:17.169257"], ["last_sign_in_at", "2017-09-22 23:24:00.565711"], ["sign_in_count", 7], ["updated_at", "2017-09-22 23:52:17.170142"], ["id", 4]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 179ms (ActiveRecord: 20.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:52:17 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.1ms | ActiveRecord: 0.7ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-23 02:52:20 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 104ms (Views: 98.0ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-23 02:52:22 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.7ms)
  Rendered photos/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 109ms (Views: 103.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 02:52:32 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 98.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 03:02:23 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 688ms (Views: 673.9ms | ActiveRecord: 7.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-23 03:02:31 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (93.5ms)
Completed 200 OK in 106ms (Views: 97.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-23 03:02:34 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (1.7ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (211.6ms)
Completed 200 OK in 226ms (Views: 215.0ms | ActiveRecord: 7.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-23 03:02:45 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (127.1ms)
Completed 200 OK in 134ms (Views: 129.4ms | ActiveRecord: 1.5ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-23 03:02:49 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (154.8ms)
Completed 200 OK in 161ms (Views: 155.4ms | ActiveRecord: 3.2ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-23 03:02:52 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (108.3ms)
Completed 200 OK in 115ms (Views: 111.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-23 03:03:17 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.4ms)
Completed 200 OK in 125ms (Views: 119.7ms | ActiveRecord: 1.6ms)


Started GET "/admin/users/new" for 127.0.0.1 at 2017-09-23 03:03:21 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (105.9ms)
Completed 200 OK in 112ms (Views: 109.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-23 03:05:24 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (153.9ms)
Completed 200 OK in 161ms (Views: 154.4ms | ActiveRecord: 3.3ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-23 03:05:28 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (100.1ms)
Completed 200 OK in 106ms (Views: 103.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-09-23 03:06:28 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (96.0ms)
Completed 200 OK in 152ms (Views: 99.0ms | ActiveRecord: 6.7ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-23 03:06:50 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (146.1ms)
Completed 200 OK in 153ms (Views: 147.2ms | ActiveRecord: 2.7ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-23 03:07:11 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (164.5ms)
Completed 200 OK in 207ms (Views: 164.7ms | ActiveRecord: 9.4ms)


Started GET "/admin/photos/1" for 127.0.0.1 at 2017-09-23 03:07:21 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (93.3ms)
Completed 200 OK in 102ms (Views: 96.8ms | ActiveRecord: 1.0ms)


Started GET "/admin/users/10" for 127.0.0.1 at 2017-09-23 03:07:47 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (101.5ms)
Completed 200 OK in 109ms (Views: 105.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/users/10/edit" for 127.0.0.1 at 2017-09-23 03:08:06 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (107.7ms)
Completed 200 OK in 115ms (Views: 111.5ms | ActiveRecord: 0.6ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-23 03:08:11 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_winner" FROM "battles" ORDER BY photo_winner asc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_looser" FROM "battles" ORDER BY photo_looser asc[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (99.5ms)
Completed 200 OK in 108ms (Views: 102.4ms | ActiveRecord: 2.5ms)


Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 03:08:13 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (112.7ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007efcb1f6bd78>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811890376560'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811890376560'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 03:09:41 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (101.5ms)
Completed 500 Internal Server Error in 151ms (ActiveRecord: 8.0ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007efcb1eba208>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811891539760'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811891539760'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-23 03:15:07 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 341ms (Views: 325.3ms | ActiveRecord: 0.6ms)


Started GET "/my_portfolio" for 127.0.0.1 at 2017-09-23 03:22:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/my_portfolio"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-09-23 13:54:41 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (328.3ms)
Completed 200 OK in 469ms (Views: 441.4ms | ActiveRecord: 5.6ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-23 13:54:44 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_winner" FROM "battles" ORDER BY photo_winner asc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT "battles"."photo_looser" FROM "battles" ORDER BY photo_looser asc[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (100.5ms)
Completed 200 OK in 118ms (Views: 111.3ms | ActiveRecord: 2.6ms)


Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 13:54:45 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (132.9ms)
Completed 500 Internal Server Error in 141ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007efcb2d5a2e0>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811898429360'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811898429360'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:13:37 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (390.1ms)
Completed 500 Internal Server Error in 430ms (ActiveRecord: 4.1ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007efcb27a0688>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811895397540'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811895397540'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:15:13 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (147.7ms)
Completed 500 Internal Server Error in 483ms (ActiveRecord: 282.1ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007efcb169d458>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811815540200'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__896804212392108190_69811815540200'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:15:46 +0300
  [1m[35m (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (728.6ms)
Completed 500 Internal Server Error in 802ms (ActiveRecord: 32.1ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x0000000455a880>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
ransack (1.8.3) lib/ransack/helpers/form_builder.rb:10:in `value'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `block in render'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `fetch'
actionview (5.1.3) lib/action_view/helpers/tags/select.rb:16:in `render'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:163:in `select'
actionview (5.1.3) lib/action_view/helpers/form_options_helper.rb:817:in `select'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:173:in `select_html'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:168:in `block in to_html'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
formtastic (3.1.5) lib/formtastic/inputs/base/wrapping.rb:11:in `input_wrapping'
activeadmin (1.1.0) lib/active_admin/form_builder.rb:6:in `input_wrapping'
formtastic (3.1.5) lib/formtastic/inputs/select_input.rb:166:in `to_html'
formtastic (3.1.5) lib/formtastic/helpers/input_helper.rb:242:in `input'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:330:in `block in fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `collect'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:318:in `fieldset_contents_from_column_list'
formtastic (3.1.5) lib/formtastic/helpers/inputs_helper.rb:297:in `inputs'
arbre (1.1.1) lib/arbre/rails/forms.rb:30:in `proxy_call_to_form'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:60:in `inputs'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:45:in `block in default_form_config'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `instance_eval'
activeadmin (1.1.0) lib/active_admin/views/components/active_admin_form.rb:35:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:28:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `active_admin_form_for'
activeadmin (1.1.0) lib/active_admin/views/pages/form.rb:25:in `main_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:93:in `block (2 levels) in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:92:in `block in build_main_content_wrapper'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:91:in `build_main_content_wrapper'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:77:in `block in build_page_content'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:76:in `build_page_content'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:54:in `block (2 levels) in build_page'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:31:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:14:in `div'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:50:in `block in build_page'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:49:in `with_current_arbre_element'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:49:in `build_page'
activeadmin (1.1.0) lib/active_admin/views/pages/base.rb:10:in `build'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:30:in `block in build_tag'
arbre (1.1.1) lib/arbre/context.rb:92:in `with_current_arbre_element'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:26:in `build_tag'
arbre (1.1.1) lib/arbre/element/builder_methods.rb:39:in `insert_tag'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:2:in `block in __home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__1834997868273486425_35038260'
arbre (1.1.1) lib/arbre/context.rb:45:in `instance_eval'
arbre (1.1.1) lib/arbre/context.rb:45:in `initialize'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `new'
activeadmin (1.1.0) app/views/active_admin/resource/new.html.arb:1:in `__home_yaroslav__rvm_gems_ruby_______rails_test_gems_activeadmin_______app_views_active_admin_resource_new_html_arb__1834997868273486425_35038260'
actionview (5.1.3) lib/action_view/template.rb:157:in `block in render'
activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
actionview (5.1.3) lib/action_view/template.rb:352:in `instrument_render_template'
actionview (5.1.3) lib/action_view/template.rb:155:in `render'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionview (5.1.3) lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:50:in `render_template'
actionview (5.1.3) lib/action_view/renderer/template_renderer.rb:14:in `render'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:42:in `render_template'
actionview (5.1.3) lib/action_view/renderer/renderer.rb:23:in `render'
actionview (5.1.3) lib/action_view/rendering.rb:103:in `_render_template'
actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
actionview (5.1.3) lib/action_view/rendering.rb:83:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/yaroslav/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
responders (2.4.0) lib/action_controller/responder.rb:238:in `default_render'
responders (2.4.0) lib/action_controller/responder.rb:170:in `to_html'
responders (2.4.0) lib/responders/flash_responder.rb:107:in `to_html'
responders (2.4.0) lib/action_controller/responder.rb:163:in `respond'
responders (2.4.0) lib/action_controller/responder.rb:156:in `call'
responders (2.4.0) lib/action_controller/respond_with.rb:211:in `respond_with'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:19:in `new'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:17:10 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (119.1ms)
Completed 500 Internal Server Error in 159ms (ActiveRecord: 8.5ms)


  
ActionView::Template::Error (undefined method `photo_winner_id' for #<Battle:0x007f07a082c158>
Did you mean?  photo_winner
               photo_winner?
               photo_winner=
               photo_winner_was):
    1: insert_tag renderer_for(:new)
  
app/admin/battle.rb:5:in `block (3 levels) in <top (required)>'
app/admin/battle.rb:4:in `block (2 levels) in <top (required)>'
  [1m[35m (8.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveFieldsFromBattle (20170923112058)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.0ms)[0m  [1m[35mALTER TABLE "battles" DROP "photo_looser"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "battles" DROP "photo_winner"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170923112058"]]
  [1m[35m (34.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (31.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNewFieldsToBattle (20170923112253)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.3ms)[0m  [1m[35mALTER TABLE "battles" ADD "photo_looser_id" bigint[0m
  [1m[35m (59.9ms)[0m  [1m[35mCREATE  INDEX  "index_battles_on_photo_looser_id" ON "battles"  ("photo_looser_id")[0m
  [1m[35m (68.9ms)[0m  [1m[35mALTER TABLE "battles" ADD CONSTRAINT "fk_rails_d106755d00"
FOREIGN KEY ("photo_looser_id")
  REFERENCES "photo_loosers" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNewFieldsToBattle (20170923112551)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "battles" ADD "photo_looser_id" integer[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE  INDEX  "index_battles_on_photo_looser_id" ON "battles"  ("photo_looser_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "battles" ADD "photo_winner_id" integer[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE  INDEX  "index_battles_on_photo_winner_id" ON "battles"  ("photo_winner_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170923112551"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:27:19 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (645.0ms)
Completed 200 OK in 694ms (Views: 647.2ms | ActiveRecord: 10.4ms)


Started GET "/admin/battles/new" for 127.0.0.1 at 2017-09-23 14:27:43 +0300
Processing by Admin::BattlesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (105.7ms)
Completed 200 OK in 113ms (Views: 108.9ms | ActiveRecord: 0.8ms)


Started POST "/admin/battles" for 127.0.0.1 at 2017-09-23 14:27:50 +0300
Processing by Admin::BattlesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+WlUeZt1ssbeygQQisNYCXl/e94Ep015AIYiWZ4Ez7TF5sipXRgB2Dk2XdL0eB8k4+WTLRx80A+xsuqMXsyewQ==", "battle"=>{"photo_winner_id"=>"1", "photo_looser_id"=>"4"}, "commit"=>"Create Battle"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
activemodel (5.1.3) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
activemodel (5.1.3) lib/active_model/attribute_assignment.rb:33:in `assign_attributes'
activerecord (5.1.3) lib/active_record/core.rb:337:in `initialize'
activerecord (5.1.3) lib/active_record/inheritance.rb:66:in `new'
activerecord (5.1.3) lib/active_record/inheritance.rb:66:in `new'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:130:in `build_new_resource'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:116:in `build_resource'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:31:in `create'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/admin/battles" for 127.0.0.1 at 2017-09-23 14:28:51 +0300
Processing by Admin::BattlesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+WlUeZt1ssbeygQQisNYCXl/e94Ep015AIYiWZ4Ez7TF5sipXRgB2Dk2XdL0eB8k4+WTLRx80A+xsuqMXsyewQ==", "battle"=>{"photo_winner_id"=>"1", "photo_looser_id"=>"4"}, "commit"=>"Create Battle"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (28.1ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-23 11:28:51.482664"], ["updated_at", "2017-09-23 11:28:51.482664"], ["photo_looser_id", 4], ["photo_winner_id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/battles/1
Completed 302 Found in 118ms (ActiveRecord: 42.6ms)


Started GET "/admin/battles/1" for 127.0.0.1 at 2017-09-23 14:28:51 +0300
Processing by Admin::BattlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" WHERE "battles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (95.2ms)
Completed 200 OK in 103ms (Views: 98.6ms | ActiveRecord: 1.2ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-23 14:28:59 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (142.4ms)
Completed 200 OK in 161ms (Views: 143.7ms | ActiveRecord: 2.9ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (262.8ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (27.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IN (7, 6) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (13.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveFieldsFromPhotos (20170924195414)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (59.0ms)[0m  [1m[35mALTER TABLE "photos" DROP "rating"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "photos" DROP "status"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924195414"]]
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (15.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFieldsToPhotos (20170924195610)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (364.2ms)[0m  [1m[35mALTER TABLE "photos" ADD "status" integer DEFAULT 0[0m
  [1m[35m (38.4ms)[0m  [1m[35mALTER TABLE "photos" ADD "rating" float DEFAULT 1300.0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924195610"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-09-25 17:51:03 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (96.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (95.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 6085ms (Views: 5654.5ms | ActiveRecord: 422.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:51:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (34.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (42.1ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 34.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner: @photo1, photo_looser: @photo2 do %>
    4:     <%= @photo1.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982924107440'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:52:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do %>
    4:     <%= @photo1.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982917453080'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:52:55 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do %>
    4:     <%= @photo1.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982869599120'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:57:17 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982869753140'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:57:18 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (1, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982925261880'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:58:05 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_43445340'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:58:13 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982838175960'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:58:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path, method: :post, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982871668980'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 17:58:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles", :photo_looser_id=>4, :photo_winner_id=>1}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to battle_path(photo_winner_id: @photo1.id, photo_looser_id: @photo2.id), method: :post do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982923940340'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:00:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(battle_path, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id, method: :post) do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982869274520'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:07:46 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(battle_path, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id, method: :post, id: 'photo') do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982840010760'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:08:07 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(battle_path, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id, method: :post, id: @photo1) do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982806368180'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:08:17 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(battle_path, photo_winner_id: @photo1.id, photo_looser_id: @photo2.id, method: :post, id: @photo) do |photo| %>
    4:     <%= photo.name %>
    5:     <%= image_tag @photo1.source_url(:thumb) %>
    6:     <% end %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982918959860'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:09:58 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (1, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(battle_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post) do |photo| %>
    5:     <%= photo.name %>
    6:     <%= image_tag photo.source_url(:thumb) %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982916354580'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:14:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to(image_tag @photo1.source_url(:thumb), battle_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post) do |photo| %>
    5:     <%= photo.name %>
    6:     <%= image_tag photo.source_url(:thumb) %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982871622060'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:15:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms)


  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo1.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo2.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo2.id, method: :post do |photo| @output_buf...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo2.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo1.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo1.id, method: :post do |photo| @output_buf...
...                               ^):
  
app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:18:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo1.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo2.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo2.id, method: :post do  @output_buffer.saf...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo2.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo1.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo1.id, method: :post do  @output_buffer.saf...
...                               ^):
  
app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:18:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo1.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo2.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo2.id, method: :post do  @output_buffer.saf...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
..., battle_path, photo_winner_id: @photo2.id,
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
...               photo_looser_id: @photo1.id, method: :post do...
...                               ^
/home/yaroslav/rails_projects/facemash/app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
..._looser_id: @photo1.id, method: :post do  @output_buffer.saf...
...                               ^):
  
app/views/battles/index.html.erb:3: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:4: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:11: syntax error, unexpected tLABEL
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
app/views/battles/index.html.erb:12: syntax error, unexpected tLABEL, expecting '='
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:19:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"battles"}, missing required keys: [:id]):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to image_tag @photo1.source.url, battle_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___4095576518847263296_69982870197340'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:50:26 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.1ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 27.3ms)


  
ActionView::Template::Error (wrong number of arguments (given 3, expected 1..2)):
    1: <div class="row">
    2:   <div class="photo_left">
    3:     <%= link_to image_tag @photo1.source_url, battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
  
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_33960920'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:51:11 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  Rendered battles/index.html.erb within layouts/application (6.2ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `name' for #<Photo:0x00000005519e60>):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_44561960'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_44561960'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:51:37 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (66.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 2658ms (Views: 2651.6ms | ActiveRecord: 4.2ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-25 18:51:45 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"1h0/gy/bI3sBEGJjmbRychNMMIM9m1xbH7H8jPYOTTjqkqNT6baQZebsO6HnDzVfidbYcCVAwS2uhTRZNsYcTQ=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:18:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920705631080'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920705631080'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:31 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (1, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920761266340'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920761266340'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:45 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 150ms (Views: 146.1ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 96.9ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:53 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 188ms (Views: 177.6ms | ActiveRecord: 6.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 208ms (Views: 203.4ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:56 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:56 +0300
Processing by BattlesController#index as HTML
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 199ms (Views: 188.6ms | ActiveRecord: 2.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:56 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:57 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (4.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 193ms (Views: 181.9ms | ActiveRecord: 7.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:58 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:55:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mPhoto Load (4.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 203ms (Views: 191.0ms | ActiveRecord: 8.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:55:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 91.3ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:01 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 102.3ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:03 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 95.0ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:05 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.5ms | ActiveRecord: 2.1ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-25 18:56:10 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"EQdNzqXiHh5CMOStdnS7MI6BTSyMhJQLOGbLao2JM6ctiNEeY4+tAKXMvW8Iz/wdFBul35RfCX2JUgO/TUFi0g=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:18:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started GET "/" for 127.0.0.1 at 2017-09-25 18:56:17 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 92.3ms | ActiveRecord: 0.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:18 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 106.7ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:56:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:40 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:56:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 192ms (Views: 180.3ms | ActiveRecord: 2.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:45 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:56:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (5.6ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 199ms (Views: 184.1ms | ActiveRecord: 8.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 105.3ms | ActiveRecord: 2.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:56:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:56:48 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (1, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name %>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920796754400'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920796754400'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:56:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:57:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 102.3ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:57:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:57:37 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:57:37 +0300
  
  Rendering battles/index.html.erb within layouts/application
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (8.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 192ms (Views: 181.2ms | ActiveRecord: 5.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:57:39 +0300
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:57:39 +0300
  
Processing by BattlesController#index as HTML
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 206ms (Views: 192.4ms | ActiveRecord: 3.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:57:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:57:40 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:57:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (4.9ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 1)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 5.9ms)


  
ActionView::Template::Error (undefined method `name?' for nil:NilClass):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name if @photo1.user.name?%>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920711903880'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920711903880'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:58:01 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `any?' for "Vlad":String):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name if @photo1.user.name.any?%>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920706376360'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920706376360'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:58:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.5ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `any?' for "Vlad":String):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name if @photo1.user.name.any?%>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920761163920'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920761163920'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:58:57 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 100.9ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:58:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:59:00 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 91.6ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:59:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:59:01 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 18:59:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (8.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 225ms (Views: 209.4ms | ActiveRecord: 10.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:59:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (1, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    2:   <div class="photo_left">
    3:     <%= link_to  battles_path, photo_winner_id: @photo1.id,
    4:                 photo_looser_id: @photo2.id, method: :post do  %>
    5:     <%= @photo1.user.name if !@photo1.user.name.empty?%>
    6:     <%= image_tag @photo1.source_url(:thumb) %>
    7:     <% end %>
    8:   </div>
  
app/views/battles/index.html.erb:5:in `block in _app_views_battles_index_html_erb___3672409123923515819_69920713321780'
app/views/battles/index.html.erb:3:in `_app_views_battles_index_html_erb___3672409123923515819_69920713321780'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 18:59:19 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 92.5ms | ActiveRecord: 1.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-25 18:59:30 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (114.1ms)
Completed 200 OK in 276ms (Views: 164.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-25 18:59:33 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (28.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (297.5ms)
Completed 200 OK in 306ms (Views: 273.2ms | ActiveRecord: 29.4ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-25 18:59:56 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (92.5ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (257.1ms)
Completed 200 OK in 264ms (Views: 164.1ms | ActiveRecord: 97.5ms)


Started DELETE "/admin/photos/1" for 127.0.0.1 at 2017-09-25 19:00:05 +0300
Processing by Admin::PhotosController#destroy as HTML
  Parameters: {"authenticity_token"=>"7idSno9MMfaLGMp98GayZax/OjUq8xT4nFS4SKAjDnTSqM5OSSGC6Gzkk7+O3fVINuXSxjIoiY4tYHCdYOtfAQ==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (34.4ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 1]]
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/photos
Completed 302 Found in 97ms (ActiveRecord: 67.7ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-25 19:00:05 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (144.9ms)
Completed 200 OK in 151ms (Views: 145.5ms | ActiveRecord: 3.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:17 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 105.2ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:19 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 89.6ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:20 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 96.8ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:20 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
Processing by BattlesController#index as HTML
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 192ms (Views: 181.6ms | ActiveRecord: 2.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (5.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 203ms (Views: 188.8ms | ActiveRecord: 7.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:21 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
Processing by BattlesController#index as HTML
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  Rendering battles/index.html.erb within layouts/application
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (11.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 287ms (Views: 266.6ms | ActiveRecord: 9.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
Processing by BattlesController#index as HTML
  [1m[35m (8.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 150ms (Views: 118.0ms | ActiveRecord: 10.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:23 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:23 +0300
Processing by BattlesController#index as HTML
  
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:23 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mPhoto Load (6.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 337ms (Views: 313.5ms | ActiveRecord: 9.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:23 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:23 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:24 +0300
  
  Rendering battles/index.html.erb within layouts/application
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:24 +0300
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  
  Rendered battles/index.html.erb within layouts/application (12.5ms)
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 310ms (Views: 302.9ms | ActiveRecord: 3.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:00:26 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:26 +0300
  
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:00:26 +0300
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  
  
  Rendering battles/index.html.erb within layouts/application
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (17.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (27.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 298ms (Views: 267.3ms | ActiveRecord: 26.5ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:00:30 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"8UPc70A9SXY9BSq472WLLnbHPsroEnSl026+9WTVeYPNzEA/hlD6aNr5c3qR3swD7F3WOfDJ6dNiWnYgpB0o9g=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:18:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:00:57 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"8UPc70A9SXY9BSq472WLLnbHPsroEnSl026+9WTVeYPNzEA/hlD6aNr5c3qR3swD7F3WOfDJ6dNiWnYgpB0o9g=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:18:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 19:01:02 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 112.0ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 19:01:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:01:06 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Oe7s997Md+j/R0AIQk3FBEvwBuIr97XS/mMzvRVV0bEFYXAnGKHE9hi7Gco89oIp0WruETMsKKRPV/to1Z2AxA=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:18:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:13:15 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Oe7s997Md+j/R0AIQk3FBEvwBuIr97XS/mMzvRVV0bEFYXAnGKHE9hi7Gco89oIp0WruETMsKKRPV/to1Z2AxA=="}
Completed 500 Internal Server Error in 349049ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:20:26 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Oe7s997Md+j/R0AIQk3FBEvwBuIr97XS/mMzvRVV0bEFYXAnGKHE9hi7Gco89oIp0WruETMsKKRPV/to1Z2AxA=="}
Completed 500 Internal Server Error in 132935ms (ActiveRecord: 3.1ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles" for 127.0.0.1 at 2017-09-25 19:25:00 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Oe7s997Md+j/R0AIQk3FBEvwBuIr97XS/mMzvRVV0bEFYXAnGKHE9hi7Gco89oIp0WruETMsKKRPV/to1Z2AxA=="}
Completed 400 Bad Request in 7ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:19:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-25 23:14:38 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (62.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 928ms (Views: 884.1ms | ActiveRecord: 14.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 23:14:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-25 23:14:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-25 23:14:56 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 95ms (Views: 85.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-25 23:14:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 84ms (Views: 82.2ms | ActiveRecord: 0.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-25 23:16:25 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 98.7ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-25 23:16:31 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 100.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 02:42:50 +0300
  [1m[35m (13.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (41.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (76.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 5198ms (Views: 4810.9ms | ActiveRecord: 381.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 02:42:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (17.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 152ms (Views: 98.1ms | ActiveRecord: 18.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 02:42:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-26 02:43:01 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"YFy8FEAOf6rIKm2oQ8nd3rEAxzSwbgoJThh8tAH/58tc0yDEhmPMtC/WNGo9cprzK5ovx6i1l3//LLRhwTe2vg=="}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:19:in `battle_params'
app/controllers/battles_controller.rb:10:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:06:23 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:06:27 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-26 16:06:28 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-26 16:06:35 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-26 16:06:52 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-26 16:26:51 +0300
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-26 16:28:09 +0300
  [1m[35m (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (40.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (18.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 802ms (Views: 727.6ms | ActiveRecord: 67.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:28:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 105.9ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:28:14 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-26 16:28:16 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Cltl26c91GLApZc06azyLzAIFda9OnsghWBjaGJRW9021PkLYVBnfCdZzvaXF7UCqpL9JaXh5lY0VKu9opkKqA=="}
Completed 400 Bad Request in 22492ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles" for 127.0.0.1 at 2017-09-26 16:30:11 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Cltl26c91GLApZc06azyLzAIFda9OnsghWBjaGJRW9021PkLYVBnfCdZzvaXF7UCqpL9JaXh5lY0VKu9opkKqA=="}
Completed 400 Bad Request in 101393ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
Started POST "/battles" for 127.0.0.1 at 2017-09-26 16:31:52 +0300
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Cltl26c91GLApZc06azyLzAIFda9OnsghWBjaGJRW9021PkLYVBnfCdZzvaXF7UCqpL9JaXh5lY0VKu9opkKqA=="}
Completed 400 Bad Request in 5733ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:32:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (69.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 571ms (Views: 536.1ms | ActiveRecord: 12.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:32:05 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 16:32:10 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"lydYITiETWRRQFWuxPzgmYrLWyPG4j4AE8h6vz8IRQirqMTx/un+era8DGy6R6e0EFGz0N45o3ai/LJq/8AUfQ==", "photo_looser_id"=>"2", "photo_winner_id"=>"7"}
Completed 400 Bad Request in 42259ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles?photo_looser_id=2&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 16:33:22 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"lydYITiETWRRQFWuxPzgmYrLWyPG4j4AE8h6vz8IRQirqMTx/un+era8DGy6R6e0EFGz0N45o3ai/LJq/8AUfQ==", "photo_looser_id"=>"2", "photo_winner_id"=>"7"}
Completed 400 Bad Request in 144664ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: battle):
  
app/controllers/battles_controller.rb:20:in `battle_params'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles?photo_looser_id=2&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 16:37:01 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"lydYITiETWRRQFWuxPzgmYrLWyPG4j4AE8h6vz8IRQirqMTx/un+era8DGy6R6e0EFGz0N45o3ai/LJq/8AUfQ==", "photo_looser_id"=>"2", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (41.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:37:01.968088"], ["updated_at", "2017-09-26 13:37:01.968088"], ["photo_looser_id", 2], ["photo_winner_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 91ms (ActiveRecord: 48.9ms)


  
ArgumentError (wrong number of arguments (given 2, expected 0)):
  
lib/ratechanger.rb:4:in `initialize'
lib/photoselector.rb:8:in `new'
lib/photoselector.rb:8:in `perform'
app/models/battle.rb:11:in `set_ratings'
app/controllers/battles_controller.rb:11:in `create'
Started POST "/battles?photo_looser_id=2&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 16:38:17 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"lydYITiETWRRQFWuxPzgmYrLWyPG4j4AE8h6vz8IRQirqMTx/un+era8DGy6R6e0EFGz0N45o3ai/LJq/8AUfQ==", "photo_looser_id"=>"2", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:38:17.210052"], ["updated_at", "2017-09-26 13:38:17.210052"], ["photo_looser_id", 2], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1305.0], ["updated_at", "2017-09-26 13:38:17.244040"], ["id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1295.0], ["updated_at", "2017-09-26 13:38:17.249171"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:38:17.251114"], ["count_battles", 1], ["count_win_battles", 1], ["id", 7]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:38:17.252773"], ["count_battles", 1], ["count_loose_battles", 1], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000index
Completed 302 Found in 83ms (ActiveRecord: 13.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:38:57 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 484ms (Views: 478.5ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:38:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=4&photo_winner_id=5" for 127.0.0.1 at 2017-09-26 16:39:00 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"4", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:39:00.553063"], ["updated_at", "2017-09-26 13:39:00.553063"], ["photo_looser_id", 4], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1305.0], ["updated_at", "2017-09-26 13:39:00.556038"], ["id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1295.0], ["updated_at", "2017-09-26 13:39:00.560551"], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:39:00.562709"], ["count_battles", 1], ["count_win_battles", 1], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:39:00.564696"], ["count_battles", 1], ["count_loose_battles", 1], ["id", 4]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000index
Completed 302 Found in 19ms (ActiveRecord: 4.4ms)


Started POST "/battles?photo_looser_id=4&photo_winner_id=5" for 127.0.0.1 at 2017-09-26 16:40:44 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"4", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:40:44.904318"], ["updated_at", "2017-09-26 13:40:44.904318"], ["photo_looser_id", 4], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.856], ["updated_at", "2017-09-26 13:40:44.933382"], ["id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.144], ["updated_at", "2017-09-26 13:40:44.937717"], ["id", 4]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:40:44.939896"], ["count_battles", 2], ["count_win_battles", 2], ["id", 5]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:40:44.955677"], ["count_battles", 2], ["count_loose_battles", 2], ["id", 4]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000index
Completed 302 Found in 105ms (ActiveRecord: 14.9ms)


Started POST "/battles?photo_looser_id=4&photo_winner_id=5" for 127.0.0.1 at 2017-09-26 16:41:18 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"4", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:41:18.527119"], ["updated_at", "2017-09-26 13:41:18.527119"], ["photo_looser_id", 4], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.573], ["updated_at", "2017-09-26 13:41:18.560109"], ["id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1285.427], ["updated_at", "2017-09-26 13:41:18.565483"], ["id", 4]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:41:18.567936"], ["count_battles", 3], ["count_win_battles", 3], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:41:18.570331"], ["count_battles", 3], ["count_loose_battles", 3], ["id", 4]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000index
Completed 302 Found in 81ms (ActiveRecord: 12.8ms)


Started POST "/battles?photo_looser_id=4&photo_winner_id=5" for 127.0.0.1 at 2017-09-26 16:41:21 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"4", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:41:21.544176"], ["updated_at", "2017-09-26 13:41:21.544176"], ["photo_looser_id", 4], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1319.155], ["updated_at", "2017-09-26 13:41:21.548665"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1280.845], ["updated_at", "2017-09-26 13:41:21.552612"], ["id", 4]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:41:21.555256"], ["count_battles", 4], ["count_win_battles", 4], ["id", 5]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:41:21.557983"], ["count_battles", 4], ["count_loose_battles", 4], ["id", 4]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000index
Completed 302 Found in 25ms (ActiveRecord: 5.0ms)


Started POST "/battles?photo_looser_id=5&photo_winner_id=4" for 127.0.0.1 at 2017-09-26 16:42:16 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"5", "photo_winner_id"=>"4"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:42:16.222266"], ["updated_at", "2017-09-26 13:42:16.222266"], ["photo_looser_id", 5], ["photo_winner_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1286.394], ["updated_at", "2017-09-26 13:42:16.262551"], ["id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1313.606], ["updated_at", "2017-09-26 13:42:16.266634"], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:42:16.268320"], ["count_battles", 5], ["count_win_battles", 1], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:42:16.269681"], ["count_battles", 5], ["count_loose_battles", 1], ["id", 5]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 329ms (ActiveRecord: 13.1ms)


  
NoMethodError (undefined method `index_url' for #<BattlesController:0x00000007877268>
Did you mean?  index):
  
app/controllers/battles_controller.rb:12:in `create'
Started POST "/battles?photo_looser_id=5&photo_winner_id=4" for 127.0.0.1 at 2017-09-26 16:42:56 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"H0Fzon1hF8eKVeORgX9xVqSVB/GpNJ4/v6vD/6kMKC8jzu9yuwyk2W2pulP/xDZ7Pg/vArHvA0kOnwsqacR5Wg==", "photo_looser_id"=>"5", "photo_winner_id"=>"4"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:42:57.122876"], ["updated_at", "2017-09-26 13:42:57.122876"], ["photo_looser_id", 5], ["photo_winner_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1291.785], ["updated_at", "2017-09-26 13:42:57.145178"], ["id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1308.215], ["updated_at", "2017-09-26 13:42:57.148823"], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:42:57.150639"], ["count_battles", 6], ["count_win_battles", 2], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:42:57.152541"], ["count_battles", 6], ["count_loose_battles", 2], ["id", 5]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 65ms (ActiveRecord: 15.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:42:57 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 311ms (Views: 306.5ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:42:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 16:43:02 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"uFuQkCcv2wap3ArKGyJE4yYeoukoFseghrtnKSwcJe+E1AxA4UJoGE4gUwhlmQPOvIRKGjDNWtY3j6/87NR0mg==", "photo_looser_id"=>"2", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:43:02.254842"], ["updated_at", "2017-09-26 13:43:02.254842"], ["photo_looser_id", 2], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.856], ["updated_at", "2017-09-26 13:43:02.259033"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.144], ["updated_at", "2017-09-26 13:43:02.263949"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:43:02.266201"], ["count_battles", 2], ["count_win_battles", 2], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:43:02.267885"], ["count_battles", 2], ["count_loose_battles", 2], ["id", 2]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 22ms (ActiveRecord: 5.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:43:02 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 168ms (Views: 162.7ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:43:27 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 113.5ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:27 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:43:29 +0300
Processing by BattlesController#index as HTML
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:29 +0300
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mPhoto Load (5.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 339ms (Views: 314.7ms | ActiveRecord: 11.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 16:43:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=8" for 127.0.0.1 at 2017-09-26 16:43:31 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"9yOsks0J3n1GK192O7x23VsiMY1hLm+r5GNXcObOMt/LrDBCC2RtY6HXBrRFBzHwwbjZfnn18t1VV5+lJgZjqg==", "photo_looser_id"=>"3", "photo_winner_id"=>"8"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 13:43:31.114914"], ["updated_at", "2017-09-26 13:43:31.114914"], ["photo_looser_id", 3], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1305.0], ["updated_at", "2017-09-26 13:43:31.118055"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1295.0], ["updated_at", "2017-09-26 13:43:31.121492"], ["id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:43:31.123942"], ["count_battles", 1], ["count_win_battles", 1], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 13:43:31.125785"], ["count_battles", 1], ["count_loose_battles", 1], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 19ms (ActiveRecord: 4.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 16:43:31 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.4ms | ActiveRecord: 2.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-09-26 16:43:48 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (121.5ms)
Completed 200 OK in 256ms (Views: 166.6ms | ActiveRecord: 0.5ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-26 16:43:50 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (20.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mBattle Load (0.6ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (325.4ms)
Completed 200 OK in 334ms (Views: 304.8ms | ActiveRecord: 25.7ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-26 17:03:40 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (532.6ms)
Completed 200 OK in 578ms (Views: 531.7ms | ActiveRecord: 13.4ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-26 17:03:43 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (154.5ms)
Completed 200 OK in 161ms (Views: 155.1ms | ActiveRecord: 3.2ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-26 17:03:56 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (160.6ms)
Completed 200 OK in 167ms (Views: 159.8ms | ActiveRecord: 4.7ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-26 17:04:09 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (153.0ms)
Completed 200 OK in 160ms (Views: 153.2ms | ActiveRecord: 3.6ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-26 17:05:18 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (171.9ms)
Completed 200 OK in 213ms (Views: 170.4ms | ActiveRecord: 11.0ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-26 17:05:46 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (82.8ms)
Completed 200 OK in 87ms (Views: 85.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-09-26 17:05:47 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "battles" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (172.1ms)
Completed 200 OK in 180ms (Views: 172.4ms | ActiveRecord: 3.8ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-09-26 17:05:49 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "users" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (132.6ms)
Completed 200 OK in 142ms (Views: 136.7ms | ActiveRecord: 1.4ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-09-26 17:05:51 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "photos" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (156.6ms)
Completed 200 OK in 164ms (Views: 157.7ms | ActiveRecord: 3.2ms)


Started GET "/admin/photos/8" for 127.0.0.1 at 2017-09-26 17:05:56 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (98.5ms)
Completed 200 OK in 106ms (Views: 101.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/photos/8/edit" for 127.0.0.1 at 2017-09-26 17:06:03 +0300
Processing by Admin::PhotosController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (164.8ms)
Completed 200 OK in 173ms (Views: 167.8ms | ActiveRecord: 1.4ms)


Started GET "/admin/dashboard" for 127.0.0.1 at 2017-09-26 17:06:10 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.9ms)
Completed 200 OK in 97ms (Views: 94.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 17:06:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 107.7ms | ActiveRecord: 0.6ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-26 17:06:18 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 98ms (Views: 90.8ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-26 17:06:20 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (16.7ms)
  Rendered photos/edit.html.erb within layouts/application (20.4ms)
Completed 200 OK in 187ms (Views: 180.1ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 17:06:22 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.7ms | ActiveRecord: 1.8ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-26 17:06:23 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 102.9ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 17:06:24 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 92.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 17:26:36 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 499ms (Views: 486.3ms | ActiveRecord: 7.0ms)


Started GET "/top" for 127.0.0.1 at 2017-09-26 17:26:39 +0300
  
AbstractController::ActionNotFound (The action 'top' could not be found for BattlesController):
  
actionpack (5.1.3) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:27:02 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (23.6ms)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 6.8ms)


  
ActionView::Template::Error (undefined method `symbolize_keys' for "/photo.7":String):
     7:       <%= link_to photo.user.name,photo_path(photo) %>
     8:     </div>
     9:     <div class="photo-source">
    10:       <%= link_to image_tag photo.source_url(:thumb), photo_path(photo) %>
    11:     </div>
    12:     <div class="photo-rating">
    13:       <h3><%= photo.rating %></h3>
  
app/views/photos/top.html.erb:10:in `block in _app_views_photos_top_html_erb__3162143722363960138_69938078191020'
app/views/photos/top.html.erb:4:in `_app_views_photos_top_html_erb__3162143722363960138_69938078191020'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:27:44 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (undefined method `symbolize_keys' for "/photo":String):
     7:       <%= link_to photo.user.name,photo_path(photo) %>
     8:     </div>
     9:     <div class="photo-source">
    10:       <%= link_to image_tag photo.source_url(:thumb), photo_path %>
    11:     </div>
    12:     <div class="photo-rating">
    13:       <h3><%= photo.rating %></h3>
  
app/views/photos/top.html.erb:10:in `block in _app_views_photos_top_html_erb__3162143722363960138_46511380'
app/views/photos/top.html.erb:4:in `_app_views_photos_top_html_erb__3162143722363960138_46511380'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:28:13 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (14.0ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.6ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:14 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:28:23 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (7.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.3ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:23 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:23 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:28:29 +0300
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:29 +0300
Processing by PhotosController#top as HTML
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (15.6ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 309ms (Views: 293.2ms | ActiveRecord: 3.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:28:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:29:36 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (12.4ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 98.8ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:29:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:30:02 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (12.8ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 101.1ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:30:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:31:03 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (11.3ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.6ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:31:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:32:17 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 111.5ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:32:43 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 118.4ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:32:45 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (12.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.2ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:32:50 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (7.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 105.9ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:50 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:50 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:32:53 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (17.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 116.9ms | ActiveRecord: 2.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:32:53 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:34:04 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (11.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 114.9ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:34:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:34:33 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (11.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 110.6ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:34:33 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:34:57 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (14.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 109.7ms | ActiveRecord: 2.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:34:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:35:00 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (13.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 108.3ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:35:06 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.8ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 112.0ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:07 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:35:11 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (8.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 97.6ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:11 +0300
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:11 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:12 +0300
  
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:35:12 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:12 +0300
Processing by PhotosController#top as HTML
  
  
  Parameters: {"page"=>"1"}
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (9.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (32.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 319ms (Views: 296.1ms | ActiveRecord: 13.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:35:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:41:41 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 110.8ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:41:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.7" for 127.0.0.1 at 2017-09-26 17:41:44 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 111ms (Views: 105.1ms | ActiveRecord: 0.5ms)


Started GET "/top" for 127.0.0.1 at 2017-09-26 17:41:46 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (13.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.2ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:41:46 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.7" for 127.0.0.1 at 2017-09-26 17:41:47 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 99ms (Views: 92.8ms | ActiveRecord: 0.6ms)


Started GET "/top" for 127.0.0.1 at 2017-09-26 17:41:49 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 118.1ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:41:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.3" for 127.0.0.1 at 2017-09-26 17:43:09 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 98ms (Views: 92.6ms | ActiveRecord: 0.5ms)


Started GET "/photo.6" for 127.0.0.1 at 2017-09-26 17:43:17 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 108ms (Views: 101.6ms | ActiveRecord: 0.7ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-26 17:43:23 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 98ms (Views: 93.0ms | ActiveRecord: 0.5ms)


Started GET "/photo.7" for 127.0.0.1 at 2017-09-26 17:43:32 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 103.4ms | ActiveRecord: 0.6ms)


Started GET "/top" for 127.0.0.1 at 2017-09-26 17:44:46 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (12.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 103.8ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:44:46 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-26 17:47:30 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (9.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.1ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:47:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:48:10 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (5.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 96.8ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:10 +0300
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:48:12 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 105.9ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:13 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:50 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:48:50 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:50 +0300
Processing by PhotosController#top as HTML
  
  Parameters: {"page"=>"2"}
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (22.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (6.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (25.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 352ms (Views: 258.1ms | ActiveRecord: 36.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:48:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:49:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:49:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:50:25 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (8.3ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 97ms (Views: 93.2ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:50:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=2" for 127.0.0.1 at 2017-09-26 17:51:51 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (5.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 106.9ms | ActiveRecord: 1.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:51:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:51:51 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:51:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:51:53 +0300
Processing by PhotosController#top as HTML
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:51:53 +0300
  Parameters: {"page"=>"1"}
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (11.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (15.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (90.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 272ms (Views: 234.1ms | ActiveRecord: 29.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:51:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:52:11 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 93.6ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:52:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:52:26 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (8.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 87.7ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:52:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:52:36 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (9.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 97.4ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:52:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-26 17:56:53 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (21.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 98.3ms | ActiveRecord: 7.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:56:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-26 17:56:56 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Photo with 'id'=):
  
app/controllers/photos_controller.rb:10:in `show'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-26 17:58:25 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 111ms (Views: 81.7ms | ActiveRecord: 4.7ms)


Started GET "/top" for 127.0.0.1 at 2017-09-26 17:58:28 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 93ms (Views: 89.2ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:58:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-26 17:58:39 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 99.1ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-26 17:58:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=8&photo_winner_id=5" for 127.0.0.1 at 2017-09-26 17:58:41 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"5bI13QWSVYtdx2b5CL3DRJ/gM7c3V+/wTI7OQyjIaMvZPakNw//mlbo7Pzt2BoRpBXrbRC+Mcob9ugaW6AA5vg==", "photo_looser_id"=>"8", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 14:58:41.104923"], ["updated_at", "2017-09-26 14:58:41.104923"], ["photo_looser_id", 8], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1313.169], ["updated_at", "2017-09-26 14:58:41.109920"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1300.046], ["updated_at", "2017-09-26 14:58:41.113392"], ["id", 8]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 14:58:41.114825"], ["count_battles", 7], ["count_win_battles", 5], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 14:58:41.116109"], ["count_battles", 2], ["count_loose_battles", 1], ["id", 8]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 28ms (ActiveRecord: 6.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 17:58:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 80.8ms | ActiveRecord: 1.8ms)


Started POST "/battles?photo_looser_id=4&photo_winner_id=7" for 127.0.0.1 at 2017-09-26 17:58:43 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"x47/EQ5bMnt78coemEQ26Zebtf7CThlm7fY0Dvf9CAn7AWPByDaBZZwNk9zm/3HEDQFdDdqVhBBcwvzbNzVZfA==", "photo_looser_id"=>"4", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 14:58:43.123513"], ["updated_at", "2017-09-26 14:58:43.123513"], ["photo_looser_id", 4], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.596], ["updated_at", "2017-09-26 14:58:43.126665"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1287.045], ["updated_at", "2017-09-26 14:58:43.129741"], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 14:58:43.131416"], ["count_battles", 3], ["count_win_battles", 3], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 14:58:43.132933"], ["count_battles", 7], ["count_loose_battles", 5], ["id", 4]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 17ms (ActiveRecord: 4.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 17:58:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 99.5ms | ActiveRecord: 1.2ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-26 17:58:45 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.5ms)
  Rendered photos/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 98ms (Views: 92.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 17:58:47 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 82.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-26 23:59:22 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1384ms (Views: 1371.0ms | ActiveRecord: 6.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-26 23:59:26 +0300
  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/controllers/battles_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/battles_controller.rb:28: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:02:38 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (18.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 134.4ms | ActiveRecord: 5.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 00:02:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:02:40 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 137.5ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 00:02:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 00:02:42 +0300
Started POST "/battles?photo_looser_id=2&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 00:02:42 +0300
Processing by BattlesController#create as JS
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"6"}
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"6"}
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:42.457744"], ["updated_at", "2017-09-26 21:02:42.457744"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.858], ["updated_at", "2017-09-26 21:02:42.463263"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1285.286], ["updated_at", "2017-09-26 21:02:42.468305"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:42.471166"], ["count_battles", 1], ["count_win_battles", 1], ["id", 6]]
  [1m[36mPhoto Load (1.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:42.473774"], ["count_battles", 3], ["count_loose_battles", 3], ["id", 2]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:42.476809"], ["updated_at", "2017-09-26 21:02:42.476809"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (6.7ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.858], ["updated_at", "2017-09-26 21:02:42.480354"], ["id", 6]]
Redirected to http://localhost:3000/battles
Completed 200 OK in 60ms (ActiveRecord: 20.3ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1285.286], ["updated_at", "2017-09-26 21:02:42.499797"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:42.501549"], ["count_battles", 1], ["count_win_battles", 1], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:42.503051"], ["count_battles", 3], ["count_loose_battles", 3], ["id", 2]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 68ms (ActiveRecord: 23.5ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=2" for 127.0.0.1 at 2017-09-27 00:02:47 +0300
Started POST "/battles?photo_looser_id=6&photo_winner_id=2" for 127.0.0.1 at 2017-09-27 00:02:47 +0300
Processing by BattlesController#create as JS
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"2"}
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:47.574943"], ["updated_at", "2017-09-26 21:02:47.574943"], ["photo_looser_id", 6], ["photo_winner_id", 2]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:47.575952"], ["updated_at", "2017-09-26 21:02:47.575952"], ["photo_looser_id", 6], ["photo_winner_id", 2]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.567], ["updated_at", "2017-09-26 21:02:47.579504"], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1299.577], ["updated_at", "2017-09-26 21:02:47.583755"], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:47.585282"], ["count_battles", 4], ["count_win_battles", 1], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:47.586665"], ["count_battles", 2], ["count_loose_battles", 1], ["id", 6]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (8.9ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.567], ["updated_at", "2017-09-26 21:02:47.580939"], ["id", 2]]
Redirected to http://localhost:3000/battles
Completed 200 OK in 24ms (ActiveRecord: 9.1ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1299.577], ["updated_at", "2017-09-26 21:02:47.594435"], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:47.596710"], ["count_battles", 4], ["count_win_battles", 1], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:47.598423"], ["count_battles", 2], ["count_loose_battles", 1], ["id", 6]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 33ms (ActiveRecord: 18.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:02:49 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 100.4ms | ActiveRecord: 1.6ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:02:51 +0300
Started POST "/battles?photo_looser_id=6&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:02:51 +0300
Processing by BattlesController#create as JS
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"4"}
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:51.122789"], ["updated_at", "2017-09-26 21:02:51.122789"], ["photo_looser_id", 6], ["photo_winner_id", 4]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:02:51.123870"], ["updated_at", "2017-09-26 21:02:51.123870"], ["photo_looser_id", 6], ["photo_winner_id", 4]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1292.225], ["updated_at", "2017-09-26 21:02:51.127673"], ["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1294.397], ["updated_at", "2017-09-26 21:02:51.132411"], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:51.134071"], ["count_battles", 8], ["count_win_battles", 3], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:51.135486"], ["count_battles", 3], ["count_loose_battles", 2], ["id", 6]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (8.8ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1292.225], ["updated_at", "2017-09-26 21:02:51.129272"], ["id", 4]]
Redirected to http://localhost:3000/battles
Completed 200 OK in 25ms (ActiveRecord: 8.9ms)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1294.397], ["updated_at", "2017-09-26 21:02:51.142825"], ["id", 6]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:51.145062"], ["count_battles", 8], ["count_win_battles", 3], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:02:51.146808"], ["count_battles", 3], ["count_loose_battles", 2], ["id", 6]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 34ms (ActiveRecord: 19.7ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:26 +0300
Started POST "/battles?photo_looser_id=6&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:26 +0300
Processing by BattlesController#create as JS
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"4"}
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"4"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:26.301800"], ["updated_at", "2017-09-26 21:03:26.301800"], ["photo_looser_id", 6], ["photo_winner_id", 4]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:26.302577"], ["updated_at", "2017-09-26 21:03:26.302577"], ["photo_looser_id", 6], ["photo_winner_id", 4]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1297.256], ["updated_at", "2017-09-26 21:03:26.306509"], ["id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1289.366], ["updated_at", "2017-09-26 21:03:26.310772"], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:26.312432"], ["count_battles", 9], ["count_win_battles", 4], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:26.313877"], ["count_battles", 4], ["count_loose_battles", 3], ["id", 6]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (8.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1297.256], ["updated_at", "2017-09-26 21:03:26.308082"], ["id", 4]]
Redirected to http://localhost:3000/battles
Completed 200 OK in 24ms (ActiveRecord: 8.6ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1289.366], ["updated_at", "2017-09-26 21:03:26.320641"], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:26.322470"], ["count_battles", 9], ["count_win_battles", 4], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:26.324219"], ["count_battles", 4], ["count_loose_battles", 3], ["id", 6]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 51ms (ActiveRecord: 36.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:03:27 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 114.0ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 00:03:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:29 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"3", "photo_winner_id"=>"4"}
Started POST "/battles?photo_looser_id=3&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:29 +0300
Processing by BattlesController#create as JS
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  Parameters: {"photo_looser_id"=>"3", "photo_winner_id"=>"4"}
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:29.354576"], ["updated_at", "2017-09-26 21:03:29.354576"], ["photo_looser_id", 3], ["photo_winner_id", 4]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1302.224], ["updated_at", "2017-09-26 21:03:29.359348"], ["id", 4]]
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:29.360616"], ["updated_at", "2017-09-26 21:03:29.360616"], ["photo_looser_id", 3], ["photo_winner_id", 4]]
  [1m[36mUser Load (10.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.032], ["updated_at", "2017-09-26 21:03:29.375003"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:29.378611"], ["count_battles", 10], ["count_win_battles", 5], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:29.380193"], ["count_battles", 2], ["count_loose_battles", 2], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
  [1m[35mSQL (6.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1302.224], ["updated_at", "2017-09-26 21:03:29.376667"], ["id", 4]]
Completed 200 OK in 35ms (ActiveRecord: 19.7ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1290.032], ["updated_at", "2017-09-26 21:03:29.387355"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:29.389281"], ["count_battles", 10], ["count_win_battles", 5], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:29.390788"], ["count_battles", 2], ["count_loose_battles", 2], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 42ms (ActiveRecord: 16.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:03:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 114.0ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 00:03:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:43 +0300
Processing by BattlesController#create as JS
Started POST "/battles?photo_looser_id=2&photo_winner_id=4" for 127.0.0.1 at 2017-09-27 00:03:43 +0300
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"4"}
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"4"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:43.364398"], ["updated_at", "2017-09-26 21:03:43.364398"], ["photo_looser_id", 2], ["photo_winner_id", 4]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:03:43.365609"], ["updated_at", "2017-09-26 21:03:43.365609"], ["photo_looser_id", 2], ["photo_winner_id", 4]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1307.056], ["updated_at", "2017-09-26 21:03:43.369822"], ["id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1285.735], ["updated_at", "2017-09-26 21:03:43.374340"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:43.375827"], ["count_battles", 11], ["count_win_battles", 6], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:43.377185"], ["count_battles", 5], ["count_loose_battles", 4], ["id", 2]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 23ms (ActiveRecord: 7.2ms)


  [1m[35mSQL (9.7ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1307.056], ["updated_at", "2017-09-26 21:03:43.371463"], ["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1285.735], ["updated_at", "2017-09-26 21:03:43.384965"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:43.387502"], ["count_battles", 11], ["count_win_battles", 6], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:03:43.389414"], ["count_battles", 5], ["count_loose_battles", 4], ["id", 2]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 35ms (ActiveRecord: 19.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 00:05:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 263.0ms | ActiveRecord: 1.8ms)


Started POST "/battles?photo_looser_id=5&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 00:05:19 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"5", "photo_winner_id"=>"6"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:05:19.774988"], ["updated_at", "2017-09-26 21:05:19.774988"], ["photo_looser_id", 5], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1294.708], ["updated_at", "2017-09-26 21:05:19.778728"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1307.827], ["updated_at", "2017-09-26 21:05:19.782520"], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:19.784461"], ["count_battles", 5], ["count_win_battles", 2], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:19.785980"], ["count_battles", 8], ["count_loose_battles", 3], ["id", 5]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 21ms (ActiveRecord: 6.9ms)


Started POST "/battles?photo_looser_id=5&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 00:05:23 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"5", "photo_winner_id"=>"6"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:05:23.210001"], ["updated_at", "2017-09-26 21:05:23.210001"], ["photo_looser_id", 5], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1299.897], ["updated_at", "2017-09-26 21:05:23.214399"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1302.638], ["updated_at", "2017-09-26 21:05:23.217744"], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:23.219404"], ["count_battles", 6], ["count_win_battles", 3], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:23.220822"], ["count_battles", 9], ["count_loose_battles", 4], ["id", 5]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 24ms (ActiveRecord: 4.7ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=5" for 127.0.0.1 at 2017-09-27 00:05:29 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"6", "photo_winner_id"=>"5"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-26 21:05:29.924797"], ["updated_at", "2017-09-26 21:05:29.924797"], ["photo_looser_id", 6], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1307.599], ["updated_at", "2017-09-26 21:05:29.929529"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1294.936], ["updated_at", "2017-09-26 21:05:29.933626"], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:29.935388"], ["count_battles", 10], ["count_win_battles", 6], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-26 21:05:29.936917"], ["count_battles", 7], ["count_loose_battles", 4], ["id", 6]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 23ms (ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 16:59:55 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1574ms (Views: 1559.9ms | ActiveRecord: 7.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 16:59:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 98.6ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 16:59:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 17:04:37 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"8"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 14:04:37.793977"], ["updated_at", "2017-09-27 14:04:37.793977"], ["photo_looser_id", 2], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.84], ["updated_at", "2017-09-27 14:04:37.818294"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1280.941], ["updated_at", "2017-09-27 14:04:37.822138"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 14:04:37.823681"], ["count_battles", 3], ["count_win_battles", 2], ["id", 8]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 14:04:37.825010"], ["count_battles", 6], ["count_loose_battles", 5], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 49ms (ActiveRecord: 8.3ms)


Started POST "/battles?photo_looser_id=2&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 17:06:00 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"8"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 14:06:00.675059"], ["updated_at", "2017-09-27 14:06:00.675059"], ["photo_looser_id", 2], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.497], ["updated_at", "2017-09-27 14:06:00.677916"], ["id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1276.284], ["updated_at", "2017-09-27 14:06:00.681171"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 14:06:00.682996"], ["count_battles", 4], ["count_win_battles", 3], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 14:06:00.684597"], ["count_battles", 7], ["count_loose_battles", 6], ["id", 2]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 26ms (ActiveRecord: 13.1ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-27 17:06:03 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (4.1ms)
  Rendered photos/edit.html.erb within layouts/application (7.5ms)
Completed 200 OK in 121ms (Views: 110.4ms | ActiveRecord: 0.7ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 17:06:05 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 109ms (Views: 102.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 17:06:07 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 104.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 17:07:03 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 99.5ms | ActiveRecord: 0.8ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 17:07:04 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 107ms (Views: 100.5ms | ActiveRecord: 0.6ms)


Started GET "/top" for 127.0.0.1 at 2017-09-27 17:07:22 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (11.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 115.1ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 17:07:43 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 17:58:55 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 366ms (Views: 364.1ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:58:56 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 108.6ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 17:58:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 113.7ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 17:59:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:06 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 132ms (Views: 128.3ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 17:59:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:08 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 149ms (Views: 144.6ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 17:59:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.5ms | ActiveRecord: 1.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:42 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 199ms (Views: 190.2ms | ActiveRecord: 3.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 17:59:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.5ms | ActiveRecord: 2.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 17:59:56 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 110.0ms | ActiveRecord: 2.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:03:33 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 180ms (Views: 175.6ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:03:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:03:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 100.1ms | ActiveRecord: 1.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 123.3ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 97.9ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:14 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:17 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 114.0ms | ActiveRecord: 1.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:34 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 126.0ms | ActiveRecord: 1.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:37 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 101.0ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:39 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 118.8ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:04:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 104.9ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:04:42 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 110.3ms | ActiveRecord: 2.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:05:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 144ms (Views: 139.3ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:05:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:05:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 119.1ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:05:29 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 123.3ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:05:56 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.4ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:05:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:05:57 +0300
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:05:57 +0300
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:05:57 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:05:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 102.6ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:06:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:01 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.7ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:06:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:02 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 104.9ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:06:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 105.2ms | ActiveRecord: 1.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:07 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 108.9ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:06:07 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:23 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 141ms (Views: 135.6ms | ActiveRecord: 2.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:06:53 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 140.4ms | ActiveRecord: 2.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:07:22 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 135.1ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:07:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:07:23 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:07:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 103.6ms | ActiveRecord: 2.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:08:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.3ms | ActiveRecord: 1.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:08:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 104.3ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:08:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:08:52 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 104.6ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:05 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 105.1ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:45 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 104.4ms | ActiveRecord: 1.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:48 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 105.1ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:09:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:50 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 118.1ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:09:50 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 108.4ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:09:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:53 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 110.7ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 113.6ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:09:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:55 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 107.6ms | ActiveRecord: 2.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:09:56 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:57 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 117.5ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:09:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.9ms | ActiveRecord: 1.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:10:00 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 120.6ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:10:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:10:30 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 127.6ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:10:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:10:33 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 103.9ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:10:49 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 149.4ms | ActiveRecord: 1.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:10:58 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.7ms | ActiveRecord: 1.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:11:09 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.9ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:11:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:11:12 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 107.0ms | ActiveRecord: 2.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:11:27 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 149ms (Views: 135.0ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:12:28 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:12:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:12:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 111.5ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:12:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:12:38 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 108.6ms | ActiveRecord: 2.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:12:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 141.8ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:13:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:13:02 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.1ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:13:31 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 180ms (Views: 175.3ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:13:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:13:34 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.1ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:13:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:13:50 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 148ms (Views: 144.7ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:13:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:13:53 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 111.4ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:14:56 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 154ms (Views: 148.6ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 18:15:12 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 106.6ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 18:15:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 99.2ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 18:15:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-27 19:50:48 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1406ms (Views: 1390.0ms | ActiveRecord: 6.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:50:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.5ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 19:50:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 19:50:58 +0300
Processing by BattlesController#create as JS
  Parameters: {"photo_looser_id"=>"2", "photo_winner_id"=>"6"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 16:50:58.940063"], ["updated_at", "2017-09-27 16:50:58.940063"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1299.668], ["updated_at", "2017-09-27 16:50:58.946332"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1271.552], ["updated_at", "2017-09-27 16:50:58.952021"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 16:50:58.953975"], ["count_battles", 8], ["count_win_battles", 4], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 16:50:58.955495"], ["count_battles", 8], ["count_loose_battles", 7], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 36ms (ActiveRecord: 8.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:51:21 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 133.4ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 19:51:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:51:22 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 141ms (Views: 136.0ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 19:51:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:51:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 162ms (Views: 157.3ms | ActiveRecord: 2.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:51:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 124ms (Views: 119.7ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 19:51:27 +0300
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 19:51:27 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 19:51:28 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 130.5ms | ActiveRecord: 3.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:00:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 125.0ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:00:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:04:56 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 122.4ms | ActiveRecord: 2.1ms)


Started POST "/battles?photo_looser_id=8&photo_winner_id=7" for 127.0.0.1 at 2017-09-27 20:04:59 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"uC7cp3YtZ7AoEWUMy6vz78Q/AOm8a8te9E/8Jq8EnLmEoUB3sEDUrs/tPM61ELTCXqXoGqSwVihFezTzb8zNzA==", "photo_looser_id"=>"8", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:04:59.886243"], ["updated_at", "2017-09-27 17:04:59.886243"], ["photo_looser_id", 8], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1319.523], ["updated_at", "2017-09-27 17:04:59.889355"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.57], ["updated_at", "2017-09-27 17:04:59.893004"], ["id", 8]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:04:59.895335"], ["count_battles", 4], ["count_win_battles", 4], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:04:59.897642"], ["count_battles", 5], ["count_loose_battles", 2], ["id", 8]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 21ms (ActiveRecord: 4.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:04:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 128.2ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:05:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:08:39 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (23.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 168ms (Views: 149.8ms | ActiveRecord: 7.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:08:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles.json" for 127.0.0.1 at 2017-09-27 20:09:00 +0300
Processing by BattlesController#index as JSON
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:09:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 129.7ms | ActiveRecord: 1.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:16:53 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 117.6ms | ActiveRecord: 2.0ms)


Started POST "/battles?photo_looser_id=7&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 20:17:00 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"DOUf8uBXg411u3EDl7pjIQ38VdNz99eQy78DLkaPalMwaoMiJjowk5JHKMHpASQMl2a9IGssSuZ6i8v7hkc7Jg==", "photo_looser_id"=>"7", "photo_winner_id"=>"8"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:17:00.763784"], ["updated_at", "2017-09-27 17:17:00.763784"], ["photo_looser_id", 7], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.785], ["updated_at", "2017-09-27 17:17:00.769019"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.308], ["updated_at", "2017-09-27 17:17:00.772350"], ["id", 7]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:17:00.774132"], ["count_battles", 6], ["count_win_battles", 4], ["id", 8]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:17:00.775529"], ["count_battles", 5], ["count_loose_battles", 1], ["id", 7]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 47ms (ActiveRecord: 25.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:17:00 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 114.2ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:17:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:17:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:22:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 110.2ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:22:54 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:22:54 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=2" for 127.0.0.1 at 2017-09-27 20:23:10 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"D5tV0hQDQs+Fm2ya/8j7SNTEkKdz8WbMeQQC/9w1l6EzFMkC0m7x0WJnNViBc7xlTl54VGsq+7rIMMoqHP3G1A==", "photo_looser_id"=>"3", "photo_winner_id"=>"2"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:23:10.021377"], ["updated_at", "2017-09-27 17:23:10.021377"], ["photo_looser_id", 3], ["photo_winner_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1276.818], ["updated_at", "2017-09-27 17:23:10.024938"], ["id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1284.766], ["updated_at", "2017-09-27 17:23:10.030439"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:10.032452"], ["count_battles", 9], ["count_win_battles", 2], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:10.034016"], ["count_battles", 3], ["count_loose_battles", 3], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 20ms (ActiveRecord: 4.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:23:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 129.0ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:23:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=5" for 127.0.0.1 at 2017-09-27 20:23:17 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"k3zn1xfNzStFvLIWbvdKsOIHk0KlHqFjc/cns3C8z0Ov83sH0aB+NaJA69QQTA2deJ17sb3FPBXCw+9msHSeNg==", "photo_looser_id"=>"3", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:23:17.232276"], ["updated_at", "2017-09-27 17:23:17.232276"], ["photo_looser_id", 3], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1312.271], ["updated_at", "2017-09-27 17:23:17.235037"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1280.094], ["updated_at", "2017-09-27 17:23:17.238142"], ["id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:17.239867"], ["count_battles", 11], ["count_win_battles", 7], ["id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:17.241775"], ["count_battles", 4], ["count_loose_battles", 4], ["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 26ms (ActiveRecord: 12.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:23:17 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 111.7ms | ActiveRecord: 1.7ms)


Started POST "/battles?photo_looser_id=8&photo_winner_id=5" for 127.0.0.1 at 2017-09-27 20:23:30 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"wvVDBnbRYJ9YySZwm7s2yO5sDuVe/aSjKqlmyILrXM/+et/WsLzTgb81f7LlAHHldPbmFkYmOdWbna4dQiMNug==", "photo_looser_id"=>"8", "photo_winner_id"=>"5"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:23:30.460675"], ["updated_at", "2017-09-27 17:23:30.460675"], ["photo_looser_id", 8], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1317.235], ["updated_at", "2017-09-27 17:23:30.464398"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.821], ["updated_at", "2017-09-27 17:23:30.468312"], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:30.470847"], ["count_battles", 12], ["count_win_battles", 8], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:23:30.472533"], ["count_battles", 7], ["count_loose_battles", 3], ["id", 8]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 24ms (ActiveRecord: 8.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:23:30 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.7ms | ActiveRecord: 1.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:26:03 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 114.5ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:26:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=7" for 127.0.0.1 at 2017-09-27 20:26:08 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Kt5+lajlY2fMLcd9VwP6JqAonVoywtU4mPLsE4L4o0AWUeJFbojQeSvRnr8puL0LOrJ1qSoZSE4pxiTGQjDyNQ==", "photo_looser_id"=>"3", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:26:08.619323"], ["updated_at", "2017-09-27 17:26:08.619323"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1318.817], ["updated_at", "2017-09-27 17:26:08.622540"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1275.585], ["updated_at", "2017-09-27 17:26:08.626030"], ["id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:26:08.630192"], ["count_battles", 6], ["count_win_battles", 5], ["id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:26:08.632691"], ["count_battles", 5], ["count_loose_battles", 5], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 22ms (ActiveRecord: 6.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:26:08 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 106.1ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:26:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 20:26:13 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"wNAWEDS/zcMK1YWZekWGSDuh8E21nS0Kv3dnBUE+31b8X4rA8tJ+3e0p3FsE/sFloTsYvq1GsHwOQ6/QgfaOIw==", "photo_looser_id"=>"3", "photo_winner_id"=>"8"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:26:13.999963"], ["updated_at", "2017-09-27 17:26:13.999963"], ["photo_looser_id", 3], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.401], ["updated_at", "2017-09-27 17:26:14.005434"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1271.005], ["updated_at", "2017-09-27 17:26:14.009815"], ["id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:26:14.012077"], ["count_battles", 8], ["count_win_battles", 5], ["id", 8]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:26:14.014338"], ["count_battles", 6], ["count_loose_battles", 6], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 24ms (ActiveRecord: 6.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:26:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 148.2ms | ActiveRecord: 2.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:27:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 116.8ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:27:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:27:19 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"McHNkJwCW7OfaMeogdZj10/Ip82xbmLRwyTgS7GNubANTlFAWm/orXiUnmr/bST61VJPPqm1/6dyECiecUXoxQ==", "photo_looser_id"=>"3", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:27:19.427520"], ["updated_at", "2017-09-27 17:27:19.427520"], ["photo_looser_id", 3], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.256], ["updated_at", "2017-09-27 17:27:19.430171"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1266.417], ["updated_at", "2017-09-27 17:27:19.433007"], ["id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:27:19.435135"], ["count_battles", 9], ["count_win_battles", 5], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:27:19.437263"], ["count_battles", 7], ["count_loose_battles", 7], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 18ms (ActiveRecord: 4.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:27:19 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 110.1ms | ActiveRecord: 1.5ms)


Started POST "/battles?photo_looser_id=5&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:27:33 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"KGtGE6qNT84sYQNxI1WdKqJUtNoXF4LvLozOgP7vmmYU5NrDbOD80MudWrNd7toHOM5cKQ/MH5mfuAZVPifLEw==", "photo_looser_id"=>"5", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:27:33.054542"], ["updated_at", "2017-09-27 17:27:33.054542"], ["photo_looser_id", 5], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1309.443], ["updated_at", "2017-09-27 17:27:33.057737"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1312.048], ["updated_at", "2017-09-27 17:27:33.061436"], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:27:33.063872"], ["count_battles", 10], ["count_win_battles", 6], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:27:33.065392"], ["count_battles", 13], ["count_loose_battles", 5], ["id", 5]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 19ms (ActiveRecord: 4.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:27:33 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 124.4ms | ActiveRecord: 1.8ms)


Started POST "/battles?photo_looser_id=4&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 20:28:03 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"oUOfKgo8Gc917lHjNY8klCxW4QF4lQbEcIsqGAa1FESdzAP6zFGq0ZISCCFLNGO5tswJ8mBOm7LBv+LNxn1FMQ==", "photo_looser_id"=>"4", "photo_winner_id"=>"8"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:28:03.038975"], ["updated_at", "2017-09-27 17:28:03.038975"], ["photo_looser_id", 4], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.367], ["updated_at", "2017-09-27 17:28:03.041615"], ["id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1302.09], ["updated_at", "2017-09-27 17:28:03.044445"], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:28:03.046312"], ["count_battles", 9], ["count_win_battles", 6], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:28:03.047982"], ["count_battles", 12], ["count_loose_battles", 6], ["id", 4]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 25ms (ActiveRecord: 12.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:28:03 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 108.4ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:30:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (7.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 148ms (Views: 144.1ms | ActiveRecord: 2.1ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=8" for 127.0.0.1 at 2017-09-27 20:30:39 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"NoUd0xWj4+QrcpeKAMmuwLqaUYFDMMLOxAkNnminegcKCoED085Q+syOzkh+cuntIAC5clvrX7h1PcVLqG8rcg==", "photo_looser_id"=>"6", "photo_winner_id"=>"8"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:30:39.488021"], ["updated_at", "2017-09-27 17:30:39.488021"], ["photo_looser_id", 6], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1319.296], ["updated_at", "2017-09-27 17:30:39.491590"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1304.514], ["updated_at", "2017-09-27 17:30:39.496275"], ["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:30:39.499547"], ["count_battles", 10], ["count_win_battles", 7], ["id", 8]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:30:39.503032"], ["count_battles", 11], ["count_loose_battles", 5], ["id", 6]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 25ms (ActiveRecord: 4.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:30:39 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 147ms (Views: 143.0ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:30:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:31:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (7.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 121.0ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:31:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=7" for 127.0.0.1 at 2017-09-27 20:31:30 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"ZmUG76qGr/WW/XB4+VFUnQbZcfNIMmeE9o18txnoMTBa6po/bOsc63EBKbqH6hOwnEOZAFDp+vJHubRi2SBgRQ==", "photo_looser_id"=>"3", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:31:30.424094"], ["updated_at", "2017-09-27 17:31:30.424094"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1323.069], ["updated_at", "2017-09-27 17:31:30.427652"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1262.165], ["updated_at", "2017-09-27 17:31:30.431213"], ["id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:31:30.433018"], ["count_battles", 7], ["count_win_battles", 6], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:31:30.434923"], ["count_battles", 8], ["count_loose_battles", 8], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 20ms (ActiveRecord: 5.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:31:30 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 118.2ms | ActiveRecord: 2.3ms)


Started POST "/battles?photo_looser_id=6&photo_winner_id=7" for 127.0.0.1 at 2017-09-27 20:31:42 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"n3JjT0i1/znI392zSdw2TYNTZtpsjHGwoykrVEsYizej/f+fjthMJy8jhHE3Z3FgGcmOKXRX7MYSHeOBi9DaQg==", "photo_looser_id"=>"6", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:31:42.931094"], ["updated_at", "2017-09-27 17:31:42.931094"], ["photo_looser_id", 6], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1327.802], ["updated_at", "2017-09-27 17:31:42.934600"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1299.781], ["updated_at", "2017-09-27 17:31:42.939144"], ["id", 6]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:31:42.941437"], ["count_battles", 8], ["count_win_battles", 7], ["id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:31:42.944577"], ["count_battles", 12], ["count_loose_battles", 6], ["id", 6]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/battles
Completed 302 Found in 22ms (ActiveRecord: 5.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:31:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/index.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 138.1ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:31:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:42:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (21.3ms)
  Rendered battles/index.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 160ms (Views: 142.7ms | ActiveRecord: 6.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:42:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:47:44 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (29.0ms)
  Rendered battles/index.html.erb within layouts/application (31.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 226ms (Views: 199.3ms | ActiveRecord: 7.3ms)


Started POST "/battles?photo_looser_id=8&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:47:49 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Iw4B+vyJB8mOGWzOYELhFWLQrSxu/qg5TmZgift4IrUfgZ0qOuS012nlNQwe+aY4+EpF33YlNU//UqhcO7BzwA==", "photo_looser_id"=>"8", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:47:49.855143"], ["updated_at", "2017-09-27 17:47:49.855143"], ["photo_looser_id", 8], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1305.062], ["updated_at", "2017-09-27 17:47:49.861522"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.015], ["updated_at", "2017-09-27 17:47:49.866228"], ["id", 8]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:47:49.869601"], ["count_battles", 13], ["count_win_battles", 7], ["id", 6]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:47:49.872775"], ["count_battles", 11], ["count_loose_battles", 4], ["id", 8]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
Completed 500 Internal Server Error in 48ms (ActiveRecord: 13.8ms)


  
ActionView::MissingTemplate (Missing template battles/members_photos with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :arb, :coffee, :jbuilder]}. Searched in:
  * "/home/yaroslav/rails_projects/facemash/app/views"
  * "/home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/devise-bootstrap-views-0.0.11/app/views"
  * "/home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/twitter-bootstrap-rails-3.2.2/app/views"
  * "/home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/devise-4.3.0/app/views"
  * "/home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views"
  * "/home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/kaminari-core-1.0.1/app/views"
):
  
app/controllers/battles_controller.rb:14:in `block in create'
app/controllers/battles_controller.rb:9:in `create'
Started POST "/battles?photo_looser_id=8&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:48:29 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"Iw4B+vyJB8mOGWzOYELhFWLQrSxu/qg5TmZgift4IrUfgZ0qOuS012nlNQwe+aY4+EpF33YlNU//UqhcO7BzwA==", "photo_looser_id"=>"8", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:48:29.603878"], ["updated_at", "2017-09-27 17:48:29.603878"], ["photo_looser_id", 8], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1310.191], ["updated_at", "2017-09-27 17:48:29.625287"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1308.886], ["updated_at", "2017-09-27 17:48:29.629942"], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:48:29.631548"], ["count_battles", 14], ["count_win_battles", 8], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:48:29.633182"], ["count_battles", 12], ["count_loose_battles", 5], ["id", 8]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
Completed 406 Not Acceptable in 65ms (Views: 5.9ms | ActiveRecord: 14.0ms)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/battles_controller.rb:9:in `create'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:48:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.2ms)
  Rendered battles/index.html.erb within layouts/application (9.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 155ms (Views: 150.1ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:48:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:48:46 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"qjvnsNAuas42IdJjhyhVomxCzCobxwN4iElymYuzG+OWtHtgFkPZ0NHdi6H5kxKP9tgk2QMcng45fbpMS3tKlg==", "photo_looser_id"=>"2", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:48:46.382187"], ["updated_at", "2017-09-27 17:48:46.382187"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.712], ["updated_at", "2017-09-27 17:48:46.386420"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1272.297], ["updated_at", "2017-09-27 17:48:46.390661"], ["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:48:46.394023"], ["count_battles", 15], ["count_win_battles", 9], ["id", 6]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:48:46.396896"], ["count_battles", 10], ["count_loose_battles", 8], ["id", 2]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.9ms)
Completed 406 Not Acceptable in 35ms (Views: 6.6ms | ActiveRecord: 6.1ms)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/battles_controller.rb:9:in `create'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:49:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=2&photo_winner_id=6" for 127.0.0.1 at 2017-09-27 20:49:58 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"qjvnsNAuas42IdJjhyhVomxCzCobxwN4iElymYuzG+OWtHtgFkPZ0NHdi6H5kxKP9tgk2QMcng45fbpMS3tKlg==", "photo_looser_id"=>"2", "photo_winner_id"=>"6"}
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:49:58.312495"], ["updated_at", "2017-09-27 17:49:58.312495"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1319.105], ["updated_at", "2017-09-27 17:49:58.336811"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1267.904], ["updated_at", "2017-09-27 17:49:58.341968"], ["id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:49:58.344949"], ["count_battles", 16], ["count_win_battles", 10], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:49:58.347011"], ["count_battles", 11], ["count_loose_battles", 9], ["id", 2]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.5ms)
Completed 200 OK in 78ms (Views: 6.7ms | ActiveRecord: 16.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:49:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:52:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:52:38 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (29.4ms)
  Rendered battles/index.html.erb within layouts/application (31.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 175ms (Views: 152.8ms | ActiveRecord: 8.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:52:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles?photo_looser_id=3&photo_winner_id=7" for 127.0.0.1 at 2017-09-27 20:52:42 +0300
Processing by BattlesController#create as HTML
  Parameters: {"authenticity_token"=>"334WB5g2O5OhV34bhV1erilhIvsNELMt2lPUhWWx66Xj8YrXXluIjUarJ9n75hmDs/vKCBXLLltrZxxQpXm60A==", "photo_looser_id"=>"3", "photo_winner_id"=>"7"}
Unpermitted parameters: :_method, :authenticity_token
Unpermitted parameters: :_method, :authenticity_token
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 17:54:04.120702"], ["updated_at", "2017-09-27 17:54:04.120702"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1331.868], ["updated_at", "2017-09-27 17:54:04.126262"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1258.099], ["updated_at", "2017-09-27 17:54:04.130112"], ["id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:54:04.132048"], ["count_battles", 9], ["count_win_battles", 8], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 17:54:04.134278"], ["count_battles", 9], ["count_loose_battles", 9], ["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
Completed 500 Internal Server Error in 213752ms (Views: 5.3ms | ActiveRecord: 24.4ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/battles_controller.rb:14:in `create'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:58:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 20:58:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (25.0ms)
  Rendered battles/index.html.erb within layouts/application (27.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 158ms (Views: 136.9ms | ActiveRecord: 7.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:58:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 20:58:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 20:58:33 +0300
Processing by BattlesController#create as */*
  Parameters: {"members"=>"{:winner=>4, :looser=>2}"}
Unpermitted parameter: :members
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 11ms (ActiveRecord: 2.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:01:09 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (44.9ms)
  Rendered battles/index.html.erb within layouts/application (48.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1822ms (Views: 1789.0ms | ActiveRecord: 8.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:01:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:01:19 +0300
Processing by BattlesController#create as */*
  Parameters: {"members"=>"{:winner=>6, :looser=>2}"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/battles
Completed 200 OK in 26522ms (ActiveRecord: 3.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:04:50 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (31.3ms)
  Rendered battles/index.html.erb within layouts/application (34.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 185ms (Views: 165.1ms | ActiveRecord: 7.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:04:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:06:07 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.7ms)
  Rendered battles/index.html.erb within layouts/application (7.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 148ms (Views: 143.6ms | ActiveRecord: 1.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:11:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
  Rendered battles/index.html.erb within layouts/application (7.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 135.8ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:11:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:11:13 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:11:13.065280"], ["updated_at", "2017-09-27 18:11:13.065280"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1335.822], ["updated_at", "2017-09-27 18:11:13.071235"], ["id", 7]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1254.145], ["updated_at", "2017-09-27 18:11:13.077905"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:11:13.080708"], ["count_battles", 10], ["count_win_battles", 9], ["id", 7]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:11:13.082308"], ["count_battles", 10], ["count_loose_battles", 10], ["id", 3]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.9ms)
Completed 200 OK in 50ms (Views: 10.2ms | ActiveRecord: 8.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:13:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (7.4ms)
  Rendered battles/index.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 155ms (Views: 148.9ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:13:29 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"4", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:13:29.691284"], ["updated_at", "2017-09-27 18:13:29.691284"], ["photo_looser_id", 2], ["photo_winner_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (36.0ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1306.6], ["updated_at", "2017-09-27 18:13:29.694418"], ["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1263.394], ["updated_at", "2017-09-27 18:13:29.734055"], ["id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:13:29.735854"], ["count_battles", 13], ["count_win_battles", 7], ["id", 4]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:13:29.738775"], ["count_battles", 12], ["count_loose_battles", 10], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.1ms)
Completed 200 OK in 79ms (Views: 8.9ms | ActiveRecord: 42.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:13:32 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
  Rendered battles/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 120.5ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:13:39 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"4", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:13:39.034786"], ["updated_at", "2017-09-27 18:13:39.034786"], ["photo_looser_id", 2], ["photo_winner_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1310.981], ["updated_at", "2017-09-27 18:13:39.038765"], ["id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1259.013], ["updated_at", "2017-09-27 18:13:39.042573"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:13:39.044425"], ["count_battles", 14], ["count_win_battles", 8], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:13:39.045790"], ["count_battles", 13], ["count_loose_battles", 11], ["id", 2]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.6ms)
Completed 200 OK in 33ms (Views: 9.5ms | ActiveRecord: 6.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:13:40 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.5ms)
  Rendered battles/index.html.erb within layouts/application (7.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 139ms (Views: 134.6ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:13:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:15:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.6ms)
  Rendered battles/index.html.erb within layouts/application (7.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 300ms (Views: 295.1ms | ActiveRecord: 2.1ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:15:19 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"6"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:15:19.043521"], ["updated_at", "2017-09-27 18:15:19.043521"], ["photo_looser_id", 6], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1340.582], ["updated_at", "2017-09-27 18:15:19.048167"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1314.345], ["updated_at", "2017-09-27 18:15:19.052063"], ["id", 6]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:15:19.055179"], ["count_battles", 11], ["count_win_battles", 10], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:15:19.057240"], ["count_battles", 17], ["count_loose_battles", 7], ["id", 6]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 8)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.7ms)
Completed 200 OK in 33ms (Views: 7.5ms | ActiveRecord: 5.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:15:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:15:20 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.5ms)
  Rendered battles/index.html.erb within layouts/application (8.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 192ms (Views: 185.3ms | ActiveRecord: 2.1ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:15:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:15:22 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:15:22.844605"], ["updated_at", "2017-09-27 18:15:22.844605"], ["photo_looser_id", 2], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1316.291], ["updated_at", "2017-09-27 18:15:22.847839"], ["id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1254.77], ["updated_at", "2017-09-27 18:15:22.853730"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:15:22.856053"], ["count_battles", 14], ["count_win_battles", 9], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:15:22.858493"], ["count_battles", 14], ["count_loose_battles", 12], ["id", 2]]
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.7ms)
Completed 200 OK in 63ms (Views: 7.6ms | ActiveRecord: 34.0ms)


Started GET "/top" for 127.0.0.1 at 2017-09-27 21:17:57 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (37.1ms)
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 198ms (Views: 166.1ms | ActiveRecord: 10.0ms)


Started GET "/top?page=2" for 127.0.0.1 at 2017-09-27 21:19:42 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (6.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 126.2ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:19:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:19:42 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-09-27 21:44:00 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (24.4ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 328ms (Views: 302.9ms | ActiveRecord: 6.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:44:02 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 125.9ms | ActiveRecord: 0.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:44:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.0ms)
  Rendered battles/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 129.3ms | ActiveRecord: 1.9ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:44:26 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"7"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:44:26.543584"], ["updated_at", "2017-09-27 18:44:26.543584"], ["photo_looser_id", 7], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1321.64], ["updated_at", "2017-09-27 18:44:26.548695"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1335.233], ["updated_at", "2017-09-27 18:44:26.552356"], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:44:26.554086"], ["count_battles", 15], ["count_win_battles", 10], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:44:26.555480"], ["count_battles", 12], ["count_loose_battles", 2], ["id", 7]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
Completed 200 OK in 38ms (Views: 8.1ms | ActiveRecord: 7.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:44:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:44:26 +0300
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:44:28 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 120.7ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:44:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:44:31 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:44:31.120384"], ["updated_at", "2017-09-27 18:44:31.120384"], ["photo_looser_id", 2], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1325.689], ["updated_at", "2017-09-27 18:44:31.123032"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1250.721], ["updated_at", "2017-09-27 18:44:31.126789"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:44:31.129015"], ["count_battles", 16], ["count_win_battles", 11], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:44:31.130335"], ["count_battles", 15], ["count_loose_battles", 13], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 6)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.7ms)
Completed 200 OK in 25ms (Views: 6.4ms | ActiveRecord: 4.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:44:33 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.9ms)
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 110.0ms | ActiveRecord: 2.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:46:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
  Rendered battles/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 132ms (Views: 127.7ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:46:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-27 21:46:44 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 124.3ms | ActiveRecord: 2.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:46:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.4ms | ActiveRecord: 1.6ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:46:50 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:46:50.029410"], ["updated_at", "2017-09-27 18:46:50.029410"], ["photo_looser_id", 4], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1330.477], ["updated_at", "2017-09-27 18:46:50.032444"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1306.193], ["updated_at", "2017-09-27 18:46:50.035893"], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:50.038247"], ["count_battles", 17], ["count_win_battles", 12], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:50.039822"], ["count_battles", 15], ["count_loose_battles", 7], ["id", 4]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
Completed 200 OK in 27ms (Views: 6.8ms | ActiveRecord: 5.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:46:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
  Rendered battles/index.html.erb within layouts/application (5.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 121.5ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:46:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:46:52 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"3"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:46:52.732316"], ["updated_at", "2017-09-27 18:46:52.732316"], ["photo_looser_id", 3], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1313.105], ["updated_at", "2017-09-27 18:46:52.734936"], ["id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1249.926], ["updated_at", "2017-09-27 18:46:52.737861"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:52.740000"], ["count_battles", 13], ["count_win_battles", 8], ["id", 8]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:52.741887"], ["count_battles", 11], ["count_loose_battles", 11], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 6)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.0ms)
Completed 200 OK in 26ms (Views: 6.7ms | ActiveRecord: 4.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:46:54 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.1ms)
  Rendered battles/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 164ms (Views: 158.3ms | ActiveRecord: 2.2ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:46:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:46:56 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:46:56.619944"], ["updated_at", "2017-09-27 18:46:56.619944"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1339.029], ["updated_at", "2017-09-27 18:46:56.622731"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1246.13], ["updated_at", "2017-09-27 18:46:56.625952"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:56.628614"], ["count_battles", 13], ["count_win_battles", 11], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:56.630326"], ["count_battles", 12], ["count_loose_battles", 12], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.2ms)
Completed 200 OK in 27ms (Views: 7.0ms | ActiveRecord: 5.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:46:56 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:46:57 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.9ms)
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 122.1ms | ActiveRecord: 1.7ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:46:59 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:46:59.392213"], ["updated_at", "2017-09-27 18:46:59.392213"], ["photo_looser_id", 4], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1318.006], ["updated_at", "2017-09-27 18:46:59.395923"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1301.292], ["updated_at", "2017-09-27 18:46:59.400157"], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:59.402320"], ["count_battles", 14], ["count_win_battles", 9], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:46:59.403681"], ["count_battles", 16], ["count_loose_battles", 8], ["id", 4]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.3ms)
Completed 200 OK in 37ms (Views: 5.9ms | ActiveRecord: 14.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:46:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-09-27 21:47:01 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.8ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 144ms (Views: 139.3ms | ActiveRecord: 2.1ms)


Started GET "/top?page=2" for 127.0.0.1 at 2017-09-27 21:47:12 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (8.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 149ms (Views: 141.8ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:47:12 +0300
  
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:47:12 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 21:47:16 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 110ms (Views: 104.0ms | ActiveRecord: 0.5ms)


Started GET "/photo.8.json" for 127.0.0.1 at 2017-09-27 21:47:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/photo.8.json"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 21:47:32 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 129ms (Views: 121.1ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:47:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.1ms)
  Rendered battles/index.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 124ms (Views: 119.4ms | ActiveRecord: 2.1ms)


Started GET "/battles.json" for 127.0.0.1 at 2017-09-27 21:47:42 +0300
Processing by BattlesController#index as JSON
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
Completed 406 Not Acceptable in 13ms (ActiveRecord: 0.6ms)


  
ActionController::UnknownFormat (BattlesController#index is missing a template for this request format and variant.

request.formats: ["application/json"]
request.variant: []):
  
actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:40:in `default_render'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-27 21:47:56 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (14.2ms)
  Rendered photos/edit.html.erb within layouts/application (17.5ms)
Completed 200 OK in 151ms (Views: 144.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:47:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 132.2ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-27 21:48:03 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.7ms)
  Rendered photos/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 128ms (Views: 118.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:48:04 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 123.6ms | ActiveRecord: 0.5ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-27 21:48:38 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.7ms)
  Rendered photos/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 122ms (Views: 116.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:48:44 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 117.8ms | ActiveRecord: 0.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:48:46 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.4ms)
  Rendered battles/index.html.erb within layouts/application (6.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 107.1ms | ActiveRecord: 1.9ms)


Started GET "/top" for 127.0.0.1 at 2017-09-27 21:48:50 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 130.3ms | ActiveRecord: 2.0ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-27 21:48:52 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.6ms)
  Rendered photos/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 117ms (Views: 110.3ms | ActiveRecord: 0.5ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 21:48:54 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 133ms (Views: 127.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:48:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 108.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:49:37 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (21.4ms)
  Rendered battles/index.html.erb within layouts/application (22.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 135.5ms | ActiveRecord: 6.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:49:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-27 21:49:40 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.8ms)
  Rendered battles/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.6ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:49:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:51:21 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.0ms)
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 131.7ms | ActiveRecord: 2.0ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:51:34 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"5"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:51:34.679998"], ["updated_at", "2017-09-27 18:51:34.679998"], ["photo_looser_id", 5], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1323.185], ["updated_at", "2017-09-27 18:51:34.684855"], ["id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1325.298], ["updated_at", "2017-09-27 18:51:34.687984"], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:51:34.689542"], ["count_battles", 15], ["count_win_battles", 10], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:51:34.690849"], ["count_battles", 18], ["count_loose_battles", 6], ["id", 5]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 6)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.3ms)
Completed 200 OK in 37ms (Views: 7.1ms | ActiveRecord: 8.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:51:38 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.6ms)
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 117.9ms | ActiveRecord: 1.7ms)


Started GET "/top" for 127.0.0.1 at 2017-09-27 21:51:43 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 126.7ms | ActiveRecord: 2.1ms)


Started GET "/top?page=2" for 127.0.0.1 at 2017-09-27 21:51:57 +0300
Processing by PhotosController#top as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (7.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 117.3ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:51:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:51:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-09-27 21:52:16 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 116ms (Views: 110.0ms | ActiveRecord: 0.6ms)


Started GET "/top" for 127.0.0.1 at 2017-09-27 21:52:25 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 148.2ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:55:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (22.5ms)
  Rendered battles/index.html.erb within layouts/application (23.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 131.6ms | ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-27 21:56:41 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.2ms)
  Rendered battles/index.html.erb within layouts/application (7.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 129.7ms | ActiveRecord: 2.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:56:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:56:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.1ms)
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 203ms (Views: 199.6ms | ActiveRecord: 1.4ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:56:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:56:49 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:56:49.706722"], ["updated_at", "2017-09-27 18:56:49.706722"], ["photo_looser_id", 3], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1329.178], ["updated_at", "2017-09-27 18:56:49.711471"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1242.25], ["updated_at", "2017-09-27 18:56:49.714742"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:56:49.716694"], ["count_battles", 19], ["count_win_battles", 13], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:56:49.718582"], ["count_battles", 13], ["count_loose_battles", 13], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 4)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
Completed 200 OK in 40ms (Views: 7.8ms | ActiveRecord: 7.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:56:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-27 21:56:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.0ms)
  Rendered battles/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 131.1ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-27 21:56:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-27 21:56:53 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 18:56:53.981106"], ["updated_at", "2017-09-27 18:56:53.981106"], ["photo_looser_id", 2], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1333.068], ["updated_at", "2017-09-27 18:56:53.984030"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1246.831], ["updated_at", "2017-09-27 18:56:53.987763"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:56:53.989971"], ["count_battles", 20], ["count_win_battles", 14], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 18:56:53.991628"], ["count_battles", 16], ["count_loose_battles", 14], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
Completed 200 OK in 26ms (Views: 7.2ms | ActiveRecord: 4.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-27 23:55:24 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (73.9ms)
Completed 200 OK in 257ms (Views: 252.7ms | ActiveRecord: 0.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:43:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.0ms)
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 139ms (Views: 134.2ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:43:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-28 00:43:54 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.8ms)
  Rendered photos/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 113ms (Views: 107.2ms | ActiveRecord: 0.5ms)


Started GET "/top" for 127.0.0.1 at 2017-09-28 00:43:56 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (9.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 126.3ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:44:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.7ms)
  Rendered battles/index.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 110.0ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:44:05 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:48:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:48:36 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:48:36.824397"], ["updated_at", "2017-09-27 21:48:36.824397"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1318.385], ["updated_at", "2017-09-27 21:48:36.827177"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1242.791], ["updated_at", "2017-09-27 21:48:36.830282"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:48:36.832206"], ["count_battles", 18], ["count_win_battles", 11], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:48:36.833706"], ["count_battles", 17], ["count_loose_battles", 15], ["id", 2]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.9ms)
Completed 200 OK in 35ms (Views: 7.0ms | ActiveRecord: 14.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:48:36 +0300
  
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:48:36 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:48:39 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.9ms)
  Rendered battles/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 307ms (Views: 302.8ms | ActiveRecord: 1.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:49:06 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 116.7ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:49:08 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  Rendered battles/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 121.8ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:49:40 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.7ms)
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 105.6ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:49:58 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 102.3ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:49:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:50:01 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:50:01.331575"], ["updated_at", "2017-09-27 21:50:01.331575"], ["photo_looser_id", 3], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1342.671], ["updated_at", "2017-09-27 21:50:01.334164"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1238.608], ["updated_at", "2017-09-27 21:50:01.337006"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:01.338761"], ["count_battles", 14], ["count_win_battles", 12], ["id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:01.340496"], ["count_battles", 14], ["count_loose_battles", 14], ["id", 3]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 8)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.4ms)
Completed 200 OK in 23ms (Views: 5.8ms | ActiveRecord: 4.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:02 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.5ms)
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 109.0ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:50:05 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:50:05.291081"], ["updated_at", "2017-09-27 21:50:05.291081"], ["photo_looser_id", 2], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1336.797], ["updated_at", "2017-09-27 21:50:05.294130"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1239.062], ["updated_at", "2017-09-27 21:50:05.297641"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:05.299708"], ["count_battles", 21], ["count_win_battles", 15], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:05.301290"], ["count_battles", 18], ["count_loose_battles", 16], ["id", 2]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 3)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
Completed 200 OK in 28ms (Views: 7.7ms | ActiveRecord: 5.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:05 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:07 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.6ms)
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 131.7ms | ActiveRecord: 1.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:07 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:07 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:50:09 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"2", "photo_looser_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:50:09.438285"], ["updated_at", "2017-09-27 21:50:09.438285"], ["photo_looser_id", 3], ["photo_winner_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1244.055], ["updated_at", "2017-09-27 21:50:09.441268"], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1233.615], ["updated_at", "2017-09-27 21:50:09.448408"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:09.450071"], ["count_battles", 19], ["count_win_battles", 3], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:09.451438"], ["count_battles", 15], ["count_loose_battles", 15], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.6ms)
Completed 200 OK in 31ms (Views: 7.8ms | ActiveRecord: 5.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:09 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:10 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
  Rendered battles/index.html.erb within layouts/application (5.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 122.3ms | ActiveRecord: 1.9ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:50:12 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"8"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:50:12.899767"], ["updated_at", "2017-09-27 21:50:12.899767"], ["photo_looser_id", 8], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1323.454], ["updated_at", "2017-09-27 21:50:12.902543"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1318.116], ["updated_at", "2017-09-27 21:50:12.905762"], ["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:12.907832"], ["count_battles", 19], ["count_win_battles", 12], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:12.909484"], ["count_battles", 16], ["count_loose_battles", 6], ["id", 8]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.8ms)
Completed 200 OK in 27ms (Views: 6.8ms | ActiveRecord: 5.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:15 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 118.1ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-09-28 00:50:17 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"3"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-27 21:50:17.662851"], ["updated_at", "2017-09-27 21:50:17.662851"], ["photo_looser_id", 3], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1327.189], ["updated_at", "2017-09-27 21:50:17.665410"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1229.88], ["updated_at", "2017-09-27 21:50:17.668122"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:17.669677"], ["count_battles", 20], ["count_win_battles", 13], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-27 21:50:17.671287"], ["count_battles", 16], ["count_loose_battles", 16], ["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 7)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.5ms)
Completed 200 OK in 23ms (Views: 5.9ms | ActiveRecord: 4.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:19 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 106.9ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-28 00:50:22 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 122.5ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-09-28 00:50:28 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 146ms (Views: 142.0ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:50:30 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 121.5ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:30 +0300
  
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 00:50:30 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-28 00:51:11 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 135.3ms | ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:52:40 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:53:18 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 105.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:54:33 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 207ms (Views: 206.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:54:53 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 129.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:57:14 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 115.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 00:59:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 366ms (Views: 364.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:00:00 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 128.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:00:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 139ms (Views: 136.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:00:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 163ms (Views: 161.6ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:03:25 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 107.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:04:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 152ms (Views: 150.5ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-28 01:04:42 +0300
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:04:43 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 97.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:06:53 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 131.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:07:37 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 105.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:08:07 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.7ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-28 01:08:56 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Yer0hmYeiwrhCu+xWsevGb2WMBP2pCkpKVBLPdrkLexdZWhWoHM4FAb2tnMkfOg0JwzY4O5/tF+YZIPoGix8mQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:08:56 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 98ms (Views: 96.6ms | ActiveRecord: 0.0ms)


Started GET "/top" for 127.0.0.1 at 2017-09-28 01:09:01 +0300
Processing by PhotosController#top as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:09:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 101ms (Views: 100.0ms | ActiveRecord: 0.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 01:09:08 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.8ms)
  Rendered battles/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 127ms (Views: 122.9ms | ActiveRecord: 0.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-28 01:09:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-28 01:09:11 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 93ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:09:13 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 111ms (Views: 107.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-28 01:09:17 +0300
Processing by RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 142ms (Views: 141.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:09:21 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 112ms (Views: 110.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:09:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ce9GJ1VaAS35mCBwfN67ZeYYT25cxQ+jjGeCeC0dXBDGPIM0EXNh5YKtD35sLl9A2hYAKQ9SCIYNdY/6mKipIg==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-27 22:09:32.858633"], ["last_sign_in_at", "2017-09-22 23:52:17.169257"], ["sign_in_count", 8], ["updated_at", "2017-09-27 22:09:32.859467"], ["id", 4]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/top
Completed 302 Found in 187ms (ActiveRecord: 3.7ms)


Started GET "/top" for 127.0.0.1 at 2017-09-28 01:09:32 +0300
Processing by PhotosController#top as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (9.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 110.5ms | ActiveRecord: 2.0ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-28 01:09:37 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 105ms (Views: 99.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:09:39 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 108.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:11:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 129.9ms | ActiveRecord: 6.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-09-28 01:11:08 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QZxEsAdfoN/ec3HkrnhUPUQBEddC+SoWIOvzoK6qlul/RXn6X4kedjk52K128+iR9UzoIXZkz8WE5lFYjzdtvQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:11:08 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 105ms (Views: 104.5ms | ActiveRecord: 0.0ms)


Started GET "/top" for 127.0.0.1 at 2017-09-28 01:11:10 +0300
Processing by PhotosController#top as HTML
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (10.2ms)
Completed 200 OK in 111ms (Views: 108.3ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:11:16 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 111ms (Views: 110.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:11:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 106ms (Views: 104.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-09-28 01:11:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kryS/OBMnWRjRmt3eKkAIhZZyqucZyyj8r020Y4x2GMCcf514L1IzzNFi4QdgAEwkGw9EYS6ENVPbkHRHvdCww==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-09-27 22:11:30.454130"], ["last_sign_in_at", "2017-09-27 22:09:32.858633"], ["sign_in_count", 9], ["updated_at", "2017-09-27 22:11:30.454938"], ["id", 4]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 12.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:11:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 98.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:12:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 114.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 01:12:43 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 96.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 16:05:38 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1851ms (Views: 1834.1ms | ActiveRecord: 6.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 16:05:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (8.8ms)
  Rendered battles/index.html.erb within layouts/application (20.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 209ms (Views: 190.1ms | ActiveRecord: 1.7ms)


Started POST "/battles" for 127.0.0.1 at 2017-09-28 16:05:45 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (38.1ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-09-28 13:05:45.114333"], ["updated_at", "2017-09-28 13:05:45.114333"], ["photo_looser_id", 4], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1331.817], ["updated_at", "2017-09-28 13:05:45.160403"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1296.664], ["updated_at", "2017-09-28 13:05:45.165782"], ["id", 4]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-28 13:05:45.168313"], ["count_battles", 21], ["count_win_battles", 14], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-09-28 13:05:45.169971"], ["count_battles", 17], ["count_loose_battles", 9], ["id", 4]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 6)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.7ms)
Completed 200 OK in 87ms (Views: 8.1ms | ActiveRecord: 47.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-28 16:05:46 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.6ms)
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 188ms (Views: 181.9ms | ActiveRecord: 1.9ms)


Started GET "/top" for 127.0.0.1 at 2017-09-28 16:05:48 +0300
Processing by PhotosController#top as HTML
  Rendering photos/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered photos/top.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 117.4ms | ActiveRecord: 2.4ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-09-28 16:05:50 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (7.7ms)
  Rendered photos/edit.html.erb within layouts/application (11.6ms)
Completed 200 OK in 185ms (Views: 164.4ms | ActiveRecord: 0.8ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-09-28 16:05:51 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 123ms (Views: 115.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-28 16:05:52 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 117.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-09-29 14:01:44 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (70.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1202ms (Views: 1117.2ms | ActiveRecord: 78.4ms)


Started GET "/top" for 127.0.0.1 at 2017-09-29 14:01:48 +0300
Processing by TopPhotosController#top as HTML
Completed 406 Not Acceptable in 59ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (TopPhotosController#top is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-29 14:04:11 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 138.2ms | ActiveRecord: 6.3ms)


Started GET "/top" for 127.0.0.1 at 2017-09-29 14:04:13 +0300
Processing by TopPhotosController#top as HTML
  Rendering top_photos/top.html.erb within layouts/application
  Rendered top_photos/top.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The @top_photos variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    1: <h1 align="center"> Top: </h1>
    2: <div align="center" >
    3:   <%= will_paginate %>
    4:   <% @photos.each do |photo| %>
    5:     <div class="row">
    6:       <div class="well col-md-8 col-md-offset-4">
  
app/views/top_photos/top.html.erb:3:in `_app_views_top_photos_top_html_erb___4113116794390557896_70123361697800'
Started GET "/" for 127.0.0.1 at 2017-09-29 14:07:10 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 460ms (Views: 448.9ms | ActiveRecord: 5.4ms)


Started GET "/top" for 127.0.0.1 at 2017-09-29 14:07:13 +0300
  
LoadError (Unable to autoload constant TopController, expected /home/yaroslav/rails_projects/facemash/app/controllers/top_controller.rb to define it):
  
activesupport (5.1.3) lib/active_support/dependencies.rb:511:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-29 14:08:50 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 125.0ms | ActiveRecord: 5.5ms)


Started GET "/top" for 127.0.0.1 at 2017-09-29 14:08:53 +0300
Processing by TopController#top as HTML
  Rendering top/top.html.erb within layouts/application
  Rendered top/top.html.erb within layouts/application (2.1ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The @top variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    1: <h1 align="center"> Top: </h1>
    2: <div align="center" >
    3:   <%= will_paginate %>
    4:   <% @photos.each do |photo| %>
    5:     <div class="row">
    6:       <div class="well col-md-8 col-md-offset-4">
  
app/views/top/top.html.erb:3:in `_app_views_top_top_html_erb__1080197633752155080_31579420'
Started GET "/top" for 127.0.0.1 at 2017-09-29 14:09:17 +0300
Processing by TopController#top as HTML
  Rendering top/top.html.erb within layouts/application
  Rendered top/top.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 48186ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The @top variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    1: <h1 align="center"> Top: </h1>
    2: <div align="center" >
    3:   <%= will_paginate %>
    4:   <% @photos.each do |photo| %>
    5:     <div class="row">
    6:       <div class="well col-md-8 col-md-offset-4">
  
app/views/top/top.html.erb:3:in `_app_views_top_top_html_erb__1080197633752155080_69859997500480'
Started GET "/top" for 127.0.0.1 at 2017-09-29 14:11:33 +0300
Processing by TopController#top as HTML
  Rendering top/top.html.erb within layouts/application
  Rendered top/top.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 26215ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (The @top variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    1: <h1 align="center"> Top: </h1>
    2: <div align="center" >
    3:   <%= will_paginate %>
    4:   <% @tops.each do |photo| %>
    5:     <div class="row">
    6:       <div class="well col-md-8 col-md-offset-4">
  
app/views/top/top.html.erb:3:in `_app_views_top_top_html_erb__1080197633752155080_46359200'
Started GET "/top" for 127.0.0.1 at 2017-09-29 14:24:17 +0300
Processing by TopController#top as HTML
  Rendering top/top.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/top.html.erb within layouts/application (38.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 146ms (Views: 137.5ms | ActiveRecord: 7.4ms)


Started GET "/top?page=2" for 127.0.0.1 at 2017-09-29 14:24:24 +0300
Processing by TopController#top as HTML
  Parameters: {"page"=>"2"}
  Rendering top/top.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/top.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 116.0ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-09-29 14:24:24 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-09-29 14:24:24 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-09-29 14:24:28 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 110.1ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-09-29 16:11:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (21.1ms)
  Rendered battles/index.html.erb within layouts/application (22.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 282ms (Views: 262.5ms | ActiveRecord: 7.1ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-10-01 03:18:33 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (108.4ms)
  Rendered photos/edit.html.erb within layouts/application (149.7ms)
Completed 200 OK in 881ms (Views: 731.7ms | ActiveRecord: 12.8ms)


Started GET "/photo/new.4" for 127.0.0.1 at 2017-10-01 03:19:10 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (20.5ms)
  Rendered photos/new.html.erb within layouts/application (55.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 177ms (Views: 169.8ms | ActiveRecord: 0.8ms)


Started GET "/photo/new.5" for 127.0.0.1 at 2017-10-01 03:19:17 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.5ms)
  Rendered photos/new.html.erb within layouts/application (4.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 120.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-01 03:19:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (35.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 254.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-01 03:19:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 114.4ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-10-01 03:19:32 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.4ms)
  Rendered photos/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 228ms (Views: 222.2ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-01 03:19:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 116.0ms | ActiveRecord: 2.4ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-01 03:19:35 +0300
  
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-01 03:19:35 +0300
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-01 03:19:41 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"3", "photo_looser_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (73.1ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-01 00:19:41.832732"], ["updated_at", "2017-10-01 00:19:41.832732"], ["photo_looser_id", 2], ["photo_winner_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1235.084], ["updated_at", "2017-10-01 00:19:41.914623"], ["id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1238.851], ["updated_at", "2017-10-01 00:19:41.938997"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-01 00:19:41.941070"], ["count_battles", 17], ["count_win_battles", 1], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-01 00:19:41.942746"], ["count_battles", 20], ["count_loose_battles", 17], ["id", 2]]
  [1m[35m (59.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
Completed 200 OK in 359ms (Views: 7.6ms | ActiveRecord: 270.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-01 03:19:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-01 03:19:43 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.6ms)
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 172ms (Views: 167.6ms | ActiveRecord: 1.5ms)


Started POST "/battles" for 127.0.0.1 at 2017-10-01 03:19:45 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"5"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-01 00:19:45.853597"], ["updated_at", "2017-10-01 00:19:45.853597"], ["photo_looser_id", 5], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1336.889], ["updated_at", "2017-10-01 00:19:45.856726"], ["id", 6]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1331.725], ["updated_at", "2017-10-01 00:19:45.860553"], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-01 00:19:45.862210"], ["count_battles", 22], ["count_win_battles", 15], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-01 00:19:45.863649"], ["count_battles", 22], ["count_loose_battles", 7], ["id", 5]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 2)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
Completed 200 OK in 26ms (Views: 7.2ms | ActiveRecord: 5.2ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-01 03:19:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-10-01 03:19:48 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 233ms (Views: 226.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-01 03:19:54 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 823ms (Views: 820.5ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-01 03:20:00 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (523.4ms)
Completed 200 OK in 534ms (Views: 527.7ms | ActiveRecord: 0.4ms)


Started GET "/admin/users/4" for 127.0.0.1 at 2017-10-01 03:20:07 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (157.9ms)
Completed 200 OK in 167ms (Views: 162.4ms | ActiveRecord: 0.7ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-10-01 03:20:14 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBattle Load (92.1ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
Completed 500 Internal Server Error in 103ms (ActiveRecord: 0.3ms)


  
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
NoMethodError (undefined method `per' for #<Battle::ActiveRecord_Relation:0x007f132aa89708>):
  
activerecord (5.1.3) lib/active_record/relation/delegation.rb:125:in `method_missing'
activerecord (5.1.3) lib/active_record/relation/delegation.rb:95:in `method_missing'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:253:in `apply_pagination'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:59:in `block in find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `each'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:44:in `collection'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:7:in `index'
activeadmin (1.1.0) lib/active_admin/resource_controller/streaming.rb:12:in `index'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-01 03:20:24 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms)


  
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
NoMethodError (undefined method `per' for #<Photo::ActiveRecord_Relation:0x00000005e7fbd0>):
  
activerecord (5.1.3) lib/active_record/relation/delegation.rb:125:in `method_missing'
activerecord (5.1.3) lib/active_record/relation/delegation.rb:95:in `method_missing'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:253:in `apply_pagination'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:59:in `block in find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `each'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:44:in `collection'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:7:in `index'
activeadmin (1.1.0) lib/active_admin/resource_controller/streaming.rb:12:in `index'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/dashboard" for 127.0.0.1 at 2017-10-01 03:20:37 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (78.5ms)
Completed 200 OK in 83ms (Views: 80.5ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-01 03:20:39 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.3ms)


  
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 11], ["OFFSET", 0]]
NoMethodError (undefined method `per' for #<User::ActiveRecord_Relation:0x007f13190ccb18>):
  
activerecord (5.1.3) lib/active_record/relation/delegation.rb:125:in `method_missing'
activerecord (5.1.3) lib/active_record/relation/delegation.rb:95:in `method_missing'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:253:in `apply_pagination'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:59:in `block in find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `each'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:58:in `find_collection'
activeadmin (1.1.0) lib/active_admin/resource_controller/data_access.rb:44:in `collection'
inherited_resources (1.7.2) lib/inherited_resources/actions.rb:7:in `index'
activeadmin (1.1.0) lib/active_admin/resource_controller/streaming.rb:12:in `index'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-01 03:30:52 +0300
  [1m[35m (4.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (39.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.6ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (854.3ms)
Completed 200 OK in 945ms (Views: 859.3ms | ActiveRecord: 52.6ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-01 03:31:14 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (113.7ms)
Completed 200 OK in 121ms (Views: 116.7ms | ActiveRecord: 1.1ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-10-01 03:31:30 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (231.5ms)
Completed 200 OK in 238ms (Views: 231.5ms | ActiveRecord: 3.9ms)


Started GET "/admin/battles/72/edit" for 127.0.0.1 at 2017-10-01 03:31:41 +0300
Processing by Admin::BattlesController#edit as HTML
  Parameters: {"id"=>"72"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBattle Load (0.2ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" WHERE "battles"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" WHERE "battles"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (172.1ms)
Completed 200 OK in 180ms (Views: 175.5ms | ActiveRecord: 1.5ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-01 15:01:39 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 226.7ms | ActiveRecord: 22.7ms)


Started GET "/top" for 127.0.0.1 at 2017-10-01 15:01:42 +0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for TopController):
  
actionpack (5.1.3) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-10-01 15:02:33 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (7.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (39.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 144ms (Views: 128.2ms | ActiveRecord: 14.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-01 15:03:11 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 96.7ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-02 15:54:13 +0300
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (34.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 5279ms (Views: 5045.5ms | ActiveRecord: 194.7ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-10-02 15:54:22 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 116ms (Views: 107.0ms | ActiveRecord: 0.6ms)


Started GET "/photo/edit.4" for 127.0.0.1 at 2017-10-02 15:54:23 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (88.5ms)
  Rendered photos/edit.html.erb within layouts/application (133.0ms)
Completed 200 OK in 251ms (Views: 243.8ms | ActiveRecord: 0.6ms)


Started GET "/top" for 127.0.0.1 at 2017-10-02 15:54:26 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (37.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (22.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (72.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 179ms (Views: 115.6ms | ActiveRecord: 61.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 15:54:29 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.4ms)
  Rendered battles/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 129.4ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 15:54:29 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 15:54:29 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-02 15:54:33 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 104.2ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-02 15:54:45 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (179.4ms)
Completed 200 OK in 271ms (Views: 224.9ms | ActiveRecord: 0.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-02 15:54:48 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (39.7ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (288.0ms)
Completed 200 OK in 298ms (Views: 249.9ms | ActiveRecord: 44.9ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-10-02 15:54:49 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (237.9ms)
Completed 200 OK in 245ms (Views: 237.6ms | ActiveRecord: 4.1ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-02 15:54:53 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.8ms)
Completed 200 OK in 125ms (Views: 120.5ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-02 17:24:23 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (78.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1394ms (Views: 1241.9ms | ActiveRecord: 145.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 17:24:30 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (33.1ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (7.8ms)
  Rendered battles/index.html.erb within layouts/application (22.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 204ms (Views: 130.7ms | ActiveRecord: 34.6ms)


Started POST "/battles" for 127.0.0.1 at 2017-10-02 17:24:33 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"4", "photo_looser_id"=>"6"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (62.9ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-02 14:24:33.781932"], ["updated_at", "2017-10-02 14:24:33.781932"], ["photo_looser_id", 6], ["photo_winner_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (7.0ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1302.24], ["updated_at", "2017-10-02 14:24:33.849988"], ["id", 4]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1331.313], ["updated_at", "2017-10-02 14:24:33.861413"], ["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:24:33.863248"], ["count_battles", 18], ["count_win_battles", 9], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:24:33.865029"], ["count_battles", 23], ["count_loose_battles", 8], ["id", 6]]
  [1m[35m (83.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.2ms)
Completed 200 OK in 193ms (Views: 7.0ms | ActiveRecord: 160.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 17:24:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-02 17:24:35 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 115.9ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 17:24:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-02 17:25:02 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-02 14:25:02.772504"], ["updated_at", "2017-10-02 14:25:02.772504"], ["photo_looser_id", 2], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1321.995], ["updated_at", "2017-10-02 14:25:02.776025"], ["id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1234.972], ["updated_at", "2017-10-02 14:25:02.779796"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:25:02.781539"], ["count_battles", 17], ["count_win_battles", 11], ["id", 8]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:25:02.782896"], ["count_battles", 21], ["count_loose_battles", 18], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.6ms)
Completed 200 OK in 31ms (Views: 10.2ms | ActiveRecord: 6.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 17:25:04 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.0ms)
  Rendered battles/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 130.5ms | ActiveRecord: 1.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 17:25:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-02 17:25:06 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"2"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-02 14:25:06.450708"], ["updated_at", "2017-10-02 14:25:06.450708"], ["photo_looser_id", 2], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1335.368], ["updated_at", "2017-10-02 14:25:06.454100"], ["id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1231.329], ["updated_at", "2017-10-02 14:25:06.458960"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:25:06.461042"], ["count_battles", 23], ["count_win_battles", 16], ["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 14:25:06.462558"], ["count_battles", 22], ["count_loose_battles", 19], ["id", 2]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.5ms)
Completed 200 OK in 32ms (Views: 8.2ms | ActiveRecord: 7.3ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 17:25:08 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.9ms)
  Rendered battles/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 130.4ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 17:25:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-02 18:10:04 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (47.5ms)
  Rendered battles/index.html.erb within layouts/application (49.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 1214ms (Views: 1185.6ms | ActiveRecord: 8.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 18:10:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-02 18:10:08 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (42.2ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-02 15:10:08.652962"], ["updated_at", "2017-10-02 15:10:08.652962"], ["photo_looser_id", 2], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1346.121], ["updated_at", "2017-10-02 15:10:08.700541"], ["id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1227.879], ["updated_at", "2017-10-02 15:10:08.705901"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 15:10:08.707458"], ["count_battles", 15], ["count_win_battles", 13], ["id", 7]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-02 15:10:08.708664"], ["count_battles", 23], ["count_loose_battles", 20], ["id", 2]]
  [1m[35m (75.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 7)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.5ms)
Completed 200 OK in 155ms (Views: 6.1ms | ActiveRecord: 124.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 18:10:09 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.3ms)
  Rendered battles/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 110.4ms | ActiveRecord: 2.0ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 18:10:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-02 18:10:14 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.5ms)
  Rendered battles/index.html.erb within layouts/application (7.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.4ms | ActiveRecord: 2.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 18:10:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-02 18:10:16 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.2ms)
  Rendered battles/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 160.4ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-02 18:10:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo.8" for 127.0.0.1 at 2017-10-02 18:10:17 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 159ms (Views: 115.5ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-02 18:10:18 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.0ms)
  Rendered battles/index.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 108.9ms | ActiveRecord: 2.0ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 01:06:32 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#index as HTML
  [1m[35m (41.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (34.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (109.8ms)
  Rendered battles/index.html.erb within layouts/application (111.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 2369ms (Views: 2259.1ms | ActiveRecord: 89.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 01:06:37 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.3ms)
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 115.3ms | ActiveRecord: 2.5ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 01:06:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 01:06:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-03 01:06:44 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 118.3ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 01:06:47 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.2ms)
  Rendered battles/index.html.erb within layouts/application (7.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 117.3ms | ActiveRecord: 2.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 01:19:14 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (50.3ms)
  Rendered battles/index.html.erb within layouts/application (52.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 933ms (Views: 906.0ms | ActiveRecord: 7.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 01:19:15 +0300
Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 01:19:15 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-10-03 01:19:21 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (171.3ms)
Completed 200 OK in 293ms (Views: 227.8ms | ActiveRecord: 0.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:19:23 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (38.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (26.2ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (345.2ms)
Completed 200 OK in 355ms (Views: 281.1ms | ActiveRecord: 69.5ms)


Started GET "/admin/photos/8" for 127.0.0.1 at 2017-10-03 01:19:39 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (99.1ms)
Completed 200 OK in 108ms (Views: 103.2ms | ActiveRecord: 1.0ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:20:18 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (102.0ms)
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    1: insert_tag renderer_for(:new)
  
app/admin/photo.rb:21:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:18:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:23:24 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (224.7ms)
Completed 500 Internal Server Error in 273ms (ActiveRecord: 7.7ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    1: insert_tag renderer_for(:new)
  
app/admin/photo.rb:24:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:23:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:40:19 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (1.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (285.1ms)
Completed 200 OK in 356ms (Views: 281.9ms | ActiveRecord: 30.5ms)


Started GET "/admin/photos/8" for 127.0.0.1 at 2017-10-03 01:40:24 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (117.7ms)
Completed 500 Internal Server Error in 127ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `column' for #<ActiveAdmin::Views::Pages::Show:0x000000074522c8>
Did you mean?  columns):
    1: insert_tag renderer_for(:show)
  
app/admin/photo.rb:19:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:18:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos/8" for 127.0.0.1 at 2017-10-03 01:41:00 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (91.8ms)
Completed 200 OK in 158ms (Views: 96.4ms | ActiveRecord: 6.5ms)


Started GET "/admin/photos/8/edit" for 127.0.0.1 at 2017-10-03 01:41:13 +0300
Processing by Admin::PhotosController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (230.8ms)
Completed 200 OK in 272ms (Views: 268.4ms | ActiveRecord: 1.2ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:41:57 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (135.0ms)
Completed 500 Internal Server Error in 187ms (ActiveRecord: 7.5ms)


  
ActionView::Template::Error (undefined local variable or method `photo' for "                  <div class=\"index_as_table\"></div>\n":ActiveAdmin::Views::IndexAsTable):
    1: insert_tag renderer_for(:index)
  
app/admin/photo.rb:10:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:9:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:46:37 +0300
  
SyntaxError (/home/yaroslav/rails_projects/facemash/app/admin/photo.rb:38: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/admin/photo.rb:38: syntax error, unexpected keyword_end, expecting end-of-input
config/routes.rb:4:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:47:29 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (190.5ms)
Completed 200 OK in 246ms (Views: 191.6ms | ActiveRecord: 10.6ms)


Started GET "/admin/photos/8/edit" for 127.0.0.1 at 2017-10-03 01:47:32 +0300
Processing by Admin::PhotosController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (109.8ms)
Completed 200 OK in 117ms (Views: 112.4ms | ActiveRecord: 1.5ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:47:40 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (112.6ms)
Completed 200 OK in 122ms (Views: 118.9ms | ActiveRecord: 0.7ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:48:33 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (108.4ms)
Completed 500 Internal Server Error in 175ms (ActiveRecord: 6.5ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    1: insert_tag renderer_for(:new)
  
app/admin/photo.rb:33:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:29:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:49:35 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (129.3ms)
Completed 500 Internal Server Error in 224ms (ActiveRecord: 7.6ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    1: insert_tag renderer_for(:new)
  
app/admin/photo.rb:33:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:29:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:50:00 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (105.9ms)
Completed 500 Internal Server Error in 184ms (ActiveRecord: 6.9ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    1: insert_tag renderer_for(:new)
  
app/admin/photo.rb:33:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:29:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:51:53 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (117.9ms)
Completed 200 OK in 195ms (Views: 121.3ms | ActiveRecord: 6.8ms)


Started GET "/admin/photos/new" for 127.0.0.1 at 2017-10-03 01:52:42 +0300
Processing by Admin::PhotosController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/new.html.arb (125.7ms)
Completed 200 OK in 211ms (Views: 129.1ms | ActiveRecord: 4.8ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:53:16 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.3ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (183.9ms)
Completed 200 OK in 191ms (Views: 182.8ms | ActiveRecord: 5.2ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-10-03 01:53:41 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (318.0ms)
Completed 200 OK in 326ms (Views: 318.3ms | ActiveRecord: 4.0ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:53:44 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (162.9ms)
Completed 200 OK in 170ms (Views: 164.0ms | ActiveRecord: 3.2ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:54:42 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (122.4ms)
Completed 500 Internal Server Error in 215ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (undefined local variable or method `f' for "                  <div class=\"index_as_table\"></div>\n":ActiveAdmin::Views::IndexAsTable):
    1: insert_tag renderer_for(:index)
  
app/admin/photo.rb:10:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:9:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:54:58 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (169.6ms)
Completed 500 Internal Server Error in 258ms (ActiveRecord: 7.0ms)


  
ActionView::Template::Error (undefined local variable or method `photo' for "                  <div class=\"index_as_table\"></div>\n":ActiveAdmin::Views::IndexAsTable):
    1: insert_tag renderer_for(:index)
  
app/admin/photo.rb:10:in `block (3 levels) in <top (required)>'
app/admin/photo.rb:9:in `block (2 levels) in <top (required)>'
Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:55:42 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (209.7ms)
Completed 200 OK in 308ms (Views: 208.8ms | ActiveRecord: 9.9ms)


Started GET "/admin/photos/8" for 127.0.0.1 at 2017-10-03 01:55:51 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (124.1ms)
Completed 200 OK in 133ms (Views: 127.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/photos/8/edit" for 127.0.0.1 at 2017-10-03 01:55:58 +0300
Processing by Admin::PhotosController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/edit.html.arb (111.8ms)
Completed 200 OK in 119ms (Views: 114.9ms | ActiveRecord: 1.1ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 01:56:23 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (183.5ms)
Completed 200 OK in 192ms (Views: 184.9ms | ActiveRecord: 3.3ms)


Started GET "/admin/photos/8" for 127.0.0.1 at 2017-10-03 01:56:25 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (90.6ms)
Completed 200 OK in 97ms (Views: 93.6ms | ActiveRecord: 0.9ms)


Started GET "/admin/photos/6" for 127.0.0.1 at 2017-10-03 01:56:29 +0300
Processing by Admin::PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (135.9ms)
Completed 200 OK in 144ms (Views: 139.1ms | ActiveRecord: 1.0ms)


Started GET "/admin/battles" for 127.0.0.1 at 2017-10-03 01:56:36 +0300
Processing by Admin::BattlesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "battles"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT  "battles".* FROM "battles" ORDER BY "battles"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.1ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (274.0ms)
Completed 200 OK in 282ms (Views: 274.6ms | ActiveRecord: 3.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 01:56:37 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (168.6ms)
Completed 200 OK in 177ms (Views: 172.1ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4343680859188096650)[0m
  [1m[35m (20.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumnsToUsers (20171003162136)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171003162136"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4343680859188096650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-03 19:34:03 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 994ms (Views: 992.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:34:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (39.0ms)
Completed 200 OK in 160ms (Views: 141.1ms | ActiveRecord: 3.4ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:34:12 +0300
Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:36:06 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 454ms (Views: 431.5ms | ActiveRecord: 3.5ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:36:09 +0300
Started GET "/" for 127.0.0.1 at 2017-10-03 19:41:03 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 107ms (Views: 106.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:41:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 121ms (Views: 120.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:41:08 +0300
Started GET "/users/auth/facebook/callback?code=AQCEFjvn9uhq5E5TdNUxEfpRazfTX8bp_omuOL9qvdHyTJ7rteYYc6IO1PyW67bBtKmYyHixgWTegBNQR1g5GvaIonacbRVZkZY4Wm7X2tdx7fDoYFUUugDvyKX3LA3ptVHA8DmNFSdPNpGe1j4npi9coRK4iQGMawayhxeVQq_RQLUA6pz4JeWBNJnT735TRqOVSwP5Pt8AZ2geeP8Si-Nuu1P-Wc6KR2mDWAioP-qg55VokRGp-DMZNoyIzf8wryBNAePWbLSX6BPCdTs-BZjQs3Ya_6ZKC6llZ7-PVMm_wbam8u2tIqTy1dNJPJAu19U3jQrYdQfyMj1RSCx18EF3&state=5d1e8879e155b9e8a96225c451b797395cfdab4f24292a9c" for 127.0.0.1 at 2017-10-03 19:41:08 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQCEFjvn9uhq5E5TdNUxEfpRazfTX8bp_omuOL9qvdHyTJ7rteYYc6IO1PyW67bBtKmYyHixgWTegBNQR1g5GvaIonacbRVZkZY4Wm7X2tdx7fDoYFUUugDvyKX3LA3ptVHA8DmNFSdPNpGe1j4npi9coRK4iQGMawayhxeVQq_RQLUA6pz4JeWBNJnT735TRqOVSwP5Pt8AZ2geeP8Si-Nuu1P-Wc6KR2mDWAioP-qg55VokRGp-DMZNoyIzf8wryBNAePWbLSX6BPCdTs-BZjQs3Ya_6ZKC6llZ7-PVMm_wbam8u2tIqTy1dNJPJAu19U3jQrYdQfyMj1RSCx18EF3", "state"=>"5d1e8879e155b9e8a96225c451b797395cfdab4f24292a9c"}
  [1m[36mUser Load (42.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "facebook110639873022570@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "facebook110639873022570@mail.com"], ["encrypted_password", "$2a$11$AqAJ9S5X01MHZQeNYAKK8e0BYmzapOX8lhIAT1QX2jBILSughAgQe"], ["sign_in_count", 1], ["current_sign_in_at", "2017-10-03 16:41:09.431493"], ["last_sign_in_at", "2017-10-03 16:41:09.431493"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["created_at", "2017-10-03 16:41:09.432172"], ["updated_at", "2017-10-03 16:41:09.432172"], ["provider", "facebook"], ["uid", "110639873022570"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 204ms (ActiveRecord: 58.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:41:09 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 96ms (Views: 95.1ms | ActiveRecord: 0.4ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:41:21 +0300
Processing by BattlesController#index as HTML
  [1m[35m (30.7ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (30.7ms)
  Rendered battles/index.html.erb within layouts/application (45.3ms)
Completed 200 OK in 220ms (Views: 163.3ms | ActiveRecord: 34.4ms)


Started GET "/top" for 127.0.0.1 at 2017-10-03 19:41:23 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 120ms (Views: 116.9ms | ActiveRecord: 1.5ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:41:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 3)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 120ms (Views: 117.0ms | ActiveRecord: 1.1ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 19:41:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-10-03 19:41:27 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 110ms (Views: 107.6ms | ActiveRecord: 1.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:41:29 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.1ms)
  Rendered battles/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 115ms (Views: 111.2ms | ActiveRecord: 1.2ms)


Started GET "/top" for 127.0.0.1 at 2017-10-03 19:41:30 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 110ms (Views: 108.4ms | ActiveRecord: 1.2ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:41:31 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.9ms)
  Rendered battles/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 118ms (Views: 114.6ms | ActiveRecord: 1.3ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 19:41:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:41:33 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 127ms (Views: 126.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:41:36 +0300
Started GET "/users/auth/facebook/callback?code=AQAK9u3n-9Ar1Iah47H3a4ofTIg053nbQX7pP1s7qh0PqRXsqpUmcxCiP91XoyUtltux03hkbaZ6CovXeJbDfwK2x83XeGCypV94Y-ESOS8De3B5lFOcjKgAuQS-_x8EcmWwTZ3nN9PTLUHZEMjPP2QwQgk80G7YhE-UHf4suaPE6EU2gqVEF-5wmbEcfVc1NFLZexAlSk9iiIvWe3QJOEBOH7XLLD3UkcYNV3XFp6x7IygoKKNzUYyiucrpFRAxza6F34lpEkUFwD-lBPmGQypObcBEzEf504TBoAXucF_Wzq1G33AbIL7X-Zd30COSmgqIQVTUSzdDcy-GBUc5HZaX&state=0770461c34a3a54e17861e5fcad618230c2d67f670056835" for 127.0.0.1 at 2017-10-03 19:41:37 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQAK9u3n-9Ar1Iah47H3a4ofTIg053nbQX7pP1s7qh0PqRXsqpUmcxCiP91XoyUtltux03hkbaZ6CovXeJbDfwK2x83XeGCypV94Y-ESOS8De3B5lFOcjKgAuQS-_x8EcmWwTZ3nN9PTLUHZEMjPP2QwQgk80G7YhE-UHf4suaPE6EU2gqVEF-5wmbEcfVc1NFLZexAlSk9iiIvWe3QJOEBOH7XLLD3UkcYNV3XFp6x7IygoKKNzUYyiucrpFRAxza6F34lpEkUFwD-lBPmGQypObcBEzEf504TBoAXucF_Wzq1G33AbIL7X-Zd30COSmgqIQVTUSzdDcy-GBUc5HZaX", "state"=>"0770461c34a3a54e17861e5fcad618230c2d67f670056835"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-10-03 16:41:37.909938"], ["sign_in_count", 2], ["updated_at", "2017-10-03 16:41:37.910766"], ["id", 12]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:41:37 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 101.9ms | ActiveRecord: 0.6ms)


Started GET "/photo/new.12" for 127.0.0.1 at 2017-10-03 19:42:00 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.8ms)
  Rendered photos/new.html.erb within layouts/application (6.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 117.7ms | ActiveRecord: 0.7ms)


Started POST "/photo" for 127.0.0.1 at 2017-10-03 19:42:18 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jh0b/2ViRoXn85IXB9A1cbkTucMikqdlLMPU1UnbawgNBtdIU926P2qbqqZnKr3dSdhlPhdGaBcqT6voNUQ8+Q==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f565c1fb1c0 @tempfile=#<Tempfile:/tmp/RackMultipart20171003-12850-l7rz2b.jpg>, @original_filename="44341_66651.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"44341_66651.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.8ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 12], ["source", "44341_66651.jpg"], ["created_at", "2017-10-03 16:42:18.900532"], ["updated_at", "2017-10-03 16:42:18.900532"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photo.9
Completed 302 Found in 399ms (ActiveRecord: 14.4ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 19:42:18 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 104.2ms | ActiveRecord: 0.7ms)


Started GET "/photo/edit.12" for 127.0.0.1 at 2017-10-03 19:42:21 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.5ms)
  Rendered photos/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 114ms (Views: 105.4ms | ActiveRecord: 0.9ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:42:24 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.8ms)
  Rendered battles/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.0ms | ActiveRecord: 1.5ms)


Started POST "/battles" for 127.0.0.1 at 2017-10-03 19:42:26 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"6"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (40.0ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 16:42:26.707091"], ["updated_at", "2017-10-03 16:42:26.707091"], ["photo_looser_id", 6], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1340.31], ["updated_at", "2017-10-03 16:42:26.766528"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1326.371], ["updated_at", "2017-10-03 16:42:26.769437"], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 16:42:26.771257"], ["count_battles", 24], ["count_win_battles", 17], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 16:42:26.772511"], ["count_battles", 24], ["count_loose_battles", 9], ["id", 6]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 4)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
Completed 200 OK in 92ms (Views: 7.6ms | ActiveRecord: 47.8ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 19:42:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:42:28 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 5)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (3.3ms)
  Rendered battles/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 104.0ms | ActiveRecord: 1.5ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 19:42:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-03 19:42:29 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"5", "photo_looser_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 16:42:29.443105"], ["updated_at", "2017-10-03 16:42:29.443105"], ["photo_looser_id", 3], ["photo_winner_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1343.84], ["updated_at", "2017-10-03 16:42:29.445818"], ["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1231.554], ["updated_at", "2017-10-03 16:42:29.448905"], ["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 16:42:29.450641"], ["count_battles", 25], ["count_win_battles", 18], ["id", 5]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 16:42:29.452013"], ["count_battles", 18], ["count_loose_battles", 17], ["id", 3]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (9, 8)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.4ms)
Completed 200 OK in 28ms (Views: 7.0ms | ActiveRecord: 7.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:42:31 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MLgXhU9mhUGd9ZvIiAI0Jn2XVEeTrEjmzUPH4xeC1i0bo9syedl5+xCdo3no+LyKjVyIuqZ4h5TLz7jeax2B3A=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:42:31 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 103ms (Views: 102.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:42:34 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 106ms (Views: 104.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:42:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XSnGUBZHzLbf7/Zr4HA0+ipa2ZHzKrAYUWIl7KoCHGNk6uWW1ECFZKxl5cUYmuZd2ksj1zzXMRfld+HIEpdmhw==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 133ms (ActiveRecord: 0.4ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XSnGUBZHzLbf7/Zr4HA0+ipa2ZHzKrAYUWIl7KoCHGNk6uWW1ECFZKxl5cUYmuZd2ksj1zzXMRfld+HIEpdmhw==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 246ms (Views: 115.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:42:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/LnTQaJIEM7S8quCqhlWFMrUtylmMndj0/ETyyA+QSjFevCHYE9ZHKF4uCxS84SzOsVNb6nP9mxn5NfvmKs7zA==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:42:46.689185"], ["last_sign_in_at", "2017-09-27 22:11:30.454130"], ["sign_in_count", 10], ["updated_at", "2017-10-03 16:42:46.690173"], ["id", 4]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:42:46 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 102.1ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-03 19:42:52 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (104.6ms)
Completed 200 OK in 114ms (Views: 108.5ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 19:42:54 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (125.9ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `capitalize' for nil:NilClass):
    1: insert_tag renderer_for(:index)
  
app/admin/user.rb:8:in `block (3 levels) in <top (required)>'
app/admin/user.rb:7:in `block (2 levels) in <top (required)>'
Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 19:43:19 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.1ms)
Completed 200 OK in 151ms (Views: 119.6ms | ActiveRecord: 4.3ms)


Started GET "/admin/users/12" for 127.0.0.1 at 2017-10-03 19:43:43 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/show.html.arb (82.9ms)
Completed 200 OK in 91ms (Views: 86.7ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:49:12 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (22.7ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 474ms (Views: 466.7ms | ActiveRecord: 7.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:49:15 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hXszz8QeuN0bMiHSVkBa9iEMmalpeKxLj7NVyE/WbUROxPhLcoYjK3KD+Of58CLn5TNOqazg6m18EKkbyQ+w0Q=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:49:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 108ms (Views: 107.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:49:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 113ms (Views: 112.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:49:20 +0300
Started GET "/users/auth/facebook/callback?code=AQDvIPzY5rQ8H2KjOpEtO5W6KXc78Dq6-do2O6ge7lRWALF7iyPB6XNxyNE1DALVYFfnA58uErfLwrcDersmRJWgB3coazkRmBqyqemBHe98fVpPlNDKei2AEvGP86yriqMSax3ZZF5-1AhHeQcHhQFtub7T8hJ3ZwICkW8K0FCJD8J9EbI2FlNSThc3GHXih15azSNllnG7x0zwdPQlvafRqsD4wrbQabAwFFeuylHX30YnsM0KVt0OfQPMQQGaJdK9IJBD6UidN9Ka8gcVPk4RKpkfYqNcSJzX3sRv8W7_afxu4Hi3Wu82osoxjKuZz-I6R0oC9pgzTFJiw4YJW-FJ&state=8092a38b04a0c4f76d9baed9da05f2a9f6402d594428317d" for 127.0.0.1 at 2017-10-03 19:49:20 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQDvIPzY5rQ8H2KjOpEtO5W6KXc78Dq6-do2O6ge7lRWALF7iyPB6XNxyNE1DALVYFfnA58uErfLwrcDersmRJWgB3coazkRmBqyqemBHe98fVpPlNDKei2AEvGP86yriqMSax3ZZF5-1AhHeQcHhQFtub7T8hJ3ZwICkW8K0FCJD8J9EbI2FlNSThc3GHXih15azSNllnG7x0zwdPQlvafRqsD4wrbQabAwFFeuylHX30YnsM0KVt0OfQPMQQGaJdK9IJBD6UidN9Ka8gcVPk4RKpkfYqNcSJzX3sRv8W7_afxu4Hi3Wu82osoxjKuZz-I6R0oC9pgzTFJiw4YJW-FJ", "state"=>"8092a38b04a0c4f76d9baed9da05f2a9f6402d594428317d"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:50:02.422293"], ["last_sign_in_at", "2017-10-03 16:41:37.909938"], ["sign_in_count", 3], ["updated_at", "2017-10-03 16:50:02.423864"], ["id", 12]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 41561ms (ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:50:02 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.6ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 113.0ms | ActiveRecord: 0.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:50:06 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"3ux/XlqPtOBoOCHz33E5wfh2IO9mbCdmN9UbQKAhD08vfVGfJK2dzZMrqtGnvAR7iGDIgvUfAR/dusI3RrcDhg=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:50:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 105ms (Views: 104.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:51:04 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.3ms)
Completed 200 OK in 458ms (Views: 437.3ms | ActiveRecord: 2.7ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:51:07 +0300
Started GET "/users/auth/facebook/callback?code=AQBsdhRIkl2-e8MrQQYT-1HXc_y_BntDy-J7_lwQtFkl0AndJVwAijnJKkYVn0yiZSffZOo2KauRESjP_EMpStafvozjJqGF63WnQLIFQptJUj9i69qEzg6izattMYJR_X8c58vkXAp0n8E1ldFSSHHXfBupqO2lDr0KQYcJZUTYRtsyymBFU4s7ePZpQpX47LW1eLQ5dfMRYUl2-QvuCwOm8EWsedTm3Aq5_yETceBCulg3jzLZZ4iTXpfsBHKha15KGqQ4dLDXNlHwSWJHSCGXRdQI_xSJDcrp9zfMHOVScsbBzW9kweRY-eSHuWMRYy9mRjzigrEdCgv7Xfr_mECN&state=728f13fff8e8db3de0030991ed57a7df7f9647e5c5a1070c" for 127.0.0.1 at 2017-10-03 19:51:07 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQBsdhRIkl2-e8MrQQYT-1HXc_y_BntDy-J7_lwQtFkl0AndJVwAijnJKkYVn0yiZSffZOo2KauRESjP_EMpStafvozjJqGF63WnQLIFQptJUj9i69qEzg6izattMYJR_X8c58vkXAp0n8E1ldFSSHHXfBupqO2lDr0KQYcJZUTYRtsyymBFU4s7ePZpQpX47LW1eLQ5dfMRYUl2-QvuCwOm8EWsedTm3Aq5_yETceBCulg3jzLZZ4iTXpfsBHKha15KGqQ4dLDXNlHwSWJHSCGXRdQI_xSJDcrp9zfMHOVScsbBzW9kweRY-eSHuWMRYy9mRjzigrEdCgv7Xfr_mECN", "state"=>"728f13fff8e8db3de0030991ed57a7df7f9647e5c5a1070c"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:51:15.422058"], ["last_sign_in_at", "2017-10-03 16:50:02.422293"], ["sign_in_count", 4], ["updated_at", "2017-10-03 16:51:15.423039"], ["id", 12]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7077ms (ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:51:15 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.0ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 115.2ms | ActiveRecord: 3.6ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 19:51:24 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 124ms (Views: 116.8ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:51:26 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 7)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.0ms)
  Rendered battles/index.html.erb within layouts/application (6.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 111.0ms | ActiveRecord: 2.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:51:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"k48BAOO1vQnxA78sF2W/KtUjQbpui4a/EeJKrHXdsdwOPgvszu5Llkik7aPtYW4ghaHjBaHHHXVeMrjx1qpM0g=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:51:29 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 108ms (Views: 107.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:51:31 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 110ms (Views: 109.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:51:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pflUsJyAqoYsNtAQj5Xd4QOAfSSxBqIx35rMUmv8ictFWTmQ82iSTd1vYXHlek8ichH4NIuYihEBCuqqjUTkIg==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:51:40.192485"], ["last_sign_in_at", "2017-10-03 16:42:46.689185"], ["sign_in_count", 11], ["updated_at", "2017-10-03 16:51:40.193401"], ["id", 4]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 157ms (ActiveRecord: 10.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:51:40 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.2ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 104.0ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-03 19:51:47 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (95.1ms)
Completed 200 OK in 101ms (Views: 97.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 19:51:48 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (117.5ms)
Completed 200 OK in 125ms (Views: 120.2ms | ActiveRecord: 1.4ms)


Started GET "/photo.8" for 127.0.0.1 at 2017-10-03 19:52:04 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 103.6ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:52:08 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ysTU5iIZPw5A8AGh2B9bGb9lUmuxokTMSHBSadwHsWp4B+VTjTK50Cu3SPttnk4v8bD5O+q/GGHEz133QL3K1Q=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:52:08 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 109ms (Views: 108.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:52:10 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 106ms (Views: 105.2ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:52:12 +0300
Started GET "/users/auth/facebook/callback?code=AQDW9N54-1h2bn6ljUyxDHpKBf0FpA39tTeSysxgb6VckHWQfeGVezIZdXgLL2CcpsHOhxjrHqR459fV8ZxK1yx8s7yuvWQpciBm-D_ahTLrNYIQhNw4L2HrHlQkr93y7_n90KUhfvoo7fj4w89Yig7dJYfHdHic9OPQH3UNpBfIi43isZpIgS4Wlf0d6840pXzNU_JNDKQN2UYkpGJDtp3hGlFxgSvx8RFMtfm-xL1F3ur6gIAd699cQ5hIFeIBhKpR2FL3MixyvgjBT6zVua-6gjeORDmMWUx_erFJ-uZXs1DevEGz0ujajLuwbFDF6V4sV57EiJgQgRNh93b0Htgw&state=93c4d3d8641613a75aa8e92c179507b9df807cd7924240bf" for 127.0.0.1 at 2017-10-03 19:52:12 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQDW9N54-1h2bn6ljUyxDHpKBf0FpA39tTeSysxgb6VckHWQfeGVezIZdXgLL2CcpsHOhxjrHqR459fV8ZxK1yx8s7yuvWQpciBm-D_ahTLrNYIQhNw4L2HrHlQkr93y7_n90KUhfvoo7fj4w89Yig7dJYfHdHic9OPQH3UNpBfIi43isZpIgS4Wlf0d6840pXzNU_JNDKQN2UYkpGJDtp3hGlFxgSvx8RFMtfm-xL1F3ur6gIAd699cQ5hIFeIBhKpR2FL3MixyvgjBT6zVua-6gjeORDmMWUx_erFJ-uZXs1DevEGz0ujajLuwbFDF6V4sV57EiJgQgRNh93b0Htgw", "state"=>"93c4d3d8641613a75aa8e92c179507b9df807cd7924240bf"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:52:26.580873"], ["last_sign_in_at", "2017-10-03 16:51:15.422058"], ["sign_in_count", 5], ["updated_at", "2017-10-03 16:52:26.581607"], ["id", 12]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 13472ms (ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:52:26 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 108.8ms | ActiveRecord: 0.8ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 19:52:29 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 110ms (Views: 103.8ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:53:08 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"V4rXF4bheLP79wWehTCvAcoLIFlrY01fqSCWYGd+QYWT0jMsU+Z0JOcPrNDLIXYy/D9otOIlrpXksF//sPz7KQ=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 4.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:53:08 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 441ms (Views: 440.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:53:11 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.3ms)
Completed 200 OK in 112ms (Views: 110.8ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:53:14 +0300
Started GET "/users/auth/facebook/callback?code=AQCKKo2h4CReNtdo1zXX2AUc0hNFxXodKEuvm-m-HQML8LesxQ0HlW-t34wKuxol16rKWt9qKyI7RaHXSt36lQ2yxdyutmUIMBXQXRZOr2ruDLa1UO4HvZ8LCzjUm1ftrWepebZWA93pxCcH-ip-wZA2xKBMF3bJ49YPTvw7NHjKRPZt02bXl8jWNUrx_4pL-yCYFJbviLIL-EgRQmg5fAfDjFSSrLv__Oqo8gcEkqA3OHO_1SD2ZPXETb5YOeYB_uWxfOVrhmK7odfYq4OvpPFhKxMJKF7FLm0Yw-DOBzZigb8ttLViG_GQuknHZOsRoDJfHbG7CbwQPAGKd01UuDSL&state=22732248a05ab0edb4c17e71f0fdcc0053438502c6125835" for 127.0.0.1 at 2017-10-03 19:53:14 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQCKKo2h4CReNtdo1zXX2AUc0hNFxXodKEuvm-m-HQML8LesxQ0HlW-t34wKuxol16rKWt9qKyI7RaHXSt36lQ2yxdyutmUIMBXQXRZOr2ruDLa1UO4HvZ8LCzjUm1ftrWepebZWA93pxCcH-ip-wZA2xKBMF3bJ49YPTvw7NHjKRPZt02bXl8jWNUrx_4pL-yCYFJbviLIL-EgRQmg5fAfDjFSSrLv__Oqo8gcEkqA3OHO_1SD2ZPXETb5YOeYB_uWxfOVrhmK7odfYq4OvpPFhKxMJKF7FLm0Yw-DOBzZigb8ttLViG_GQuknHZOsRoDJfHbG7CbwQPAGKd01UuDSL", "state"=>"22732248a05ab0edb4c17e71f0fdcc0053438502c6125835"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:54:12.535828"], ["last_sign_in_at", "2017-10-03 16:52:26.580873"], ["sign_in_count", 6], ["updated_at", "2017-10-03 16:54:12.536845"], ["id", 12]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 57250ms (ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:54:12 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 125.7ms | ActiveRecord: 3.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 19:54:30 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HilcuM3K/vSGseQ7s1TTfQZAnvLU72N29YcDrwqEJMqhUXV2JcIjF2XNHgBLgYJZGPFrKU1CDITWUO+zPfhj2Q=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:54:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 451ms (Views: 450.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 19:54:32 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 108ms (Views: 107.0ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 19:54:35 +0300
Started GET "/users/auth/facebook/callback?code=AQAs24Fn0XPXdhVtVyJilVxZcihktFO__byj2G7KGDI9pKXCPPm81tNKM4tqciqwGkrnX0C5-bqr7k6SA2DQhJaM4fdIpjqY4rrroDxbTF6D2Q422brH3yTGvjL-uy8YFf_ZxJFhwWZkzal84uxIRcyLImHPN5rODgN-lZ28SsANMcOcOVcVbbVPXNcHVcROMrA_PreeT6s1T3nIC3mmp2QpUYNe_zddOycnc0JHcY7LQoZwR-fPN7LhbHDUC0jPTZa7znFHhXeSfL_iEssDMu8TJJWNldwsNZepztacsHcitljXXE7oZveqTwAASw5DlxtxU4xU_FD0JLdV7mW_9Xt0&state=1b6a0acf5de94282d1ea147efffbe505fc8f4cff465ccf0f" for 127.0.0.1 at 2017-10-03 19:54:35 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQAs24Fn0XPXdhVtVyJilVxZcihktFO__byj2G7KGDI9pKXCPPm81tNKM4tqciqwGkrnX0C5-bqr7k6SA2DQhJaM4fdIpjqY4rrroDxbTF6D2Q422brH3yTGvjL-uy8YFf_ZxJFhwWZkzal84uxIRcyLImHPN5rODgN-lZ28SsANMcOcOVcVbbVPXNcHVcROMrA_PreeT6s1T3nIC3mmp2QpUYNe_zddOycnc0JHcY7LQoZwR-fPN7LhbHDUC0jPTZa7znFHhXeSfL_iEssDMu8TJJWNldwsNZepztacsHcitljXXE7oZveqTwAASw5DlxtxU4xU_FD0JLdV7mW_9Xt0", "state"=>"1b6a0acf5de94282d1ea147efffbe505fc8f4cff465ccf0f"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 16:54:36.879338"], ["last_sign_in_at", "2017-10-03 16:54:12.535828"], ["sign_in_count", 7], ["updated_at", "2017-10-03 16:54:36.881148"], ["id", 12]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1146ms (ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 19:54:36 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 129.9ms | ActiveRecord: 3.3ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 19:54:39 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 125ms (Views: 116.9ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 19:54:44 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (9, 8)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (7.3ms)
  Rendered battles/index.html.erb within layouts/application (8.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 129.6ms | ActiveRecord: 2.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:05:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MzzszhK/xvxYQu90L/dLE3EP0u8b6kr/h+wHbffM3PAgy+MrJ2MkAKE2FBycyOeFy7wy/Z8YrwRPmXRF3EB1OQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:05:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 103ms (Views: 102.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:05:03 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 115ms (Views: 114.8ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-03 20:05:06 +0300
  
OAuth::Unauthorized (400 Bad Request):
  
oauth (0.5.3) lib/oauth/consumer.rb:236:in `token_request'
oauth (0.5.3) lib/oauth/consumer.rb:155:in `get_request_token'
omniauth-oauth (1.1.0) lib/omniauth/strategies/oauth.rb:28:in `request_phase'
omniauth-twitter (1.4.0) lib/omniauth/strategies/twitter.rb:61:in `request_phase'
omniauth (1.7.0) lib/omniauth/strategy.rb:224:in `request_call'
omniauth (1.7.0) lib/omniauth/strategy.rb:187:in `call!'
omniauth (1.7.0) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.0) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.0) lib/omniauth/strategy.rb:168:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-03 20:06:24 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/auth/twitter/callback?oauth_token=25foSgAAAAAA2kzSAAABXuMz7U4&oauth_verifier=SCYiTrC1nNSCFj3Eg689XkAchl3wdy54" for 127.0.0.1 at 2017-10-03 20:06:28 +0300
Processing by CallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"25foSgAAAAAA2kzSAAABXuMz7U4", "oauth_verifier"=>"SCYiTrC1nNSCFj3Eg689XkAchl3wdy54"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "twitter"], ["uid", "915010745716404224"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "twitter915010745716404224@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["email", "twitter915010745716404224@mail.com"], ["encrypted_password", "$2a$11$RUVJh3MrvBfDVdu3e4hhI.7dzlT5HubK.CTRhYk2Pybz7pjHi5kre"], ["sign_in_count", 1], ["current_sign_in_at", "2017-10-03 17:06:29.101113"], ["last_sign_in_at", "2017-10-03 17:06:29.101113"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["created_at", "2017-10-03 17:06:29.101664"], ["updated_at", "2017-10-03 17:06:29.101664"], ["provider", "twitter"], ["uid", "915010745716404224"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 170ms (ActiveRecord: 6.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:06:29 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 440ms (Views: 438.7ms | ActiveRecord: 0.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:06:40 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 104ms (Views: 102.5ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-03 20:06:43 +0300
Started GET "/users/auth/twitter/callback?oauth_token=UVkzhwAAAAAA2kzSAAABXuM0NuM&oauth_verifier=3GcffYUPC9PicNstyKSFEWJsUkfKa7oy" for 127.0.0.1 at 2017-10-03 20:06:50 +0300
Processing by CallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"UVkzhwAAAAAA2kzSAAABXuM0NuM", "oauth_verifier"=>"3GcffYUPC9PicNstyKSFEWJsUkfKa7oy"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "twitter"], ["uid", "915010745716404224"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-10-03 17:06:51.240137"], ["sign_in_count", 2], ["updated_at", "2017-10-03 17:06:51.240933"], ["id", 13]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:06:51 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 13], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 114.8ms | ActiveRecord: 2.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 20:06:53 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (6.4ms)
  Rendered battles/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 13], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 113.9ms | ActiveRecord: 2.6ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 20:06:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/new.13" for 127.0.0.1 at 2017-10-03 20:06:57 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.4ms)
  Rendered photos/new.html.erb within layouts/application (5.2ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 13], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 109.1ms | ActiveRecord: 0.7ms)


Started POST "/photo" for 127.0.0.1 at 2017-10-03 20:07:05 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+kG7xBSXA0xeGabRa9P6XZ5Z1/9ZO37g4od2Wk9lJTxaCaRobIqCzELjhtajK9LBZoov+SK+IByWKG5opSSScQ==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f54e45f3508 @tempfile=#<Tempfile:/tmp/RackMultipart20171003-13469-5qsrcs.jpg>, @original_filename="44785_67827.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"44785_67827.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 13], ["source", "44785_67827.jpg"], ["created_at", "2017-10-03 17:07:05.717439"], ["updated_at", "2017-10-03 17:07:05.717439"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photo.10
Completed 302 Found in 38ms (ActiveRecord: 2.6ms)


Started GET "/photo.10" for 127.0.0.1 at 2017-10-03 20:07:05 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 13], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 116ms (Views: 110.7ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:08:06 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"bQqYeY0NoC5GiKakIm7IAXhPZJYnMWmSQ7ysY+N2SX7NQofV9RAhrlpyhqPqluCdgJyckFy0N243E7RRCTf+Mw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:08:06 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 114ms (Views: 113.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:08:09 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 119ms (Views: 117.6ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 20:08:11 +0300
Started GET "/users/auth/facebook/callback?code=AQCu8UL-cSxTFfpVz5otWWBieEGjZZaed2CILIbeMSn2Qg0dRaaCeK2CHsjfNKYRYF1-vXp6c3Mqt1ZCOT4KjloKwPT5egcNwh-B3EOE-bsGyxBIOiwVfmZVUw_3jlw6q0mFSd_3QfVmA55hw520tAxfmNkRDq7SiYQldMvPLa3kmcJ-tyu4bgASFZ_pAHUuDVwRkvxk44jXwJQJPa39y0TMctxmAXOIyUhYXy3ghmA6LdRZm2Qv5favC4uDWDLnGnL_-fYUCLDvfGuu2fYCYXDC8c1tea5Lxhv3fxdMYsrQs-l7BPaQ2Q7Egy3c_be_TSCJxn6wb-R7lxsENTHhG95P&state=fb1807eb416ec844de22a9127661844d7bcc807223c6be6d" for 127.0.0.1 at 2017-10-03 20:08:12 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQCu8UL-cSxTFfpVz5otWWBieEGjZZaed2CILIbeMSn2Qg0dRaaCeK2CHsjfNKYRYF1-vXp6c3Mqt1ZCOT4KjloKwPT5egcNwh-B3EOE-bsGyxBIOiwVfmZVUw_3jlw6q0mFSd_3QfVmA55hw520tAxfmNkRDq7SiYQldMvPLa3kmcJ-tyu4bgASFZ_pAHUuDVwRkvxk44jXwJQJPa39y0TMctxmAXOIyUhYXy3ghmA6LdRZm2Qv5favC4uDWDLnGnL_-fYUCLDvfGuu2fYCYXDC8c1tea5Lxhv3fxdMYsrQs-l7BPaQ2Q7Egy3c_be_TSCJxn6wb-R7lxsENTHhG95P", "state"=>"fb1807eb416ec844de22a9127661844d7bcc807223c6be6d"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 17:09:19.862301"], ["last_sign_in_at", "2017-10-03 16:54:36.879338"], ["sign_in_count", 8], ["updated_at", "2017-10-03 17:09:19.863145"], ["id", 12]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 67405ms (ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:09:19 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.0ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 109.8ms | ActiveRecord: 3.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:10:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"s4/kCa5K4UuGIhQWUNu3TNL7G/rfh4Ag13mi+B6QVuE/cCyjISW65a2vmHBT0mevnCXaJ0JQLSUdJXDCMrANaQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:10:01 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 137ms (Views: 136.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:10:03 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 145ms (Views: 143.8ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 20:10:06 +0300
Started GET "/users/auth/facebook/callback?code=AQBUPp5G-hIADsui37TyU20H9SI9jqNhCFv8ZVcPvnpyng9GtVpgsaBCwzsKKcJLZF2hXEm5_rKiJ4iutGMEWGFBHBe3O7Mojb3y9HENhdbvVgvnbaalHe8Dut4471rTddIRgPTcrwRWr52lAzzlok2hybqiknTrrfKf2hZcmK51Ovmf04vJMyauoj7nabVOq1VOFITgv2Tentbu6T7_oXM_jJipeS9bh8s03XL20tFPZPveX0FAMZED1roerp_lcy7GCRVG9cBm-JmJgY3NybTmTCWxYjXp6bG-JvmyoX9WQQBjSkyZctcxUr62yElRmrcmli7DSk92NODQt0Z3GhMS&state=41206286c519b0da8afb35f7d3f11f613593cbbef91a34c8" for 127.0.0.1 at 2017-10-03 20:10:06 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQBUPp5G-hIADsui37TyU20H9SI9jqNhCFv8ZVcPvnpyng9GtVpgsaBCwzsKKcJLZF2hXEm5_rKiJ4iutGMEWGFBHBe3O7Mojb3y9HENhdbvVgvnbaalHe8Dut4471rTddIRgPTcrwRWr52lAzzlok2hybqiknTrrfKf2hZcmK51Ovmf04vJMyauoj7nabVOq1VOFITgv2Tentbu6T7_oXM_jJipeS9bh8s03XL20tFPZPveX0FAMZED1roerp_lcy7GCRVG9cBm-JmJgY3NybTmTCWxYjXp6bG-JvmyoX9WQQBjSkyZctcxUr62yElRmrcmli7DSk92NODQt0Z3GhMS", "state"=>"41206286c519b0da8afb35f7d3f11f613593cbbef91a34c8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 17:10:50.804526"], ["last_sign_in_at", "2017-10-03 17:09:19.862301"], ["sign_in_count", 9], ["updated_at", "2017-10-03 17:10:50.805618"], ["id", 12]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 43540ms (ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:10:50 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.3ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 99.8ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:11:14 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4B5DQfWePQMqpum5ZmfAfAImIBCEdMdlXMNxNUsbD750A60eXy56wxY0d1NMOEjgefJbqujLan1GUPYjlPIoIg=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:11:14 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 449ms (Views: 448.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:11:16 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 105ms (Views: 104.2ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 20:11:18 +0300
Started GET "/users/auth/facebook/callback?code=AQAeJQeBnnu6dThS6JwNQrBmnXF_9HRHH9ziig2FQD6k3tw36NzrGu_yhvjw_bs68HTzk0duOzGeEv9FLHCJbZBxgbMqHIZdX8CTS6TNlgV-eOLVC0iiClqpwcaq_7FF0H0Sse423kyKFjzx8RSYVzdbQ8UUUAUTejgdHM9qrHs_PXonavkYfNbprrXZkSeRVSQajrffwC2DKB0IJwTzfeRg-F9bZuKSlN2jpnKQQeZ7RNelQ3y844LYORot90JL4N37obUfbTf1XTlmIjqB0hzJKFrGGZNEEKOFqdL-pn55y9YPJim3SmN40wdgJpPcspvvGqDy9OhnbHRKOK9DPP_7&state=6d1235d640fc7f580dcdfdfcee017e1041c213b539abf7cf" for 127.0.0.1 at 2017-10-03 20:11:19 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQAeJQeBnnu6dThS6JwNQrBmnXF_9HRHH9ziig2FQD6k3tw36NzrGu_yhvjw_bs68HTzk0duOzGeEv9FLHCJbZBxgbMqHIZdX8CTS6TNlgV-eOLVC0iiClqpwcaq_7FF0H0Sse423kyKFjzx8RSYVzdbQ8UUUAUTejgdHM9qrHs_PXonavkYfNbprrXZkSeRVSQajrffwC2DKB0IJwTzfeRg-F9bZuKSlN2jpnKQQeZ7RNelQ3y844LYORot90JL4N37obUfbTf1XTlmIjqB0hzJKFrGGZNEEKOFqdL-pn55y9YPJim3SmN40wdgJpPcspvvGqDy9OhnbHRKOK9DPP_7", "state"=>"6d1235d640fc7f580dcdfdfcee017e1041c213b539abf7cf"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 17:11:21.051110"], ["last_sign_in_at", "2017-10-03 17:10:50.804526"], ["sign_in_count", 10], ["updated_at", "2017-10-03 17:11:21.051948"], ["id", 12]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1404ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:11:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (1.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 127.0ms | ActiveRecord: 3.3ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 20:11:24 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 115ms (Views: 109.2ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 20:11:31 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.3ms)
  Rendered battles/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 108.1ms | ActiveRecord: 1.6ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 20:11:31 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 20:11:31 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top" for 127.0.0.1 at 2017-10-03 20:11:33 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (11.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 113.1ms | ActiveRecord: 2.3ms)


Started GET "/photo/edit.12" for 127.0.0.1 at 2017-10-03 20:11:34 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.5ms)
  Rendered photos/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 117ms (Views: 111.1ms | ActiveRecord: 0.6ms)


Started GET "/photo.9" for 127.0.0.1 at 2017-10-03 20:11:36 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 123ms (Views: 117.2ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:11:45 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fIZC9cic5LFR8XY2g2CQ88juCxpUDYve/Oe2wWw/w1e4ovGag5v/+13uHhKvnD7VGCiZtLdkEibG41eM+Vb29g=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:11:45 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 111ms (Views: 110.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:11:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 125ms (Views: 124.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:11:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ay4U+bAlE/8clhaLBIvoiTGp8UxMTtQJGzzn6Z6a2xAuloBT9xY7md7oz5hTp1IHhBuQVhMddE/G20ySrefxyQ==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 17:11:58.821364"], ["last_sign_in_at", "2017-10-03 16:51:40.192485"], ["sign_in_count", 12], ["updated_at", "2017-10-03 17:11:58.822310"], ["id", 4]]
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 18.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:11:58 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.2ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 104.1ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-03 20:12:03 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (91.7ms)
Completed 200 OK in 99ms (Views: 95.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:12:05 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (124.3ms)
Completed 200 OK in 132ms (Views: 127.0ms | ActiveRecord: 1.4ms)


Started DELETE "/admin/users/13" for 127.0.0.1 at 2017-10-03 20:12:10 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"zsw/fxWyJYvKRd21qaKsUbzlLMEuF6qxYym7bZn0zCVBngtBAJfxdccIwo5XxbIWxot7Yp/U6yUY+Hw5NQIh3A==", "id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 13]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:12:10 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (119.4ms)
Completed 200 OK in 126ms (Views: 121.6ms | ActiveRecord: 1.4ms)


Started DELETE "/admin/users/12" for 127.0.0.1 at 2017-10-03 20:12:13 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HD+GpDSljy6+3lbkkTupIQZf3hG0+bFbVbPA28+yPaCTbbKaIYBb0LOTSd9vXLdmfDGJsgU68M8uYgePY0TQWQ==", "id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 12]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 17ms (ActiveRecord: 4.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:12:13 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (125.4ms)
Completed 200 OK in 132ms (Views: 127.8ms | ActiveRecord: 1.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 20:12:15 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.5ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (158.2ms)
Completed 200 OK in 165ms (Views: 156.0ms | ActiveRecord: 6.0ms)


Started DELETE "/admin/photos/10" for 127.0.0.1 at 2017-10-03 20:12:26 +0300
Processing by Admin::PhotosController#destroy as HTML
  Parameters: {"authenticity_token"=>"pBtzod2HPWISf7LuGV4F1/id8BIo1YoAKqUhO8KbwmYrSUefyKLpnB8yrdXnORuQgvOnsZkWy5RRdOZvbm0vnw==", "id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 10]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/photos
Completed 302 Found in 17ms (ActiveRecord: 2.9ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 20:12:26 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (164.4ms)
Completed 200 OK in 171ms (Views: 164.8ms | ActiveRecord: 3.4ms)


Started DELETE "/admin/photos/9" for 127.0.0.1 at 2017-10-03 20:12:29 +0300
Processing by Admin::PhotosController#destroy as HTML
  Parameters: {"authenticity_token"=>"xImjABlhftAzIataEUfucTbYRbBD/Cl7VEJacgZKMG1L25c+DESqLj5stGHvIPA2TLYSE/I/aO8vk50mqrzdlA==", "id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 9]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/photos
Completed 302 Found in 18ms (ActiveRecord: 3.3ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 20:12:29 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.4ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (150.5ms)
Completed 200 OK in 157ms (Views: 151.1ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:14:06 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (22.5ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 487ms (Views: 478.6ms | ActiveRecord: 7.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:14:09 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kFgS/9RK2ayBywsTAtPzA2sW3LkdWwwcnX7hqXNQeGcfCibBwW8NUoyGFCj8tO1EEXiLGqyYTYjmryb936aVng=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:14:09 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 97ms (Views: 96.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:14:11 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 113ms (Views: 112.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 20:14:14 +0300
Started GET "/users/auth/facebook/callback?code=AQAwF5o163h3FOyc3KTLTmDGpVhbIv27IODoRYUu-3RGHpfHQrw0oORo4WcgRuuYdUWoHlL2GUIpxF0R94l2uUp_kUL6ZbHme4xTtrkUgAzbnY715Zv_cLpMAa3Cbv5c-eODHFyZUJgOqKvrVkqsvV2v_gtLN9jz0adafTts-9MEtNVaCCwC9IV7EqzYyzLviK2ovdeXD8NUqHN1Mlww5YG9P5CenzYsw0U5yNEsAK2ZPLk-4RmCTZGRFnopeisDAEsRWrEj-2thVjCaacWnSEeFzqF4r_E2-AeXHUsqTQiLUyxfK6NyauawANKL_8Ts-8ny9iBo1x6PfyhmdI-P_XJ9&state=47fe4aa00c96e0c1b488664aa00abc0169ebf90290bb8f01" for 127.0.0.1 at 2017-10-03 20:14:14 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQAwF5o163h3FOyc3KTLTmDGpVhbIv27IODoRYUu-3RGHpfHQrw0oORo4WcgRuuYdUWoHlL2GUIpxF0R94l2uUp_kUL6ZbHme4xTtrkUgAzbnY715Zv_cLpMAa3Cbv5c-eODHFyZUJgOqKvrVkqsvV2v_gtLN9jz0adafTts-9MEtNVaCCwC9IV7EqzYyzLviK2ovdeXD8NUqHN1Mlww5YG9P5CenzYsw0U5yNEsAK2ZPLk-4RmCTZGRFnopeisDAEsRWrEj-2thVjCaacWnSEeFzqF4r_E2-AeXHUsqTQiLUyxfK6NyauawANKL_8Ts-8ny9iBo1x6PfyhmdI-P_XJ9", "state"=>"47fe4aa00c96e0c1b488664aa00abc0169ebf90290bb8f01"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "facebook110639873022570@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "provider", "uid") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "facebook110639873022570@mail.com"], ["encrypted_password", "$2a$11$g5ltV38WGfdr7bPrK9arL.ipMe1QBepATN3obz.QsuN1L0C8ZDkVq"], ["created_at", "2017-10-03 17:14:19.591242"], ["updated_at", "2017-10-03 17:14:19.591242"], ["name", "Yaroslav Tyagelsky"], ["provider", "facebook"], ["uid", "110639873022570"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-10-03 17:14:19.594773"], ["last_sign_in_at", "2017-10-03 17:14:19.594773"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-10-03 17:14:19.595574"], ["id", 14]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4752ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:14:19 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.1ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 14], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.3ms | ActiveRecord: 0.7ms)


Started GET "/photo/new.14" for 127.0.0.1 at 2017-10-03 20:14:23 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (2.1ms)
  Rendered photos/new.html.erb within layouts/application (4.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 14], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 109.9ms | ActiveRecord: 0.7ms)


Started POST "/photo" for 127.0.0.1 at 2017-10-03 20:14:30 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WEw9XrUkWegVDjZHiFfjaCIgUYvJeGxpOUKoyLPM2nMuYZdyD01lhMeeUUdpccDEUqiMUYoTOE/nbt/j1RPVXA==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f79e4a84bb0 @tempfile=#<Tempfile:/tmp/RackMultipart20171003-13801-zq41yu.jpg>, @original_filename="44341_66651.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"44341_66651.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 14], ["source", "44341_66651.jpg"], ["created_at", "2017-10-03 17:14:30.421543"], ["updated_at", "2017-10-03 17:14:30.421543"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photo.11
Completed 302 Found in 40ms (ActiveRecord: 3.1ms)


Started GET "/photo.11" for 127.0.0.1 at 2017-10-03 20:14:30 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 14], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 109ms (Views: 103.6ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:14:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eLWOucTn8ImV7h/CAAoMK+6C2irHEGpM3AgyKShjDNYOmCSVfo7M5Ud+eMLhLC+HngoH8IR7PmoCJEUCTrwD+Q=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:14:39 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 98ms (Views: 97.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:14:42 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 112ms (Views: 111.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:14:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0v+oZPttNDDqA/c0+B+JIMAZudcXaBoGZ0OaxwBvlv6oAxfsMBfhJntEg35smnEfOxDIIAiE+6Ae1/q2dA6hlg==", "user"=>{"email"=>"tyagelsky@yandex.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "tyagelsky@yandex.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-10-03 17:14:50.229086"], ["last_sign_in_at", "2017-10-03 17:11:58.821364"], ["sign_in_count", 13], ["updated_at", "2017-10-03 17:14:50.229992"], ["id", 4]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 155ms (ActiveRecord: 13.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:14:50 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.2ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-10-03 20:14:56 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/page/index.html.arb (84.1ms)
Completed 200 OK in 90ms (Views: 86.2ms | ActiveRecord: 0.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:14:58 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (130.0ms)
Completed 200 OK in 137ms (Views: 132.6ms | ActiveRecord: 1.2ms)


Started DELETE "/admin/users/14" for 127.0.0.1 at 2017-10-03 20:15:02 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"um+F/9jlPhrmyyZg+R/dnJLaiCrK96uhJ5xXaAXbRsGxVMxxF05Ff0M6lIoDHz5zm/XvodZBCAi1mZEehEqlng==", "id"=>"14"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 11]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 14]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 19ms (ActiveRecord: 3.3ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:15:02 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (146.5ms)
Completed 200 OK in 154ms (Views: 149.2ms | ActiveRecord: 1.1ms)


Started GET "/admin/photos" for 127.0.0.1 at 2017-10-03 20:15:03 +0300
Processing by Admin::PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mBattle Load (0.6ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  [1m[36mCACHE Battle Load (0.0ms)[0m  [1m[34mSELECT "battles".* FROM "battles"[0m
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (196.0ms)
Completed 200 OK in 204ms (Views: 196.4ms | ActiveRecord: 4.5ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-10-03 20:15:06 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  Rendered /home/yaroslav/.rvm/gems/ruby-2.3.1@rails_test/gems/activeadmin-1.1.0/app/views/active_admin/resource/index.html.arb (109.4ms)
Completed 200 OK in 116ms (Views: 111.9ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:48:48 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (23.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
Completed 200 OK in 560ms (Views: 551.8ms | ActiveRecord: 7.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 20:48:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+n7DEgo8tctE324K7Hk106E96d7acBS3jMjvKKDgEYDxRYqcxZfOruEu3OAWedY8qBKOVcbGtx4ezSleIXHy3w=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 20:48:51 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 118ms (Views: 117.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 20:48:53 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.5ms)
Completed 200 OK in 117ms (Views: 116.0ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 20:48:54 +0300
Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-03 20:49:01 +0300
  
OAuth::Unauthorized (400 Bad Request):
  
oauth (0.5.3) lib/oauth/consumer.rb:236:in `token_request'
oauth (0.5.3) lib/oauth/consumer.rb:155:in `get_request_token'
omniauth-oauth (1.1.0) lib/omniauth/strategies/oauth.rb:28:in `request_phase'
omniauth-twitter (1.4.0) lib/omniauth/strategies/twitter.rb:61:in `request_phase'
omniauth (1.7.0) lib/omniauth/strategy.rb:224:in `request_call'
omniauth (1.7.0) lib/omniauth/strategy.rb:187:in `call!'
omniauth (1.7.0) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.0) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.0) lib/omniauth/strategy.rb:168:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 22:09:20 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/auth/facebook/callback?code=AQDNOXuGEKtQ2MLu_VU7qgGkEjfFfjnJLc0CehJEf4Ccou9L2L7rdlSsGM3jKqD14II8W8qpStcprFcLdO24UOXRXcjDBPcR5g8JDmxmBR_3ikS6E-BI1BO3TSinGiQPWAo9UntwDHlYCldeUkCRGS5_9tZ7a-e--Dav4xIw0iidTxYdGhxfndQtV2QwHGpU_ju-CjcDco1JeKDaMZOljNPBe9VUQk9bMtXwjzl-dpU8oEni7F_u2ecq4EY3_bUCiIoniY7VDHA241pQZFByh_Jorv4--Haaj7KJJ0J58Sqs3vQeDxYumeFH_wmLNTWOMaakb69WlNavqO5kqQhMw_i_&state=c8c6e5a8c51b3b9fa4a86e651a5e488071f1e310781c64c1" for 127.0.0.1 at 2017-10-03 22:09:20 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQDNOXuGEKtQ2MLu_VU7qgGkEjfFfjnJLc0CehJEf4Ccou9L2L7rdlSsGM3jKqD14II8W8qpStcprFcLdO24UOXRXcjDBPcR5g8JDmxmBR_3ikS6E-BI1BO3TSinGiQPWAo9UntwDHlYCldeUkCRGS5_9tZ7a-e--Dav4xIw0iidTxYdGhxfndQtV2QwHGpU_ju-CjcDco1JeKDaMZOljNPBe9VUQk9bMtXwjzl-dpU8oEni7F_u2ecq4EY3_bUCiIoniY7VDHA241pQZFByh_Jorv4--Haaj7KJJ0J58Sqs3vQeDxYumeFH_wmLNTWOMaakb69WlNavqO5kqQhMw_i_", "state"=>"c8c6e5a8c51b3b9fa4a86e651a5e488071f1e310781c64c1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "facebook110639873022570@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "provider", "uid") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "facebook110639873022570@mail.com"], ["encrypted_password", "$2a$11$Ho8LJHrCKGXXZmDVTzFb7eYVTcW5BTubaW3q2Ls5karqk73XSR6k6"], ["created_at", "2017-10-03 19:09:29.086355"], ["updated_at", "2017-10-03 19:09:29.086355"], ["name", "Yaroslav Tyagelsky"], ["provider", "facebook"], ["uid", "110639873022570"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-10-03 19:09:29.090215"], ["last_sign_in_at", "2017-10-03 19:09:29.090215"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-10-03 19:09:29.091173"], ["id", 15]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7826ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 22:09:29 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 15], ["LIMIT", 1]]
Completed 200 OK in 583ms (Views: 580.0ms | ActiveRecord: 2.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 22:09:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JjNdOwXI04079qOJrsb27H6qLmO8n4sywhCT6GroiKvKwPJK1Q+D/0LyG/Ista5ZoImlFNWB0B5jppE+LLyqkA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 22:09:34 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 106ms (Views: 105.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 22:09:36 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 135ms (Views: 134.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-03 22:09:39 +0300
Started GET "/users/auth/twitter/callback?oauth_token=64R53QAAAAAA2kzSAAABXuOkwuk&oauth_verifier=16o2EMQESN6jAKKDkY8wzC0mucEgiyKL" for 127.0.0.1 at 2017-10-03 22:09:42 +0300
Processing by CallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"64R53QAAAAAA2kzSAAABXuOkwuk", "oauth_verifier"=>"16o2EMQESN6jAKKDkY8wzC0mucEgiyKL"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "twitter"], ["uid", "915010745716404224"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "twitter915010745716404224@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name", "provider", "uid") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "twitter915010745716404224@mail.com"], ["encrypted_password", "$2a$11$Vqs/3CMLHmfuYSdL3rwxDerNVN5RgWEUQyovDy0GiWpZThwsaPgtq"], ["created_at", "2017-10-03 19:09:43.397337"], ["updated_at", "2017-10-03 19:09:43.397337"], ["name", "Yaroslav"], ["provider", "twitter"], ["uid", "915010745716404224"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-10-03 19:09:43.400533"], ["last_sign_in_at", "2017-10-03 19:09:43.400533"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-10-03 19:09:43.401115"], ["id", 16]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 22:09:43 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (1.9ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 113.0ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 22:09:48 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (9.1ms)
  Rendered battles/index.html.erb within layouts/application (9.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 119.1ms | ActiveRecord: 3.3ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 22:09:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-03 22:09:50 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"2"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 19:09:50.747503"], ["updated_at", "2017-10-03 19:09:50.747503"], ["photo_looser_id", 2], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1325.673], ["updated_at", "2017-10-03 19:09:50.754318"], ["id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1224.201], ["updated_at", "2017-10-03 19:09:50.758303"], ["id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 19:09:50.761175"], ["count_battles", 18], ["count_win_battles", 12], ["id", 8]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 19:09:50.763879"], ["count_battles", 24], ["count_loose_battles", 21], ["id", 2]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 5)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.3ms)
Completed 200 OK in 45ms (Views: 8.2ms | ActiveRecord: 9.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-03 22:09:51 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (7, 2)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.6ms)
  Rendered battles/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 114.6ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 22:09:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-03 22:09:53 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"7", "photo_looser_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 19:09:53.347299"], ["updated_at", "2017-10-03 19:09:53.347299"], ["photo_looser_id", 2], ["photo_winner_id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1349.435], ["updated_at", "2017-10-03 19:09:53.350035"], ["id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1220.887], ["updated_at", "2017-10-03 19:09:53.353270"], ["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 19:09:53.355325"], ["count_battles", 16], ["count_win_battles", 14], ["id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 19:09:53.356962"], ["count_battles", 25], ["count_loose_battles", 22], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (6, 2)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (27.7ms)
Completed 200 OK in 51ms (Views: 31.1ms | ActiveRecord: 5.8ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-03 22:09:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-03 22:10:20 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"O03NtvlNHY0CGay/+lgr4WfP08GP+kl11p1ZZE+w3gWr/UIdQGZvAzoNf4q3qSmLuyl+kftTuGQmSS1vjVWcUg=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 22:10:20 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 463ms (Views: 461.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-03 22:10:22 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 114ms (Views: 112.5ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-03 22:10:24 +0300
Started GET "/users/auth/facebook/callback?code=AQC2PDblZtzjan1L4JAs0dTsu6wI4rYZ8-xGZmdOrRM1utfKM8zYDdK86ZRNN8B8B2pDDxcS6ZoBAkVwCmHqeQz-XtoknpvNEYs_vbLf5ymSjlpL-38GKNr3XkiVOWFPUxSecMoIQdLPwfiUiNlijxBsskQ7ynR9D8vdoEotM9l8ddH8j-Ee3GKz_QIhcMruAEhTGYMiws7If9gMPuipB2iYsOZMUJuP5dWFny3VD51hDH-QwNIGcsunsUMVyBGbZUM-j5mJGgcWL0fRIZx2IxKdNLlEf4R_kaj8iZCcVqazueJx7J8vQe7a-wA5XNDPGH_nrmzEvCrl43acsxiAFaal&state=4e0d86185f9ec6d727f90942060f9e86d3e2021969b81d24" for 127.0.0.1 at 2017-10-03 22:10:24 +0300
Processing by CallbacksController#facebook as HTML
  Parameters: {"code"=>"AQC2PDblZtzjan1L4JAs0dTsu6wI4rYZ8-xGZmdOrRM1utfKM8zYDdK86ZRNN8B8B2pDDxcS6ZoBAkVwCmHqeQz-XtoknpvNEYs_vbLf5ymSjlpL-38GKNr3XkiVOWFPUxSecMoIQdLPwfiUiNlijxBsskQ7ynR9D8vdoEotM9l8ddH8j-Ee3GKz_QIhcMruAEhTGYMiws7If9gMPuipB2iYsOZMUJuP5dWFny3VD51hDH-QwNIGcsunsUMVyBGbZUM-j5mJGgcWL0fRIZx2IxKdNLlEf4R_kaj8iZCcVqazueJx7J8vQe7a-wA5XNDPGH_nrmzEvCrl43acsxiAFaal", "state"=>"4e0d86185f9ec6d727f90942060f9e86d3e2021969b81d24"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "facebook"], ["uid", "110639873022570"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-10-03 19:10:30.060987"], ["sign_in_count", 2], ["updated_at", "2017-10-03 19:10:30.061726"], ["id", 15]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4761ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-03 22:10:30 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.2ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 15], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 122.8ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-04 00:05:55 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (23.6ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 15], ["LIMIT", 1]]
Completed 200 OK in 1142ms (Views: 1135.3ms | ActiveRecord: 5.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-04 00:05:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"INMQCXizFZ4zdKnHd1pAsfes/GzLarpJ7Ys56p2h3JDFYcy8AaM+l1qpbZ+UoX5e8UpPn+oQYJbi2f9DE5jH9w=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-04 00:05:59 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 126ms (Views: 125.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-04 00:06:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 150ms (Views: 148.1ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-10-04 00:06:03 +0300
Started GET "/users/auth/twitter" for 127.0.0.1 at 2017-10-04 00:06:12 +0300
Started GET "/users/auth/twitter/callback?oauth_token=tPezlAAAAAAA2kzSAAABXuQPejc&oauth_verifier=sdnEOxkaFLczd3t3XLe8RadTz8W4NY8r" for 127.0.0.1 at 2017-10-04 00:06:19 +0300
Processing by CallbacksController#twitter as HTML
  Parameters: {"oauth_token"=>"tPezlAAAAAAA2kzSAAABXuQPejc", "oauth_verifier"=>"sdnEOxkaFLczd3t3XLe8RadTz8W4NY8r"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 ORDER BY "users"."id" ASC LIMIT $3[0m  [["provider", "twitter"], ["uid", "915010745716404224"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-10-03 21:06:21.112521"], ["sign_in_count", 2], ["updated_at", "2017-10-03 21:06:21.113260"], ["id", 16]]
  [1m[35m (27.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 28.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-04 00:06:21 +0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.2ms)
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 107.9ms | ActiveRecord: 0.7ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-04 00:06:25 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (2, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (7.9ms)
  Rendered battles/index.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 128.4ms | ActiveRecord: 2.7ms)


Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-04 00:06:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/battles" for 127.0.0.1 at 2017-10-04 00:06:28 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"2"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 21:06:28.348402"], ["updated_at", "2017-10-03 21:06:28.348402"], ["photo_looser_id", 2], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1329.898], ["updated_at", "2017-10-03 21:06:28.375404"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1217.36], ["updated_at", "2017-10-03 21:06:28.378930"], ["id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:06:28.382198"], ["count_battles", 25], ["count_win_battles", 16], ["id", 6]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:06:28.384916"], ["count_battles", 26], ["count_loose_battles", 23], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 5)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.9ms)
Completed 200 OK in 65ms (Views: 7.7ms | ActiveRecord: 9.1ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-04 00:06:29 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (8, 4)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.6ms)
  Rendered battles/index.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 123.3ms | ActiveRecord: 2.1ms)


Started POST "/battles" for 127.0.0.1 at 2017-10-04 00:06:30 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"8", "photo_looser_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 21:06:30.727229"], ["updated_at", "2017-10-03 21:06:30.727229"], ["photo_looser_id", 4], ["photo_winner_id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1330.336], ["updated_at", "2017-10-03 21:06:30.730318"], ["id", 8]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1297.577], ["updated_at", "2017-10-03 21:06:30.733765"], ["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:06:30.736062"], ["count_battles", 19], ["count_win_battles", 13], ["id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:06:30.737749"], ["count_battles", 19], ["count_loose_battles", 10], ["id", 4]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (3, 2)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.0ms)
Completed 200 OK in 29ms (Views: 7.9ms | ActiveRecord: 5.7ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-04 00:06:30 +0300
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-04 00:06:30 +0300
  
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photo/new.16" for 127.0.0.1 at 2017-10-04 00:06:39 +0300
Processing by PhotosController#new as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/_form.html.erb (3.0ms)
  Rendered photos/new.html.erb within layouts/application (6.6ms)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 158ms (Views: 152.1ms | ActiveRecord: 0.7ms)


Started POST "/photo" for 127.0.0.1 at 2017-10-04 00:06:52 +0300
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YiEK4e8YaUvFVMLnDj7Qh4+ysFESHx+3LIl6HfnfOYCiDrVpSLTVIglHPs9KH7mEeM2U0Szdq0EcIficK/ouig==", "photo"=>{"source"=>#<ActionDispatch::Http::UploadedFile:0x007f9914732dc8 @tempfile=#<Tempfile:/tmp/RackMultipart20171004-19244-1xols9c.jpg>, @original_filename="44802_67967.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[source]\"; filename=\"44802_67967.jpg\"\r\nContent-Type: image/jpeg\r\n">, "source_cache"=>""}, "commit"=>"Create Photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
Unpermitted parameter: :source_cache
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "source", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 16], ["source", "44802_67967.jpg"], ["created_at", "2017-10-03 21:06:52.924153"], ["updated_at", "2017-10-03 21:06:52.924153"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photo.12
Completed 302 Found in 261ms (ActiveRecord: 11.2ms)


Started GET "/photo.12" for 127.0.0.1 at 2017-10-04 00:06:52 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 126ms (Views: 118.7ms | ActiveRecord: 0.7ms)


Started GET "/photo.12" for 127.0.0.1 at 2017-10-04 00:06:56 +0300
Processing by PhotosController#show as 
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 149ms (Views: 143.6ms | ActiveRecord: 0.5ms)


Started GET "/photo/edit.16" for 127.0.0.1 at 2017-10-04 00:06:58 +0300
Processing by PhotosController#edit as 
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  Rendering photos/edit.html.erb within layouts/application
  Rendered photos/_form.html.erb (1.9ms)
  Rendered photos/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 169ms (Views: 161.4ms | ActiveRecord: 0.6ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-04 00:06:59 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (5, 6)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (5.4ms)
  Rendered battles/index.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 169ms (Views: 164.5ms | ActiveRecord: 1.9ms)


Started POST "/battles" for 127.0.0.1 at 2017-10-04 00:07:02 +0300
Processing by BattlesController#create as */*
  Parameters: {"photo_winner_id"=>"6", "photo_looser_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "battles" ("created_at", "updated_at", "photo_looser_id", "photo_winner_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2017-10-03 21:07:02.230044"], ["updated_at", "2017-10-03 21:07:02.230044"], ["photo_looser_id", 5], ["photo_winner_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1335.099], ["updated_at", "2017-10-03 21:07:02.233763"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "rating" = $1, "updated_at" = $2 WHERE "photos"."id" = $3[0m  [["rating", 1338.639], ["updated_at", "2017-10-03 21:07:02.238243"], ["id", 5]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_win_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:07:02.240653"], ["count_battles", 26], ["count_win_battles", 17], ["id", 6]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "photos" SET "updated_at" = $1, "count_battles" = $2, "count_loose_battles" = $3 WHERE "photos"."id" = $4[0m  [["updated_at", "2017-10-03 21:07:02.242555"], ["count_battles", 26], ["count_loose_battles", 8], ["id", 5]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (12, 7)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.3ms)
Completed 200 OK in 36ms (Views: 7.0ms | ActiveRecord: 11.8ms)


Started GET "/battles" for 127.0.0.1 at 2017-10-04 00:07:03 +0300
Processing by BattlesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "photos"."id" FROM "photos"[0m
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" IN (4, 12)[0m
  Rendering battles/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered battles/_members_photos.html.erb (4.5ms)
  Rendered battles/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 119.2ms | ActiveRecord: 1.9ms)


Started GET "/top" for 127.0.0.1 at 2017-10-04 00:07:06 +0300
Processing by TopController#index as HTML
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 123.7ms | ActiveRecord: 2.3ms)


Started GET "/top?page=2" for 127.0.0.1 at 2017-10-04 00:07:08 +0300
Processing by TopController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (10.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 146ms (Views: 143.1ms | ActiveRecord: 1.9ms)


Started GET "/uploads/photo/source/3/thumb_img3.jpg" for 127.0.0.1 at 2017-10-04 00:07:09 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/3/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/uploads/photo/source/2/thumb_img3.jpg" for 127.0.0.1 at 2017-10-04 00:07:09 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/photo/source/2/thumb_img3.jpg"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/top?page=1" for 127.0.0.1 at 2017-10-04 00:07:12 +0300
Processing by TopController#index as HTML
  Parameters: {"page"=>"1"}
  Rendering top/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."rating" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered top/index.html.erb within layouts/application (11.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 129.9ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-05 19:38:57 +0300
  [1m[35m (21.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  [1m[36mUser Load (16.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (45.9ms)
  [1m[36mPhoto Load (39.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
Completed 200 OK in 700ms (Views: 631.5ms | ActiveRecord: 67.0ms)


